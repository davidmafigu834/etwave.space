import{r as l,j as e}from"./ui-DwAOVm1p.js";import{P as S}from"./page-template-8tWNB1WX.js";import{u as q,K as P,B as j,k as T}from"./app-BlWi7cIv.js";import{S as E}from"./scroll-area-BnUlm4mg.js";import{T as k}from"./toaster-B42TVNxN.js";import C from"./referral-dashboard-DjcSiliD.js";import D from"./payout-requests-CIjJ_zLC.js";import I from"./referral-settings-CoEkkymj.js";import{C as U}from"./chart-column-CrjmBQBc.js";import{U as B}from"./users-WU9ta9Er.js";import{D as L}from"./dollar-sign-B5K61QeY.js";import{S as A}from"./settings-CXB8R1cS.js";import"./vendor-CxtKjBZA.js";import"./textarea-DmNeUOf1.js";import"./select-DV03FLtq.js";import"./index-upgrZYbo.js";import"./chevron-up-DMuWaAmJ.js";import"./react-country-flag.esm-U4UQv2PH.js";import"./language-DYlIyiUn.js";import"./sparkles-tvpsAjMk.js";import"./loader-circle-DUfirWOF.js";import"./copy-Btm1-TBN.js";import"./chevron-right-CTYpggVz.js";import"./cookie-consent-BF1mYY4f.js";import"./globe-kYq37WGi.js";import"./briefcase-AuRykhaE.js";import"./credit-card-CWCbalqR.js";import"./mail-B928cX0J.js";import"./message-square-BEKBBgPS.js";import"./calendar-Jlwl64Lp.js";import"./wallet-z8Vgl1na.js";import"./user-D7_XmPgu.js";import"./use-favicon-BHKlxAc6.js";import"./utils-DBYZG17H.js";import"./clock-C9SI5I6F.js";import"./trending-up-B1kKYkX1.js";import"./award-DqAGCSGb.js";import"./table-Bja6MXmB.js";import"./switch-DGQ2xpqa.js";function ve(){const{t:r}=q(),{props:n}=P(),{userType:o,settings:m,stats:c,payoutRequests:b,referralLink:N}=n,[R,a]=l.useState("dashboard"),g=[{title:r("Dashboard"),href:"#dashboard",icon:e.jsx(U,{className:"h-4 w-4 mr-2"})},{title:r("Referred Users"),href:route("referral.referred-users"),icon:e.jsx(B,{className:"h-4 w-4 mr-2"}),external:!0},{title:r("Payout Requests"),href:"#payout-requests",icon:e.jsx(L,{className:"h-4 w-4 mr-2"})},...o==="superadmin"?[{title:r("Settings"),href:"#settings",icon:e.jsx(A,{className:"h-4 w-4 mr-2"})}]:[]],f=l.useRef(null),d=l.useRef(null),p=l.useRef(null);l.useEffect(()=>{const s=()=>{var h,u,x;const t=window.scrollY+100;(h=f.current)!=null&&h.offsetTop;const v=((u=d.current)==null?void 0:u.offsetTop)||0,y=((x=p.current)==null?void 0:x.offsetTop)||0;o==="superadmin"&&t>=y?a("settings"):t>=v?a("payout-requests"):a("dashboard")};window.addEventListener("scroll",s);const i=window.location.hash.replace("#","");if(i){const t=document.getElementById(i);t&&(t.scrollIntoView({behavior:"smooth"}),a(i))}return()=>{window.removeEventListener("scroll",s)}},[o]);const w=s=>{const i=s.replace("#",""),t=document.getElementById(i);t&&(t.scrollIntoView({behavior:"smooth"}),a(i))};return e.jsxs(S,{title:r("Referral Program"),url:"/referral",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"md:w-64 flex-shrink-0",children:e.jsx("div",{className:"sticky top-20",children:e.jsx(E,{className:"h-[calc(100vh-5rem)]",children:e.jsx("div",{className:"pr-4 space-y-1",children:g.map(s=>s.external?e.jsx(j,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsxs("a",{href:s.href,children:[s.icon,s.title]})},s.href):e.jsxs(j,{variant:"ghost",className:T("w-full justify-start",{"bg-muted font-medium":R===s.href.replace("#","")}),onClick:()=>w(s.href),children:[s.icon,s.title]},s.href))})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("section",{id:"dashboard",ref:f,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Dashboard")}),e.jsx(C,{userType:o,stats:c,referralLink:N,recentReferredUsers:n.recentReferredUsers})]}),e.jsxs("section",{id:"payout-requests",ref:d,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Payout Requests")}),e.jsx(D,{userType:o,payoutRequests:b,settings:m,stats:c})]}),o==="superadmin"&&e.jsxs("section",{id:"settings",ref:p,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Settings")}),e.jsx(I,{settings:m})]})]})]}),e.jsx(k,{})]})}export{ve as default};

import{r as b,j as e}from"./ui-DwAOVm1p.js";import{u as v,K as f,q as K,L as i,I as u,B as C,v as E,S as N,t as h}from"./app-BlWi7cIv.js";import{S as R,a as k,b as V,c as w,d as S}from"./select-DV03FLtq.js";import{S as G}from"./switch-DGQ2xpqa.js";import"./vendor-CxtKjBZA.js";import"./utils-DBYZG17H.js";import"./index-upgrZYbo.js";import"./chevron-up-DMuWaAmJ.js";function q({settings:p={}}){const{t}=v(),x=f().props,l={recaptchaVersion:"v2",recaptchaSiteKey:"",recaptchaSecretKey:""},r=Object.keys(p).length>0?p:x.systemSettings||{},[n,j]=b.useState(()=>({recaptchaEnabled:r.recaptchaEnabled==="true"||r.recaptchaEnabled===!0||r.recaptchaEnabled===1||r.recaptchaEnabled==="1",recaptchaVersion:r.recaptchaVersion||l.recaptchaVersion,recaptchaSiteKey:r.recaptchaSiteKey||l.recaptchaSiteKey,recaptchaSecretKey:r.recaptchaSecretKey||l.recaptchaSecretKey})),o=(a,c)=>{j(s=>({...s,[a]:c}))},y=a=>{a.preventDefault(),N.post(route("settings.recaptcha.update"),n,{preserveScroll:!0,onSuccess:c=>{var g,m;const s=(g=c.props.flash)==null?void 0:g.success,d=(m=c.props.flash)==null?void 0:m.error;s?h.success(s):d&&h.error(d)},onError:c=>{const s=c.error||Object.values(c).join(", ")||t("Failed to update ReCaptcha settings");h.error(s)}})};return e.jsxs(K,{title:t("ReCaptcha Settings"),description:t("Configure Google ReCaptcha settings for form protection"),action:e.jsxs(C,{type:"submit",form:"recaptcha-settings-form",size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),t("Save Changes")]}),children:[e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md text-sm text-blue-800 dark:bg-blue-950 dark:border-blue-800 dark:text-blue-200",children:[e.jsxs("strong",{children:[t("Note"),":"]})," ",e.jsx("a",{href:"https://phppot.com/php/how-to-get-google-recaptcha-site-and-secret-key/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:t("How to Get Google reCaptcha Site and Secret key")})]}),e.jsxs("form",{id:"recaptcha-settings-form",onSubmit:y,className:"space-y-6",children:[e.jsx("div",{className:"grid gap-2 md:col-span-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{htmlFor:"recaptchaEnabled",children:t("Enable ReCaptcha")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("Show ReCaptcha on authentication pages")})]}),e.jsx(G,{id:"recaptchaEnabled",checked:n.recaptchaEnabled,onCheckedChange:a=>o("recaptchaEnabled",a)})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"recaptchaVersion",children:t("Google Recaptcha Version")}),e.jsxs(R,{value:n.recaptchaVersion,onValueChange:a=>o("recaptchaVersion",a),children:[e.jsx(k,{children:e.jsx(V,{placeholder:t("Select version")})}),e.jsxs(w,{children:[e.jsx(S,{value:"v2",children:"v2"}),e.jsx(S,{value:"v3",children:"v3"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"recaptchaSiteKey",children:t("Site Key")}),e.jsx(u,{id:"recaptchaSiteKey",name:"recaptchaSiteKey",type:"text",value:n.recaptchaSiteKey,onChange:a=>o("recaptchaSiteKey",a.target.value),placeholder:t("Enter your Google ReCaptcha site key")})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(i,{htmlFor:"recaptchaSecretKey",children:t("Secret Key")}),e.jsx(u,{id:"recaptchaSecretKey",name:"recaptchaSecretKey",type:"password",value:n.recaptchaSecretKey,onChange:a=>o("recaptchaSecretKey",a.target.value),placeholder:t("Enter your Google ReCaptcha secret key")})]})]})]})]})}export{q as default};

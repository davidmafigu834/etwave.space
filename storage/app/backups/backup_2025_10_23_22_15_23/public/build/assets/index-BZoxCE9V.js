import{r as i,j as e}from"./ui-DwAOVm1p.js";import{P as Re}from"./page-template-8tWNB1WX.js";import{u as ke,N as ve,K as Ce,r as Be,p as Ee,B as Te,k as We,an as Ie}from"./app-BlWi7cIv.js";import{S as Pe}from"./scroll-area-BnUlm4mg.js";import Ge from"./system-settings-DMCsiYd2.js";import De from"./currency-settings-q5WgGVYr.js";import Me from"./email-settings-nPkoKPKb.js";import Ae from"./payment-settings-M5XezCho.js";import Fe from"./storage-settings-Dr7dNYYW.js";import Le from"./recaptcha-settings-BAnTVz82.js";import Ye from"./chatgpt-settings-DfaVGhh3.js";import $e from"./cookie-settings-g_Zkg4X-.js";import ze from"./seo-settings-3hCUUe8F.js";import He from"./cache-settings-DzKXckEF.js";import Ve from"./webhook-settings-D-DriL86.js";import qe from"./google-calendar-settings-BD5oldd0.js";import Ke from"./google-wallet-settings-BshV6XIy.js";import{T as Oe}from"./toaster-B42TVNxN.js";import{S as Je}from"./settings-CXB8R1cS.js";import{D as Qe}from"./dollar-sign-B5K61QeY.js";import{M as Ue}from"./mail-B928cX0J.js";import{C as Xe}from"./credit-card-CWCbalqR.js";import{H as ge}from"./hard-drive-BmUAz7G1.js";import{S as Ze}from"./shield-BWPM2EMy.js";import{B as _e}from"./bot-Byy7wW_B.js";import{g as es}from"./cookie-consent-BF1mYY4f.js";import{C as ss}from"./calendar-Jlwl64Lp.js";import{W as ts}from"./wallet-z8Vgl1na.js";import{W as is}from"./webhook-BfbN7azO.js";import"./vendor-CxtKjBZA.js";import"./textarea-DmNeUOf1.js";import"./select-DV03FLtq.js";import"./index-upgrZYbo.js";import"./chevron-up-DMuWaAmJ.js";import"./react-country-flag.esm-U4UQv2PH.js";import"./language-DYlIyiUn.js";import"./sparkles-tvpsAjMk.js";import"./loader-circle-DUfirWOF.js";import"./copy-Btm1-TBN.js";import"./chevron-right-CTYpggVz.js";import"./chart-column-CrjmBQBc.js";import"./globe-kYq37WGi.js";import"./briefcase-AuRykhaE.js";import"./users-WU9ta9Er.js";import"./message-square-BEKBBgPS.js";import"./user-D7_XmPgu.js";import"./use-favicon-BHKlxAc6.js";import"./utils-DBYZG17H.js";import"./switch-DGQ2xpqa.js";import"./info-DYw6_RZC.js";import"./alert-DtKg3qdz.js";import"./server-CzSX1f-V.js";import"./circle-alert-n5kUioWN.js";import"./lock-ChjvWI5A.js";import"./send-BN8oP4Gk.js";import"./eye-off-D77K0i5R.js";import"./eye-BE9GWtQY.js";import"./radio-group-DtFQEo9I.js";import"./circle-BwHibmlx.js";import"./indian-rupee-C8OIffYG.js";import"./banknote-CYzFy0mg.js";import"./tabs-D8y1ncs-.js";import"./checkbox-BjeNQnk5.js";import"./download-Cd-5XK7j.js";import"./trash-2-BFqA1Oig.js";import"./table-Bja6MXmB.js";import"./CrudDeleteModal-D-6F4-pE.js";import"./link-2-N5PJqzTX.js";import"./square-pen-WpJU-exV.js";import"./external-link-JXKp3xBD.js";function jt(){var P,G,D,M,A,F,L,Y,$,z,H,V,q,K,O,J,Q,U,X,Z,_,ee,se,te,ie,ne,re,oe,ae,me;const{t}=ke(),{position:h}=ve(),{systemSettings:r={},cacheSize:pe="0.00",timezones:fe={},dateFormats:de={},timeFormats:ue={},paymentSettings:he={},webhooks:Se=[],auth:s={}}=Ce().props,[xe,f]=i.useState("system-settings"),[ye,S]=i.useState(!1),x=[{title:t("System Settings"),href:"#system-settings",icon:e.jsx(Je,{className:"h-4 w-4 mr-2"}),permission:"manage-system-settings"},{title:t("Brand Settings"),href:"#brand-settings",icon:e.jsx(Be,{className:"h-4 w-4 mr-2"}),permission:"manage-brand-settings"},{title:t("Currency Settings"),href:"#currency-settings",icon:e.jsx(Qe,{className:"h-4 w-4 mr-2"}),permission:"manage-currency-settings"},{title:t("Email Settings"),href:"#email-settings",icon:e.jsx(Ue,{className:"h-4 w-4 mr-2"}),permission:"manage-email-settings"},{title:t("Payment Settings"),href:"#payment-settings",icon:e.jsx(Xe,{className:"h-4 w-4 mr-2"}),permission:"manage-payment-settings"},{title:t("Storage Settings"),href:"#storage-settings",icon:e.jsx(ge,{className:"h-4 w-4 mr-2"}),permission:"manage-storage-settings"},{title:t("ReCaptcha Settings"),href:"#recaptcha-settings",icon:e.jsx(Ze,{className:"h-4 w-4 mr-2"}),permission:"manage-recaptcha-settings"},{title:t("Chat GPT Settings"),href:"#chatgpt-settings",icon:e.jsx(_e,{className:"h-4 w-4 mr-2"}),permission:"manage-chatgpt-settings"},{title:t("Cookie Settings"),href:"#cookie-settings",icon:e.jsx(es,{className:"h-4 w-4 mr-2"}),permission:"manage-cookie-settings"},{title:t("SEO Settings"),href:"#seo-settings",icon:e.jsx(Ee,{className:"h-4 w-4 mr-2"}),permission:"manage-seo-settings"},{title:t("Cache Settings"),href:"#cache-settings",icon:e.jsx(ge,{className:"h-4 w-4 mr-2"}),permission:"manage-cache-settings"},{title:t("Google Calendar Settings"),href:"#google-calendar-settings",icon:e.jsx(ss,{className:"h-4 w-4 mr-2"}),permission:"settings"},{title:t("Google Wallet Settings"),href:"#google-wallet-settings",icon:e.jsx(ts,{className:"h-4 w-4 mr-2"}),permission:"settings"}];((P=s.user)==null?void 0:P.type)!=="superadmin"&&x.push({title:t("Webhook Settings"),href:"#webhook-settings",icon:e.jsx(is,{className:"h-4 w-4 mr-2"}),permission:"manage-webhook-settings"});const je=x.filter(n=>!n.permission||s.permissions&&s.permissions.includes(n.permission)?!0:s.user&&s.user.type==="company"?["manage-system-settings","manage-email-settings","manage-brand-settings","manage-webhook-settings","settings"].includes(n.permission):!1),y=i.useRef(null),j=i.useRef(null),w=i.useRef(null),b=i.useRef(null),N=i.useRef(null),R=i.useRef(null),k=i.useRef(null),v=i.useRef(null),C=i.useRef(null),B=i.useRef(null),E=i.useRef(null),T=i.useRef(null),W=i.useRef(null),I=i.useRef(null);i.useEffect(()=>{const n=()=>{var le;const c=window.scrollY+100,g=[{id:"system-settings",ref:y},{id:"brand-settings",ref:j},{id:"currency-settings",ref:w},{id:"email-settings",ref:b},{id:"payment-settings",ref:N},{id:"storage-settings",ref:R},{id:"recaptcha-settings",ref:k},{id:"chatgpt-settings",ref:v},{id:"cookie-settings",ref:C},{id:"seo-settings",ref:B},{id:"cache-settings",ref:E},{id:"google-calendar-settings",ref:W},{id:"google-wallet-settings",ref:I},{id:"webhook-settings",ref:T}].filter(a=>a.ref.current);let u=((le=g[0])==null?void 0:le.id)||"system-settings";for(const a of g){const p=a.ref.current;if(p){const be=p.getBoundingClientRect(),Ne=window.scrollY+be.top;c>=Ne&&(u=a.id)}}const l=g[g.length-1];if(l!=null&&l.ref.current){const a=l.ref.current.getBoundingClientRect(),p=window.scrollY+a.bottom;c>=p-300&&(u=l.id)}ye||f(u)};let o=!1,m;const ce=()=>{o||(requestAnimationFrame(()=>{n(),o=!1}),o=!0),clearTimeout(m),m=setTimeout(()=>{S(!1)},150)};window.addEventListener("scroll",ce),n();const d=window.location.hash.replace("#","");return d&&setTimeout(()=>{const c=document.getElementById(d);c&&(c.scrollIntoView({behavior:"smooth"}),f(d))},100),()=>{window.removeEventListener("scroll",ce)}},[]);const we=n=>{const o=n.replace("#","");S(!0),f(o);const m=document.getElementById(o);m&&m.scrollIntoView({behavior:"smooth"})};return e.jsxs(Re,{title:t("Settings"),url:"/settings",breadcrumbs:[{title:t("Dashboard"),href:route("dashboard")},{title:t("Settings")}],children:[e.jsxs("div",{className:`flex flex-col md:flex-row gap-8 ${h==="right"?"md:flex-row-reverse":""}`,children:[e.jsx("div",{className:"md:w-64 flex-shrink-0",children:e.jsx("div",{className:"sticky top-20",children:e.jsx(Pe,{className:"h-[calc(100vh-5rem)]",children:e.jsx("div",{className:`space-y-1 ${h==="right"?"pl-4":"pr-4"}`,children:je.map(n=>e.jsxs(Te,{variant:"ghost",className:We("w-full justify-start",{"bg-muted font-medium":xe===n.href.replace("#","")}),onClick:()=>we(n.href),children:[n.icon,n.title]},n.href))})})})}),e.jsxs("div",{className:"flex-1",children:[(((G=s.permissions)==null?void 0:G.includes("manage-system-settings"))||((D=s.user)==null?void 0:D.type)==="superadmin"||((M=s.user)==null?void 0:M.type)==="company")&&e.jsx("section",{id:"system-settings",ref:y,className:"mb-8",children:e.jsx(Ge,{settings:r,timezones:fe,dateFormats:de,timeFormats:ue})}),(((A=s.permissions)==null?void 0:A.includes("manage-brand-settings"))||((F=s.user)==null?void 0:F.type)==="superadmin")&&e.jsx("section",{id:"brand-settings",ref:j,className:"mb-8",children:e.jsx(Ie,{})}),(((L=s.permissions)==null?void 0:L.includes("manage-currency-settings"))||((Y=s.user)==null?void 0:Y.type)==="superadmin")&&e.jsx("section",{id:"currency-settings",ref:w,className:"mb-8",children:e.jsx(De,{})}),((($=s.permissions)==null?void 0:$.includes("manage-email-settings"))||((z=s.user)==null?void 0:z.type)==="superadmin")&&e.jsx("section",{id:"email-settings",ref:b,className:"mb-8",children:e.jsx(Me,{})}),(((H=s.permissions)==null?void 0:H.includes("manage-payment-settings"))||((V=s.user)==null?void 0:V.type)==="superadmin")&&e.jsx("section",{id:"payment-settings",ref:N,className:"mb-8",children:e.jsx(Ae,{settings:he})}),(((q=s.permissions)==null?void 0:q.includes("manage-storage-settings"))||((K=s.user)==null?void 0:K.type)==="superadmin")&&e.jsx("section",{id:"storage-settings",ref:R,className:"mb-8",children:e.jsx(Fe,{settings:r})}),(((O=s.permissions)==null?void 0:O.includes("manage-recaptcha-settings"))||((J=s.user)==null?void 0:J.type)==="superadmin")&&e.jsx("section",{id:"recaptcha-settings",ref:k,className:"mb-8",children:e.jsx(Le,{settings:r})}),(((Q=s.permissions)==null?void 0:Q.includes("manage-chatgpt-settings"))||((U=s.user)==null?void 0:U.type)==="superadmin")&&e.jsx("section",{id:"chatgpt-settings",ref:v,className:"mb-8",children:e.jsx(Ye,{settings:r})}),(((X=s.permissions)==null?void 0:X.includes("manage-cookie-settings"))||((Z=s.user)==null?void 0:Z.type)==="superadmin")&&e.jsx("section",{id:"cookie-settings",ref:C,className:"mb-8",children:e.jsx($e,{settings:r})}),(((_=s.permissions)==null?void 0:_.includes("manage-seo-settings"))||((ee=s.user)==null?void 0:ee.type)==="superadmin")&&e.jsx("section",{id:"seo-settings",ref:B,className:"mb-8",children:e.jsx(ze,{settings:r})}),(((se=s.permissions)==null?void 0:se.includes("manage-cache-settings"))||((te=s.user)==null?void 0:te.type)==="superadmin")&&e.jsx("section",{id:"cache-settings",ref:E,className:"mb-8",children:e.jsx(He,{cacheSize:pe})}),(((ie=s.permissions)==null?void 0:ie.includes("settings"))||((ne=s.user)==null?void 0:ne.type)==="company")&&e.jsx("section",{id:"google-calendar-settings",ref:W,className:"mb-8",children:e.jsx(qe,{settings:r})}),(((re=s.permissions)==null?void 0:re.includes("settings"))||((oe=s.user)==null?void 0:oe.type)==="company")&&e.jsx("section",{id:"google-wallet-settings",ref:I,className:"mb-8",children:e.jsx(Ke,{settings:r})}),((ae=s.permissions)==null?void 0:ae.includes("manage-webhook-settings"))&&((me=s.user)==null?void 0:me.type)!=="superadmin"&&e.jsx("section",{id:"webhook-settings",ref:T,className:"mb-8",children:e.jsx(Ve,{webhooks:Se})})]})]}),e.jsx(Oe,{})]})}export{jt as default};

import{r as A,j as e}from"./ui-DwAOVm1p.js";import{u as E,K as U,m as j,X as B,q as M,C as c,d as n,e as o,i as P,g as d,B as l,D as $,ak as I,a as _,b as F,c as Q,z as V,A as H,S as y,t as m}from"./app-BlWi7cIv.js";import{T as f}from"./textarea-DmNeUOf1.js";import{P as L}from"./page-template-8tWNB1WX.js";import{T as z}from"./toaster-B42TVNxN.js";import{S as K,a as O,b as X,c as G,d as r}from"./select-DV03FLtq.js";import{C as J}from"./circle-check-big-CMY9b2ai.js";import{T as W}from"./target-vllBT5Ac.js";import{M as Y}from"./message-square-BEKBBgPS.js";import{C as Z}from"./clock-C9SI5I6F.js";import{M as C}from"./mail-B928cX0J.js";import{C as ee}from"./calendar-Jlwl64Lp.js";import{S as se}from"./square-pen-WpJU-exV.js";import{S as N}from"./send-BN8oP4Gk.js";import{A as ae}from"./arrow-left-DIS7QkEf.js";import"./vendor-CxtKjBZA.js";import"./utils-DBYZG17H.js";import"./react-country-flag.esm-U4UQv2PH.js";import"./language-DYlIyiUn.js";import"./sparkles-tvpsAjMk.js";import"./loader-circle-DUfirWOF.js";import"./copy-Btm1-TBN.js";import"./chevron-up-DMuWaAmJ.js";import"./chevron-right-CTYpggVz.js";import"./cookie-consent-BF1mYY4f.js";import"./globe-kYq37WGi.js";import"./chart-column-CrjmBQBc.js";import"./briefcase-AuRykhaE.js";import"./credit-card-CWCbalqR.js";import"./dollar-sign-B5K61QeY.js";import"./settings-CXB8R1cS.js";import"./users-WU9ta9Er.js";import"./wallet-z8Vgl1na.js";import"./user-D7_XmPgu.js";import"./use-favicon-BHKlxAc6.js";import"./index-upgrZYbo.js";const te={new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-purple-100 text-purple-800",converted:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"},le={new:Z,contacted:Y,qualified:W,converted:J,closed:B};function Qe(){const{t:s}=E(),{contact:a}=U().props,[v,p]=A.useState(!1),{data:x,setData:u,put:S,processing:i}=j({status:a.status,notes:a.notes||""}),{data:w,setData:b,post:D,processing:h,reset:k}=j({reply_message:""}),g=()=>{S(route("landing-page.contacts.update",a.id),{onSuccess:()=>{m.success(s("Contact updated successfully!"))},onError:()=>{m.error(s("Failed to update contact"))}})},T=()=>{D(route("landing-page.contacts.reply",a.id),{onSuccess:()=>{m.success(s("Reply sent successfully!")),p(!1),k(),y.reload()},onError:()=>{m.error(s("Failed to send reply"))}})},R=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),q=le[a.status];return e.jsxs(L,{title:s("Contact Details"),url:`/landing-page/contacts/${a.id}`,action:e.jsxs(l,{variant:"outline",onClick:()=>y.get(route("landing-page.contacts.index")),children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),s("Back to Contacts")]}),children:[e.jsx(M,{title:s("Contact Details"),description:s("View and manage contact information"),children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(c,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s("Contact Information")}),e.jsxs(P,{className:`${te[a.status]} flex items-center gap-1`,children:[e.jsx(q,{className:"h-3 w-3"}),s(a.status.charAt(0).toUpperCase()+a.status.slice(1))]})]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Name")}),e.jsx("p",{className:"text-lg font-semibold",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Email")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-gray-400"}),e.jsx("a",{href:`mailto:${a.email}`,className:"text-blue-600 hover:underline",children:a.email})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Subject")}),e.jsx("p",{className:"text-gray-900",children:a.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Message")}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:a.message})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Received")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:R(a.created_at)})]})]})]})]}),e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(o,{children:s("Notes")})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{placeholder:s("Add notes about this contact..."),value:x.notes,onChange:t=>u("notes",t.target.value),rows:6}),e.jsxs(l,{onClick:g,disabled:i,children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),s(i?"Updating...":"Update Notes")]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(o,{children:s("Status")})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs(K,{value:x.status,onValueChange:t=>u("status",t),children:[e.jsx(O,{children:e.jsx(X,{})}),e.jsxs(G,{children:[e.jsx(r,{value:"new",children:s("New")}),e.jsx(r,{value:"contacted",children:s("Contacted")}),e.jsx(r,{value:"qualified",children:s("Qualified")}),e.jsx(r,{value:"converted",children:s("Converted")}),e.jsx(r,{value:"closed",children:s("Closed")})]})]}),e.jsx(l,{onClick:g,disabled:i,className:"w-full",children:s(i?"Updating...":"Update Status")})]})]}),e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(o,{children:s("Quick Actions")})}),e.jsxs(d,{className:"space-y-3",children:[e.jsxs(l,{variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`mailto:${a.email}?subject=Re: ${a.subject}`),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),s("Send Email")]}),e.jsxs($,{open:v,onOpenChange:p,children:[e.jsx(I,{asChild:!0,children:e.jsxs(l,{variant:"outline",className:"w-full justify-start",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),s("Quick Reply")]})}),e.jsxs(_,{children:[e.jsxs(F,{children:[e.jsx(Q,{children:s("Send Reply")}),e.jsxs(V,{children:[s("Send a quick reply to")," ",a.name]})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(f,{placeholder:s("Type your reply message..."),value:w.reply_message,onChange:t=>b("reply_message",t.target.value),rows:6})}),e.jsxs(H,{children:[e.jsx(l,{variant:"outline",onClick:()=>p(!1),children:s("Cancel")}),e.jsxs(l,{onClick:T,disabled:h,children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),s(h?"Sending...":"Send Reply")]})]})]})]})]})]})]})]})}),e.jsx(z,{})]})}export{Qe as default};

import{r as b,j as e}from"./ui-DwAOVm1p.js";import{u as j,j as E,K as k,m as v,L as w,I as N,T as C}from"./app-BlWi7cIv.js";import{I as T}from"./input-error-BR1HxYrU.js";import{T as A}from"./text-link-Ci7fE0Vq.js";import{A as I,a as R}from"./auth-button-DzFgWRfS.js";import{R as L,e as P}from"./recaptcha-C5xDbTSQ.js";import{M as p}from"./mail-B928cX0J.js";import"./vendor-CxtKjBZA.js";import"./utils-DBYZG17H.js";import"./cookie-consent-BF1mYY4f.js";import"./react-country-flag.esm-U4UQv2PH.js";import"./language-DYlIyiUn.js";import"./globe-kYq37WGi.js";import"./use-favicon-BHKlxAc6.js";import"./credit-card-CWCbalqR.js";import"./loader-circle-DUfirWOF.js";function W({status:d}){const{t:a}=j(),[u,r]=b.useState(""),{themeColor:l,customColor:x}=E(),{settings:t={}}=k().props,n=t.recaptchaEnabled==="true"||t.recaptchaEnabled===!0||t.recaptchaEnabled===1||t.recaptchaEnabled==="1",s=l==="custom"?x:C[l],{data:o,setData:h,post:c,processing:y,errors:f}=v({email:""}),g=async i=>{if(i.preventDefault(),n)try{const m=await P();if(!m){alert(a("Please complete the reCAPTCHA verification"));return}c(route("password.email"),{data:{...o,recaptcha_token:m}});return}catch{alert(a("reCAPTCHA verification failed. Please try again."));return}c(route("password.email"),{data:{...o,recaptcha_token:u}})};return e.jsx(I,{title:a("Forgot your password?"),description:a("Enter your email to receive a password reset link"),icon:e.jsx(p,{className:"h-7 w-7",style:{color:s}}),status:d,children:e.jsxs("form",{className:"space-y-5",onSubmit:g,children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(w,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300 font-medium mb-1 block",children:a("Email address")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(p,{className:"h-5 w-5 text-gray-400"})}),e.jsx(N,{id:"email",type:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",value:o.email,onChange:i=>h("email",i.target.value),placeholder:"email@example.com",className:"pl-10 w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg transition-all duration-200",style:{"--tw-ring-color":s}})]}),e.jsx(T,{message:f.email})]})}),n&&e.jsx(L,{onVerify:r,onExpired:()=>r(""),onError:()=>r("")}),e.jsx(R,{tabIndex:2,processing:y,children:a("Email password reset link")}),e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-6",children:[a("Remember your password?")," ",e.jsx(A,{href:route("login"),className:"font-medium transition-colors duration-200",style:{color:s},tabIndex:3,children:a("Back to login")})]})]})})}export{W as default};

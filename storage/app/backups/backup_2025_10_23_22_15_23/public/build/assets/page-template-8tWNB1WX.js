import{j as e,r as h,t as We,R as ze,S as He,d as Ve,P as Y,v as Je,w as ye}from"./ui-DwAOVm1p.js";import{G as D,H as Ze,J as Ke,u as z,X as Xe,L as G,I as ae,B as $,E as re,t as B,K as H,N as Q,O as Ye,k as R,Q as Qe,R as et,V as tt,W as st,Y as ne,Z as ie,$ as U,_ as at,a0 as oe,a1 as le,s as ve,r as rt,a2 as p,a3 as nt,j as ee,a4 as it,a5 as ot,a6 as lt,a7 as ct,S as te,a8 as ce,l as dt,n as ut}from"./app-BlWi7cIv.js";import{T as de}from"./textarea-DmNeUOf1.js";import{S as ue,a as he,b as me,c as pe,d as V}from"./select-DV03FLtq.js";import{R as ht}from"./react-country-flag.esm-U4UQv2PH.js";import{l as mt}from"./language-DYlIyiUn.js";import{S as fe,C as we,G as Ne,P as Ce}from"./sparkles-tvpsAjMk.js";import{L as pt}from"./loader-circle-DUfirWOF.js";import{C as xe}from"./copy-Btm1-TBN.js";import{C as J}from"./chevron-up-DMuWaAmJ.js";import{C as Z}from"./chevron-right-CTYpggVz.js";import{D as ke,a as Se,b as Me,c as K,e as ft,d as ge,f as xt,L as gt,C as jt}from"./cookie-consent-BF1mYY4f.js";import{C as Ae}from"./chart-column-CrjmBQBc.js";import{G as Le}from"./globe-kYq37WGi.js";import{B as bt}from"./briefcase-AuRykhaE.js";import{C as Ie}from"./credit-card-CWCbalqR.js";import{D as yt}from"./dollar-sign-B5K61QeY.js";import{M as Pe}from"./mail-B928cX0J.js";import{S as _e}from"./settings-CXB8R1cS.js";import{U as vt}from"./users-WU9ta9Er.js";import{M as wt}from"./message-square-BEKBBgPS.js";import{C as Nt}from"./calendar-Jlwl64Lp.js";import{W as Ct}from"./wallet-z8Vgl1na.js";import{U as kt}from"./user-D7_XmPgu.js";import{u as St}from"./use-favicon-BHKlxAc6.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],At=D("Brain",Mt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],je=D("Building2",Lt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Pt=D("CalendarDays",It);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Et=D("Earth",_t);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ee=D("LayoutGrid",$t);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Rt=D("Link",Dt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Bt=D("LogOut",Ft);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]],$e=D("Nfc",Tt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],qt=D("Percent",Ot);function Gt({variant:t="header",children:s,...a}){return t==="sidebar"?e.jsx(Ze,{...a,children:s}):e.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...a,children:s})}function Ut(t,s){const{registerModal:a,unregisterModal:n,getZIndex:o}=Ke(),[r]=h.useState(()=>t),[c,l]=h.useState(!1),m=s!==void 0?s:c;h.useEffect(()=>(m?a(r):n(r),()=>n(r)),[m,r,a,n]);const d=o(r);return{modalId:r,isOpen:m,setIsOpen:l,zIndex:d,open:()=>l(!0),close:()=>l(!1),toggle:()=>l(y=>!y)}}function Wt({isOpen:t,onClose:s,onGenerate:a,title:n="AI Content Generator",placeholder:o="Describe what you want to generate..."}){const{t:r}=z(),{zIndex:c}=Ut("chatgpt-modal",t),[l,m]=h.useState(""),[d,y]=h.useState(""),[k,M]=h.useState(!1),[i,g]=h.useState("en"),[u,C]=h.useState("medium"),[v,w]=h.useState(1),[S,T]=h.useState(150),[P,_]=h.useState(""),[O,q]=h.useState(!1),f=async()=>{var b;if(!l.trim()){B.error(r("Please enter a prompt"));return}M(!0);try{const A=await fetch(route("chatgpt.generate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((b=document.querySelector('meta[name="csrf-token"]'))==null?void 0:b.getAttribute("content"))||""},body:JSON.stringify({prompt:l,language:i,creativity:u,num_results:v,max_length:S})}),E=await A.json();A.ok?y(E.content):B.error(E.message||r("Failed to generate content"))}catch{B.error(r("Error connecting to AI service"))}finally{M(!1)}},W=()=>{d&&(a(d),x())},x=()=>{m(""),y(""),_(""),q(!1),s()},j=b=>{(E=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(E);{const I=document.createElement("textarea");return I.value=E,I.style.position="fixed",I.style.left="-999999px",I.style.top="-999999px",document.body.appendChild(I),I.focus(),I.select(),new Promise((Ge,Ue)=>{document.execCommand("copy")?(I.remove(),Ge()):(I.remove(),Ue(new Error("Copy failed")))})}})(b).then(()=>{B.success(r("Link copied to clipboard"))}).catch(()=>{B.error(r("Failed to copy text"))})},N=()=>{const b=document.getElementById("generated-content");if(b){const A=b.selectionStart,E=b.selectionEnd,I=b.value.substring(A,E);_(I)}};if(!t)return null;const L=e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center",style:{zIndex:c},children:[e.jsx("div",{className:"fixed inset-0 bg-black/50"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 pointer-events-auto border",style:{zIndex:c+1},children:[e.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(fe,{className:"h-5 w-5 text-blue-500"}),r(n)]}),e.jsx("button",{onClick:x,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(Xe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:r("Language")}),e.jsxs(ue,{value:i,onValueChange:g,children:[e.jsx(he,{children:e.jsx(me,{})}),e.jsx(pe,{style:{zIndex:c+10},children:mt.map(b=>e.jsxs(V,{value:b.code,children:[e.jsx(ht,{countryCode:b.countryCode,svg:!0,style:{width:"1em",height:"1em",marginRight:"8px"}}),b.name]},b.code))})]})]}),e.jsxs("div",{children:[e.jsx(G,{children:r("AI Creativity")}),e.jsxs(ue,{value:u,onValueChange:C,children:[e.jsx(he,{children:e.jsx(me,{})}),e.jsxs(pe,{style:{zIndex:c+10},children:[e.jsxs(V,{value:"low",children:[r("Low")," (0.3)"]}),e.jsxs(V,{value:"medium",children:[r("Medium")," (0.7)"]}),e.jsxs(V,{value:"high",children:[r("High")," (0.9)"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:r("Number of Results")}),e.jsx(ae,{type:"number",value:v,onChange:b=>w(Number(b.target.value)),min:1,max:5})]}),e.jsxs("div",{children:[e.jsx(G,{children:r("Max Result Length")}),e.jsx(ae,{type:"number",value:S,onChange:b=>T(Number(b.target.value)),min:50,max:500})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"prompt",children:r("Add Text")}),e.jsx(de,{id:"prompt",value:l,onChange:b=>m(b.target.value),placeholder:r(o),rows:3,className:"mt-1"})]}),e.jsx($,{onClick:f,disabled:k||!l.trim(),className:"w-full",children:k?e.jsxs(e.Fragment,{children:[e.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),r("Generating...")]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),r("Generate")]})}),d&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(G,{htmlFor:"generated",children:r("Output Text")}),e.jsxs("div",{className:"flex gap-2",children:[P&&e.jsxs($,{size:"sm",variant:"outline",onClick:()=>j(P),children:[O?e.jsx(re,{className:"h-4 w-4"}):e.jsx(xe,{className:"h-4 w-4"}),r("Copy Selected")]}),e.jsxs($,{size:"sm",variant:"outline",onClick:()=>j(d),children:[O?e.jsx(re,{className:"h-4 w-4"}):e.jsx(xe,{className:"h-4 w-4"}),r("Copy Text")]})]})]}),e.jsx(de,{id:"generated-content",value:d,onChange:b=>y(b.target.value),onSelect:N,rows:6,className:"mt-1"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx($,{onClick:W,className:"flex-1",children:r("Use This Content")}),e.jsx($,{variant:"outline",onClick:f,disabled:k,children:r("Regenerate")})]})]})]})]})]});return typeof window<"u"?We.createPortal(L,document.body):null}function X(){var i,g,u,C,v,w,S,T,P,_,O,q;const{t}=z(),{auth:s}=H().props,[a,n]=h.useState(!1),[o,r]=h.useState("");h.useEffect(()=>{},[a]);const l=(((i=s==null?void 0:s.roles)==null?void 0:i[0])||((g=s==null?void 0:s.user)==null?void 0:g.type))==="superadmin"||((u=s==null?void 0:s.user)==null?void 0:u.type)==="superadmin",m=((C=s==null?void 0:s.user)==null?void 0:C.type)==="company";let d=!1;if(l)d=!0;else if(m)d=((v=s==null?void 0:s.user)==null?void 0:v.plan_is_active)===1&&((w=s==null?void 0:s.user)==null?void 0:w.plan)&&((P=(T=(S=s==null?void 0:s.user)==null?void 0:S.plan)==null?void 0:T.features)==null?void 0:P.ai_integration)===!0;else{const f=(_=s==null?void 0:s.user)==null?void 0:_.creator;d=(f==null?void 0:f.plan_is_active)===1&&(f==null?void 0:f.plan)&&((q=(O=f==null?void 0:f.plan)==null?void 0:O.features)==null?void 0:q.ai_integration)===!0}if(!d)return null;const y=f=>{r(f)},k=()=>{n(!0)},M=()=>{n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bottom-6 rtl:left-6 ltr:right-6 z-[9999]",onClickCapture:f=>{f.preventDefault(),f.stopPropagation(),f.nativeEvent.stopImmediatePropagation(),k()},onMouseDownCapture:f=>{f.preventDefault(),f.stopPropagation()},onClick:f=>{f.preventDefault(),f.stopPropagation()},children:e.jsx($,{onClick:f=>{f.preventDefault(),f.stopPropagation(),k()},className:"h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-shadow",size:"lg",children:e.jsx(At,{className:"h-6 w-6"})})}),e.jsx(Wt,{isOpen:a,onClose:M,onGenerate:y,title:t("AI Assistant"),placeholder:t("What would you like me to help you generate?")})]})}function zt({children:t,variant:s="header"}){const[a,n]=h.useState(()=>typeof window<"u"?localStorage.getItem("sidebar")!=="false":!0),o=c=>{n(c),typeof window<"u"&&localStorage.setItem("sidebar",String(c))};if(s==="header")return e.jsxs("div",{className:"flex min-h-screen w-full flex-col",children:[t,e.jsx(X,{})]});const{position:r}=Q();return e.jsx(Ye,{defaultOpen:a,open:a,onOpenChange:o,children:e.jsxs("div",{className:R("flex w-full",r==="right"?"flex-row-reverse":"flex-row"),children:[t,e.jsx(X,{})]})})}const be="nav_expanded_items";function Ht({items:t=[],position:s}){const a=H(),{state:n}=Qe(),o=document.documentElement.dir==="rtl",[r,c]=h.useState({}),l=o?s==="left"?"right":"left":s;h.useEffect(()=>{const i={},g=(u,C)=>{u.forEach(v=>{const w=y(v.href),S=v.children&&k(v.children);C&&(w||S)&&(i[C]=!0),v.children&&(w||S||v.defaultOpen===!0)&&(i[v.title]=!0,g(v.children,v.title)),v.children&&m(v.children,1,i)})};g(t),c(i);try{localStorage.setItem(be,JSON.stringify(i))}catch(u){console.error("Error saving navigation state:",u)}},[a.url,t]);const m=(i,g,u)=>{i.forEach(C=>{const v=`${g}-${C.title}`,w=y(C.href),S=C.children&&k(C.children);C.children&&(w||S)&&(u[v]=!0,m(C.children,g+1,u))})},d=i=>{const g={...r,[i]:!r[i]};c(g);try{localStorage.setItem(be,JSON.stringify(g))}catch(u){console.error("Error saving navigation state:",u)}},y=i=>{if(!i)return!1;const g=i.startsWith("http")?new URL(i).pathname:i,u=a.url;return u===g||u.startsWith(g+"/")},k=i=>i?i.some(g=>y(g.href)||k(g.children)):!1,M=(i,g=1)=>e.jsx(at,{children:i.map(u=>e.jsx("div",{children:u.children?e.jsxs(e.Fragment,{children:[e.jsx(oe,{children:e.jsx(le,{isActive:k(u.children),onClick:()=>d(`${g}-${u.title}`),children:e.jsxs("div",{className:`flex items-center gap-2 ${l==="right"?"justify-end text-right":"justify-start text-left"}`,children:[e.jsx("span",{children:u.title}),n!=="collapsed"&&(r[`${g}-${u.title}`]?e.jsx(J,{className:"h-4 w-4 ml-auto"}):e.jsx(Z,{className:"h-4 w-4 ml-auto"}))]})})}),r[`${g}-${u.title}`]&&M(u.children,g+1)]}):e.jsx(oe,{children:e.jsx(le,{asChild:!0,isActive:y(u.href),children:u.target==="_blank"?e.jsx("a",{href:u.href||"#",target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 ${l==="right"?"justify-end text-right":"justify-start text-left"}`,children:e.jsx("span",{children:u.title})}):e.jsx(U,{href:u.href||"#",prefetch:!0,className:`flex items-center gap-2 ${l==="right"?"justify-end text-right":"justify-start text-left"}`,children:e.jsx("span",{children:u.title})})})})},u.title))});return e.jsxs(et,{className:"px-1.5 py-0",children:[e.jsx(tt,{className:`flex w-full text-xs ${l==="right"?"justify-end":"justify-start"}`,children:"Platform"}),e.jsx(st,{children:t.map(i=>e.jsx("div",{children:i.children?e.jsxs(e.Fragment,{children:[e.jsx(ne,{children:e.jsx(ie,{isActive:k(i.children),tooltip:{children:n==="collapsed"&&i.children?e.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[e.jsx("div",{className:"font-medium text-sm mb-2",children:i.title}),e.jsx("div",{className:"space-y-1",children:i.children.map(g=>e.jsx(U,{href:g.href||"#",className:"block text-xs opacity-80 hover:opacity-100 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground px-2 py-1 rounded transition-colors",onClick:u=>u.stopPropagation(),children:g.title},g.title))})]}):i.title},onClick:()=>d(i.title),children:e.jsx("div",{className:`flex items-center gap-2 w-full ${l==="right"?"justify-end text-right":"justify-start text-left"}`,children:l==="right"?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:n!=="collapsed"?i.title:""}),i.icon&&e.jsx(i.icon,{style:{width:"16px",height:"16px",minWidth:"16px",minHeight:"16px"}}),n!=="collapsed"&&(r[i.title]?e.jsx(J,{className:"h-4 w-4"}):e.jsx(Z,{className:"h-4 w-4"}))]}):e.jsxs(e.Fragment,{children:[i.icon&&e.jsx(i.icon,{style:{width:"16px",height:"16px",minWidth:"16px",minHeight:"16px"}}),e.jsxs("div",{className:"flex items-center gap-1",children:[n!=="collapsed"&&e.jsx("span",{children:i.title}),n!=="collapsed"&&i.badge&&e.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded-full bg-primary text-white",children:i.badge.label})]}),n!=="collapsed"&&(r[i.title]?e.jsx(J,{className:"h-4 w-4 ml-auto"}):e.jsx(Z,{className:"h-4 w-4 ml-auto"}))]})})})}),r[i.title]&&M(i.children)]}):e.jsx(ne,{children:e.jsx(ie,{asChild:!0,isActive:y(i.href),tooltip:{children:i.title},children:i.target==="_blank"?e.jsx("a",{href:i.href||"#",target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 ${l==="right"?"justify-end text-right":"justify-start text-left"}`,children:l==="right"?e.jsxs(e.Fragment,{children:[n!=="collapsed"&&e.jsx("span",{children:i.title}),i.icon&&e.jsx(i.icon,{style:{width:"16px",height:"16px",minWidth:"16px",minHeight:"16px"}})]}):e.jsxs(e.Fragment,{children:[i.icon&&e.jsx(i.icon,{style:{width:"16px",height:"16px",minWidth:"16px",minHeight:"16px"}}),n!=="collapsed"&&e.jsx("span",{children:i.title})]})}):e.jsx(U,{href:i.href||"#",prefetch:!0,className:`flex items-center gap-2 ${l==="right"?"justify-end text-right":"justify-start text-left"}`,children:l==="right"?e.jsxs(e.Fragment,{children:[n!=="collapsed"&&e.jsx("span",{children:i.title}),i.icon&&e.jsx(i.icon,{style:{width:"16px",height:"16px",minWidth:"16px",minHeight:"16px"}})]}):e.jsxs(e.Fragment,{children:[i.icon&&e.jsx(i.icon,{style:{width:"16px",height:"16px",minWidth:"16px",minHeight:"16px"}}),n!=="collapsed"&&e.jsx("span",{children:i.title})]})})})})},i.title))})]})}const Vt=(t,s,a)=>{const n=t[s];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((o,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==a?". Note that variables only represent file names one level deep.":""))))})},Jt=(t,s=[])=>[{title:t("Dashboard"),href:route("dashboard"),icon:Ee,order:10},{title:t("Analytics"),href:route("analytics"),icon:Ae,order:20},{title:t("Business Directory"),icon:Le,children:[{title:t("View Directory"),href:route("directory.index"),target:"_blank"},{title:t("Directory Settings"),href:route("directory.settings")},{title:t("Custom Pages"),href:route("directory.custom-pages.index")}],order:30},{title:t("Companies"),href:route("companies.index"),icon:bt,order:40},{title:t("Media Library"),href:route("media-library"),icon:ve,order:50},{title:t("NFC Cards"),icon:$e,children:[{title:t("NFC Cards"),href:route("nfc-cards.index")},{title:t("NFC Card Requests"),href:route("nfc-cards.order-requests")}],order:60},{title:t("Campaigns"),icon:we,children:[{title:t("Campaigns"),href:route("campaigns.index")},{title:t("Settings"),href:route("campaigns.settings")}],order:70},{title:t("Plans"),icon:Ie,children:[{title:t("Plan"),href:route("plans.index")},{title:t("Plan Request"),href:route("plan-requests.index")},{title:t("Plan Orders"),href:route("plan-orders.index")}],order:80},{title:t("Coupons"),href:route("coupons.index"),icon:qt,order:90},{title:t("Domain Request"),href:route("domain-requests.index"),icon:Et,order:100},{title:t("Currencies"),href:route("currencies.index"),icon:yt,order:110},{title:t("Referral Program"),href:route("referral.index"),icon:Ne,order:120},{title:t("Landing Page"),icon:rt,children:[{title:t("Landing Page"),href:route("landing-page")},{title:t("Custom Pages"),href:route("landing-page.custom-pages.index")}],order:130},{title:t("Email Templates"),href:route("email-templates.index"),icon:Pe,order:140},{title:t("Addons"),href:route("addons.index"),icon:Ce,order:25,badge:window.isDemo?{label:"Premium",variant:"default"}:void 0},{title:t("Settings"),href:route("settings"),icon:_e,order:1e3}].sort((n,o)=>(n.order||999)-(o.order||999)),Zt=(t,s,a,n)=>{var y,k;const o=[];p(s,"manage-dashboard")&&o.push({title:t("Dashboard"),href:route("dashboard"),icon:Ee,order:10}),(p(s,"manage-analytics")||p(s,"view-analytics"))&&o.push({title:t("Analytics"),href:route("company.analytics"),icon:Ae,order:20}),p(s,"manage-business-directory")&&o.push({title:t("Business Directory"),href:route("directory.index"),icon:Le,target:"_blank",order:30});const r=[];p(s,"manage-users")&&r.push({title:t("Users"),href:route("users.index")}),p(s,"manage-roles")&&r.push({title:t("Roles"),href:route("roles.index")}),r.length>0&&o.push({title:t("Staff"),icon:vt,children:r,order:40});const c=[];(p(s,"create-businesses")||p(s,"create-vcard-builder"))&&c.push({title:t("Create New Business"),href:route("vcard-builder.create")}),(p(s,"edit-businesses")||p(s,"edit-vcard-builder"))&&((y=a.user)!=null&&y.current_business)&&c.push({title:t("Edit Business"),href:route("vcard-builder.edit",((k=a.user)==null?void 0:k.current_business)||1)}),(p(s,"manage-businesses")||p(s,"manage-vcard-builder")||p(s,"view-businesses"))&&c.push({title:t("Businesses"),href:route("vcard-builder.index")}),c.length>0&&o.push({title:t("vCard Builder"),icon:Pe,children:c,defaultOpen:!0,badge:window.isDemo?{label:"New",variant:"default"}:void 0,order:50});const l=[];p(s,"create-bio-link-builder")&&l.push({title:t("Create New Bio Link"),href:route("link-bio-builder.create")}),p(s,"manage-bio-link-builder")&&l.push({title:t("Bio Link"),href:route("link-bio-builder.index")}),l.length>0&&o.push({title:t("Bio Link"),icon:Rt,children:l,defaultOpen:!0,badge:window.isDemo?{label:"New",variant:"default"}:void 0,order:60}),p(s,"manage-contacts")&&o.push({title:t("Contacts"),href:route("contacts.index"),icon:wt,order:70}),p(s,"manage-appointments")&&o.push({title:t("Appointments"),href:route("appointments.index"),icon:Pt,order:80}),p(s,"manage-media")&&o.push({title:t("Media Library"),href:route("media-library"),icon:ve,order:90}),p(s,"manage-calendar")&&o.push({title:t("Calendar"),href:route("calendar.index"),icon:Nt,order:100}),p(s,"manage-google-wallet")&&o.push({title:t("Google Wallet"),href:route("google-wallet.index"),icon:Ct,order:110});const m=[];(p(s,"manage-nfc-cards")||p(s,"order-nfc-cards"))&&m.push({title:t("NFC Cards"),href:route("nfc-cards.index")}),(p(s,"manage-nfc-cards")||p(s,"order-nfc-cards"))&&m.push({title:t("My Order Requests"),href:route("nfc-cards.order-requests")}),m.length>0&&o.push({title:t("NFC Cards"),icon:$e,children:m,defaultOpen:!1,order:120}),p(s,"manage-campaigns")&&o.push({title:t("Campaigns"),href:route("campaigns.index"),icon:we,order:130});const d=[];return p(s,"manage-plans")&&d.push({title:t("Plans"),href:route("plans.index")}),p(s,"manage-plan-requests")&&d.push({title:t("My Plan Requests"),href:route("plan-requests.index")}),p(s,"manage-plan-orders")&&d.push({title:t("My Plan Orders"),href:route("plan-orders.index")}),d.length>0&&o.push({title:t("Plans"),icon:Ie,children:d,defaultOpen:!1,order:140}),p(s,"manage-referral")&&(n==null?void 0:n.is_enabled)!==!1&&o.push({title:t("Referral Program"),href:route("referral.index"),icon:Ne}),window.isDemo&&p(s,"manage-addons")&&o.push({title:t("Addons"),href:route("addons.index"),icon:Ce,badge:window.isDemo?{label:"Premium",variant:"default"}:void 0,order:160}),p(s,"manage-settings")&&o.push({title:t("Settings"),href:route("settings"),icon:_e,order:1e3}),o.sort((M,i)=>(M.order||999)-(i.order||999))},Kt=async(t,s,a=[],n=[])=>{var r;const o=[];for(const c of n)try{const l=t==="superadmin"?"superadmin-menu":"company-menu",d=(await Vt(Object.assign({}),`../../../packages/workdo/${c.package_name}/src/resources/js/menus/${l}.ts`,11)).default;(!d.permission||p(a,d.permission))&&(t==="superadmin"?o.push({title:s(d.title),href:d.href,icon:d.icon,order:d.order||500,badge:{label:s("Addon"),variant:"secondary"}}):o.push({title:s(d.title),icon:d.icon,href:d.href,order:d.order||500,badge:{label:s("Addon"),variant:"secondary"},children:(r=d.children)==null?void 0:r.map(y=>({title:s(y.title),href:y.href}))}))}catch{}return o},Xt=async(t,s,a=[],n=null,o=null)=>{let r=[];t==="superadmin"?r=Jt(s,a):r=Zt(s,a,n,o);const c=(n==null?void 0:n.enabledAddons)||[],l=await Kt(t,s,a,c);return r.push(...l),r.sort((m,d)=>(m.order||999)-(d.order||999))};let F=null;const Yt=()=>{F=null};typeof window<"u"&&window.addEventListener("addon-status-changed",()=>{Yt()});const De=ze.memo(()=>{var q,f,W;const{t,i18n:s}=z(),{auth:a,referralSettings:n}=H().props,o=((q=a.user)==null?void 0:q.type)||((f=a.user)==null?void 0:f.role),r=(a==null?void 0:a.permissions)||[],c=((W=a.user)==null?void 0:W.businesses)||[],l=c.find(x=>{var j;return x.id===((j=a.user)==null?void 0:j.current_business)})||c[0];document.documentElement.dir;const m=x=>{te.post(route("switch-business"),{business_id:x},{onSuccess:j=>{var b,A;const N=(b=j.props.flash)==null?void 0:b.success,L=(A=j.props.flash)==null?void 0:A.error;N?B.success(N):L&&B.error(L)},onError:j=>{if(j.error){const N=j.error;B.error(N)}}})},[d,y]=h.useState(()=>(F==null?void 0:F.items)||[]);h.useEffect(()=>{const x=async()=>{const N=JSON.stringify({userRole:o,permissions:[...r].sort(),enabledAddons:((a==null?void 0:a.enabledAddons)||[]).map(L=>L.name).sort(),language:s.language});if(!F||N!==F.hash){const L=await Xt(o,t,r,a,n);F={items:L,hash:N},y(L)}else y(F.items)};x();const j=()=>{x()};return window.addEventListener("sidebar-refresh",j),()=>{window.removeEventListener("sidebar-refresh",j)}},[o,JSON.stringify(r),JSON.stringify(a==null?void 0:a.enabledAddons),s.language]);const{position:k,effectivePosition:M}=Q(),{variant:i,collapsible:g,style:u}=nt(),{logoLight:C,logoDark:v,favicon:w,updateBrandSettings:S}=ee(),[T,P]=h.useState({});h.useEffect(()=>{P(u==="colored"?{backgroundColor:"var(--primary)",color:"white"}:u==="gradient"?{background:"linear-gradient(to bottom, var(--primary), color-mix(in srgb, var(--primary), transparent 20%))",color:"white"}:{})},[u]);const _=d,O=()=>{if(_.length===0)return route("dashboard");const x=_[0];return x.href?x.href:x.children&&x.children.length>0&&x.children[0].href||route("dashboard")};return e.jsxs(it,{side:M,collapsible:g,variant:i,className:u!=="plain"?"sidebar-custom-style":"",children:[e.jsxs(ot,{className:u!=="plain"?"sidebar-styled":"",style:T,children:[e.jsx("div",{className:"flex justify-center items-center p-2",children:e.jsxs(U,{href:O(),prefetch:!0,className:"flex items-center justify-center",children:[e.jsx("div",{className:"h-12 group-data-[collapsible=icon]:hidden flex items-center",children:(()=>{const x=document.documentElement.classList.contains("dark"),j=x?C:v,N=j?j.startsWith("http")?j:j.startsWith("/storage/")?`${window.appSettings.baseUrl}${j}`:j.startsWith("/")?`${window.appSettings.baseUrl}${j}`:j:"";return N?e.jsx("img",{src:N,alt:"Logo",className:"h-10 w-auto max-w-[180px] transition-all duration-200",onError:()=>S({[x?"logoLight":"logoDark"]:""})},`${j}-${Date.now()}`):e.jsx("div",{className:"h-12 text-inherit font-semibold flex items-center text-lg tracking-tight",children:"WorkDo"})})()}),e.jsx("div",{className:"h-8 w-8 hidden group-data-[collapsible=icon]:block",children:(()=>{const x=w?w.startsWith("http")?w:w.startsWith("/storage/")?`${window.appSettings.baseUrl}${w}`:w.startsWith("/")?`${window.appSettings.baseUrl}${w}`:w:"";return x?e.jsx("img",{src:x,alt:"Icon",className:"h-8 w-8 transition-all duration-200",onError:()=>S({favicon:""})},`${w}-${Date.now()}`):e.jsx("div",{className:"h-8 w-8 bg-primary text-white rounded flex items-center justify-center font-bold shadow-sm",children:"W"})})()})]})}),o!=="superadmin"&&c.length>0&&e.jsx("div",{className:"px-2 pb-2",children:e.jsxs(ke,{children:[e.jsx(Se,{asChild:!0,children:e.jsxs($,{variant:"ghost",className:"w-full justify-between h-8 px-2 text-xs group-data-[collapsible=icon]:hidden",style:{color:u!=="plain"?"inherit":void 0},children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(je,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:(l==null?void 0:l.name)||t("Select Business")})]}),e.jsx(J,{className:"h-4 w-4 flex-shrink-0"})]})}),e.jsxs(Me,{align:"start",className:"w-56 max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsx("div",{className:"p-2",children:e.jsx("input",{type:"text",placeholder:"Search business...",className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-primary",onChange:x=>{var N;const j=(N=x.target.parentElement)==null?void 0:N.nextElementSibling;if(j){const L=j.querySelectorAll("[data-business-name]"),b=x.target.value.toLowerCase();L.forEach(A=>{const E=A.getAttribute("data-business-name").toLowerCase();A.style.display=E.includes(b)?"flex":"none"})}}})}),e.jsx("div",{children:c.length>0?c.map(x=>{var j,N;return e.jsxs(K,{onClick:()=>m(x.id),className:x.id===((j=a.user)==null?void 0:j.current_business)?"bg-accent":"","data-business-name":x.name,children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"truncate",children:x.name}),x.id===((N=a.user)==null?void 0:N.current_business)&&e.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"Current"})]},x.id)}):e.jsx(K,{disabled:!0,children:e.jsx("span",{className:"text-muted-foreground",children:"No businesses found"})})})]})]})})]}),e.jsx(lt,{children:e.jsx("div",{style:T,className:`${u!=="plain"?"sidebar-styled":""}`,children:e.jsx(Ht,{items:_,position:M})})}),e.jsx(ct,{})]})});De.displayName="AppSidebar";function Qt({...t}){return e.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function es({className:t,...s}){return e.jsx("ol",{"data-slot":"breadcrumb-list",className:R("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...s})}function ts({className:t,...s}){return e.jsx("li",{"data-slot":"breadcrumb-item",className:R("inline-flex items-center gap-1.5",t),...s})}function ss({asChild:t,className:s,...a}){const n=t?He:"a";return e.jsx(n,{"data-slot":"breadcrumb-link",className:R("hover:text-foreground transition-colors",s),...a})}function as({className:t,...s}){return e.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:R("text-foreground font-normal",t),...s})}function rs({children:t,className:s,...a}){return e.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:R("[&>svg]:size-3.5",s),...a,children:t??e.jsx(Z,{})})}function ns({items:t}){return e.jsx(e.Fragment,{children:t&&t.length>0&&e.jsx(Qt,{children:e.jsx(es,{children:t.map((s,a)=>{const n=a===t.length-1;return e.jsxs(h.Fragment,{children:[e.jsx(ts,{children:n?e.jsx(as,{children:s.label}):e.jsx(ss,{asChild:!0,children:e.jsx(U,{href:s.href||"#",children:s.label})})}),!n&&e.jsx(rs,{})]},a)})})})})}var se="Avatar",[is,Hs]=Ve(se),[os,Re]=is(se),Fe=h.forwardRef((t,s)=>{const{__scopeAvatar:a,...n}=t,[o,r]=h.useState("idle");return e.jsx(os,{scope:a,imageLoadingStatus:o,onImageLoadingStatusChange:r,children:e.jsx(Y.span,{...n,ref:s})})});Fe.displayName=se;var Be="AvatarImage",Te=h.forwardRef((t,s)=>{const{__scopeAvatar:a,src:n,onLoadingStatusChange:o=()=>{},...r}=t,c=Re(Be,a),l=ls(n,r.referrerPolicy),m=Je(d=>{o(d),c.onImageLoadingStatusChange(d)});return ye(()=>{l!=="idle"&&m(l)},[l,m]),l==="loaded"?e.jsx(Y.img,{...r,ref:s,src:n}):null});Te.displayName=Be;var Oe="AvatarFallback",qe=h.forwardRef((t,s)=>{const{__scopeAvatar:a,delayMs:n,...o}=t,r=Re(Oe,a),[c,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const m=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(m)}},[n]),c&&r.imageLoadingStatus!=="loaded"?e.jsx(Y.span,{...o,ref:s}):null});qe.displayName=Oe;function ls(t,s){const[a,n]=h.useState("idle");return ye(()=>{if(!t){n("error");return}let o=!0;const r=new window.Image,c=l=>()=>{o&&n(l)};return n("loading"),r.onload=c("loaded"),r.onerror=c("error"),r.src=t,s&&(r.referrerPolicy=s),()=>{o=!1}},[t,s]),a}var cs=Fe,ds=Te,us=qe;function hs({className:t,...s}){return e.jsx(cs,{"data-slot":"avatar",className:R("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function ms({className:t,...s}){return e.jsx(ds,{"data-slot":"avatar-image",className:R("aspect-square size-full",t),...s})}function ps({className:t,...s}){return e.jsx(us,{"data-slot":"avatar-fallback",className:R("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}function fs(){const{t}=z(),{auth:s}=H().props,a=s==null?void 0:s.user,n=()=>{te.post(route("logout"))},o=a!=null&&a.name?a.name.split(" ").map(c=>c[0]).join("").toUpperCase():"U",r=()=>{var c;if(a.avatar)return`${((c=window.appSettings)==null?void 0:c.baseUrl)||window.location.origin}/storage/${a.avatar}`};return e.jsxs(ke,{children:[e.jsx(Se,{asChild:!0,children:e.jsxs($,{variant:"ghost",className:"flex items-center gap-2 h-8 rounded-md",children:[e.jsx("span",{className:"text-sm font-medium hidden md:inline-block",children:a==null?void 0:a.name}),e.jsxs(hs,{className:"h-8 w-8",children:[e.jsx(ms,{src:r(),alt:a==null?void 0:a.name}),e.jsx(ps,{children:o})]})]})}),e.jsxs(Me,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(ft,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:a==null?void 0:a.email})]})}),e.jsx(ge,{}),e.jsx(xt,{children:e.jsx(K,{asChild:!0,children:e.jsxs(U,{href:route("profile"),children:[e.jsx(kt,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t("Profile")})]})})}),e.jsx(ge,{}),e.jsxs(K,{onClick:n,children:[e.jsx(Bt,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t("Log out")})]})]})]})}function xs({breadcrumbs:t=[]}){const{t:s}=z(),{position:a}=Q();return e.jsx(e.Fragment,{children:e.jsx("header",{className:"border-sidebar-border/50 flex h-14 shrink-0 items-center gap-2 border-b px-4 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-3",children:e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="left"&&e.jsx(ce,{className:"-ml-1"}),e.jsx(ns,{items:t.map(n=>({label:n.title,href:n.href}))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[H().props.isImpersonating&&e.jsx("button",{onClick:()=>te.post(route("impersonate.leave")),className:"bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600 cursor-pointer",children:s("Return Back")}),e.jsx(gt,{}),e.jsx(fs,{}),a==="right"&&e.jsx(ce,{className:"-mr-1"})]})]})})})}function gs({children:t,breadcrumbs:s=[]}){return e.jsxs(zt,{variant:"sidebar",children:[e.jsx(De,{}),e.jsxs(Gt,{variant:"sidebar",children:[e.jsx(xs,{breadcrumbs:s}),t]})]})}function js(){const{titleText:t}=ee();h.useEffect(()=>{const a=document.title.split(" - ");a.length>1?document.title=`${a[0]} - ${t}`:document.title=t},[t])}function bs(){const{themeColor:t,customColor:s,themeMode:a}=ee(),{updateAppearance:n,updateThemeColor:o,updateCustomColor:r}=dt();h.useEffect(()=>{a&&n(a)},[a,n]),h.useEffect(()=>{t&&o(t)},[t,o]),h.useEffect(()=>{s&&t==="custom"&&r(s)},[s,t,r])}const ys=({children:t,breadcrumbs:s,...a})=>{St(),js(),bs();const n=window.isDemo===!0;return e.jsxs(e.Fragment,{children:[e.jsx(gs,{breadcrumbs:s,...a,children:t}),!n&&e.jsx(jt,{})]})};function Vs({title:t,description:s,url:a,actions:n,children:o,noPadding:r=!1,breadcrumbs:c}){const l=c||[{title:t,href:a}];return e.jsxs(ys,{breadcrumbs:l,children:[e.jsx(ut,{title:t}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:t}),n&&n.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:n.map((m,d)=>e.jsxs($,{variant:m.variant||"outline",size:"sm",onClick:m.onClick,className:"cursor-pointer",children:[m.icon&&e.jsx("span",{className:"mr-1",children:m.icon}),m.label]},d))})]}),e.jsx("div",{className:r?"":"rounded-xl border p-6",children:o})]}),e.jsx(X,{})]})}export{hs as A,je as B,Pt as C,Et as E,Ee as L,$e as N,Vs as P,At as a,Wt as b,Rt as c,Bt as d,qt as e,ms as f,ps as g};

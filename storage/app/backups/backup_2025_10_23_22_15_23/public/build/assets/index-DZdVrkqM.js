import{r as g,j as e}from"./ui-DwAOVm1p.js";import{P as ge}from"./page-template-8tWNB1WX.js";import{u as me,K as xe,t as m,S as u,P as V,$ as N,i as $,B as x,w as v,x as y,y as b,C as ue}from"./app-BlWi7cIv.js";import{P as W}from"./pagination-DWltl4Dr.js";import{S as we}from"./search-and-filter-bar-CqATafAe.js";import{D as fe,a as je,b as ve,c as _,d as ye}from"./cookie-consent-BF1mYY4f.js";import{C as be}from"./CrudDeleteModal-D-6F4-pE.js";import{Q as Ne}from"./QRCodeModal-Bde8jXrp.js";import{S as _e}from"./ShareModal-BGcfPvli.js";/* empty css                    */import{E as Y}from"./eye-BE9GWtQY.js";import{S as T}from"./share-2-DhC-lz5D.js";import{S as q}from"./square-pen-WpJU-exV.js";import{T as K}from"./trash-2-BFqA1Oig.js";import{E as Se}from"./ellipsis-vertical-E_i3Nq8y.js";import{L as Ce}from"./link-2-N5PJqzTX.js";import{S as De}from"./store-B0ZvGrkW.js";import{B as $e}from"./briefcase-AuRykhaE.js";import"./vendor-CxtKjBZA.js";import"./textarea-DmNeUOf1.js";import"./select-DV03FLtq.js";import"./index-upgrZYbo.js";import"./chevron-up-DMuWaAmJ.js";import"./react-country-flag.esm-U4UQv2PH.js";import"./language-DYlIyiUn.js";import"./sparkles-tvpsAjMk.js";import"./loader-circle-DUfirWOF.js";import"./copy-Btm1-TBN.js";import"./chevron-right-CTYpggVz.js";import"./chart-column-CrjmBQBc.js";import"./globe-kYq37WGi.js";import"./credit-card-CWCbalqR.js";import"./dollar-sign-B5K61QeY.js";import"./mail-B928cX0J.js";import"./settings-CXB8R1cS.js";import"./users-WU9ta9Er.js";import"./message-square-BEKBBgPS.js";import"./calendar-Jlwl64Lp.js";import"./wallet-z8Vgl1na.js";import"./user-D7_XmPgu.js";import"./use-favicon-BHKlxAc6.js";import"./utils-DBYZG17H.js";import"./date-picker-DFYTG7KS.js";import"./filter-CDRTUPM0.js";import"./list-FKUY8uRs.js";import"./browser-Cf3k5C0K.js";import"./facebook-2uncl42_.js";import"./linkedin-LFnjPlyG.js";function _r({bioLinks:s={data:[]},planLimits:d,filters:l={}}){var Q;const{t:a}=me(),{flash:w}=xe().props,[o,f]=g.useState(l.search||""),[c,P]=g.useState(l.type||"all"),[h,G]=g.useState(()=>{try{return l.view||(typeof localStorage<"u"?localStorage.getItem("biolink-view"):null)||"list"}catch(r){return console.error("Error getting view preference:",r),"list"}});g.useEffect(()=>{w!=null&&w.success&&m.success(w.success),w!=null&&w.error&&m.error(w.error)},[w]),g.useEffect(()=>{try{typeof localStorage<"u"&&h&&localStorage.setItem("biolink-view",h)}catch(r){console.error("Error saving view preference:",r)}},[h]);const[H,M]=g.useState(!1),[J,C]=g.useState(!1),[X,B]=g.useState(!1),[Z,E]=g.useState(!1),[p,D]=g.useState(null),[R,U]=g.useState(""),L=["personal","business","portfolio","social"],k=r=>{D(r),C(!0)},ee=()=>{p&&(m.loading(a("Deleting bio link...")),u.delete(route("bio-link.destroy",p.id),{onSuccess:()=>{C(!1),m.dismiss(),m.success(a("Bio link deleted successfully"))},onError:r=>{m.dismiss(),m.error(`Failed to delete bio link: ${Object.values(r).join(", ")}`)}}))},O=r=>{const t=r.custom_domain?`https://${r.custom_domain}`:`${window.appSettings.baseUrl}/${r.url_prefix||"bio"}/${r.slug}`;(n=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(n);{const j=document.createElement("textarea");return j.value=n,j.style.position="fixed",j.style.left="-999999px",j.style.top="-999999px",document.body.appendChild(j),j.focus(),j.select(),new Promise((he,pe)=>{document.execCommand("copy")?(j.remove(),he()):(j.remove(),pe(new Error("Copy failed")))})}})(t).then(()=>{m.success(a("Link copied to clipboard"))}).catch(()=>{m.error(a("Failed to copy link"))})},F=r=>{D(r);const t=r.custom_domain?`https://${r.custom_domain}`:`${window.appSettings.baseUrl}/${r.url_prefix||"bio"}/${r.slug}`;U(t),B(!0)},z=r=>{D(r);const t=r.custom_domain?`https://${r.custom_domain}`:`${window.appSettings.baseUrl}/${r.url_prefix||"bio"}/${r.slug}`;U(t),E(!0)},re=()=>c!=="all"||o!=="",te=()=>(c!=="all"?1:0)+(o?1:0),ae=r=>{r.preventDefault(),A()},A=()=>{const r={page:1};o&&(r.search=o),c!=="all"&&(r.type=c),l.per_page&&(r.per_page=l.per_page),r.view=h,u.get(route("link-bio-builder.index"),r,{preserveState:!0,preserveScroll:!0})},se=r=>{P(r);const t={page:1};o&&(t.search=o),r!=="all"&&(t.type=r),l.per_page&&(t.per_page=l.per_page),t.view=h,u.get(route("link-bio-builder.index"),t,{preserveState:!0,preserveScroll:!0})},le=()=>{P("all"),f(""),M(!1),u.get(route("link-bio-builder.index"),{page:1,per_page:l.per_page,view:h},{preserveState:!0,preserveScroll:!0})},oe=r=>{switch(r.toLowerCase()){case"business":return e.jsx($e,{className:"h-5 w-5"});case"social":return e.jsx(T,{className:"h-5 w-5"});case"portfolio":return e.jsx(De,{className:"h-5 w-5"});default:return e.jsx(Ce,{className:"h-5 w-5"})}},ne=r=>{var i,n;const t=((i=r.config)==null?void 0:i.theme)||r.link_type||"personal";if((n=r.config)!=null&&n.background)return"bg-gradient-to-br";switch(t.toLowerCase()){case"business":return"bg-gradient-to-br from-blue-500 to-purple-600";case"portfolio":return"bg-gradient-to-br from-green-400 to-teal-600";case"social":return"bg-gradient-to-br from-pink-400 to-orange-500";case"personal":return"bg-gradient-to-br from-indigo-500 to-purple-600";default:return"bg-gradient-to-br from-gray-400 to-gray-600"}},ie=r=>{var i;switch((((i=r.config)==null?void 0:i.theme)||r.link_type||"personal").toLowerCase()){case"business":return"bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[length:20px_20px]";case"portfolio":return"bg-[linear-gradient(0deg,rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[length:20px_20px]";case"social":return"bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.15)_2px,transparent_2px)] bg-[length:24px_24px]";case"personal":return"bg-[linear-gradient(45deg,rgba(255,255,255,0.1)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.1)_50%,rgba(255,255,255,0.1)_75%,transparent_75%,transparent)] bg-[length:10px_10px]";default:return""}},S=!d||d.can_create,ce=[{label:d&&!S?a("Bio Link Limit Reached ({{current}}/{{max}})",{current:d.current_biolinks,max:d.max_biolinks}):a("Create New Bio Link"),icon:e.jsx(V,{className:"h-4 w-4 mr-2"}),variant:S?"default":"outline",onClick:S?()=>u.get(route("link-bio-builder.create")):()=>m.error(a("Bio link limit exceeded. Your plan allows maximum {{max}} bio links. Please upgrade your plan.",{max:d==null?void 0:d.max_biolinks})),disabled:!S}],de=[{title:a("Dashboard"),href:route("dashboard")},{title:a("Bio Links")}],I=[{key:"name",label:a("Bio Link"),sortable:!0,render:(r,t)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center text-gray-600",children:oe(t.link_type)}),e.jsxs("div",{className:"ml-4",children:[e.jsx(N,{href:route("link-bio-builder.edit",t.id),className:"hover:underline",children:e.jsx("div",{className:"text-sm font-medium text-primary cursor-pointer hover:text-primary/80",children:t.name})}),e.jsx("div",{className:"text-sm text-gray-500",children:t.slug})]})]})},{key:"link_type",label:a("Type"),render:r=>e.jsx($,{variant:"outline",className:"capitalize",children:r})},{key:"created_at",label:a("Created"),sortable:!0,render:(r,t)=>{var i;return e.jsxs("div",{className:"flex items-center",children:[(i=window.appSettings)!=null&&i.formatDateTime?window.appSettings.formatDateTime(r,!1):new Date(r).toLocaleDateString(),new Date(r)>new Date(Date.now()-30*24*60*60*1e3)&&e.jsx($,{className:"ml-2 bg-green-500",children:"New"})]})}}];return e.jsxs(ge,{title:a("Bio Link Builder"),url:route("link-bio-builder.index"),actions:ce,breadcrumbs:de,noPadding:!0,children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow mb-4 p-4",children:e.jsx(we,{searchTerm:o,onSearchChange:f,onSearch:ae,filters:[{name:"type",label:a("Link Type"),type:"select",value:c,onChange:se,options:[{value:"all",label:a("All Types")},...L.map(r=>({value:r,label:r.charAt(0).toUpperCase()+r.slice(1)}))]}],showFilters:H,setShowFilters:M,hasActiveFilters:re,activeFilterCount:te,onResetFilters:le,onApplyFilters:A,currentPerPage:((Q=l.per_page)==null?void 0:Q.toString())||"10",onPerPageChange:r=>{const t={page:1,per_page:parseInt(r)};o&&(t.search=o),c!=="all"&&(t.type=c),t.view=h,u.get(route("link-bio-builder.index"),t,{preserveState:!0,preserveScroll:!0})},showViewToggle:!0,activeView:h,onViewChange:r=>{try{G(r);const t={view:r};o&&(t.search=o),c!=="all"&&(t.type=c),l.per_page&&(t.per_page=l.per_page),l.page&&(t.page=l.page),u.get(route("link-bio-builder.index"),t,{preserveState:!0,preserveScroll:!0})}catch(t){console.error("Error in view change handler:",t)}}})}),!s||!s.data||s.data.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:a("You haven't created any bio links yet.")}),e.jsx(N,{href:route("link-bio-builder.create"),children:e.jsxs(x,{children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),a("Create Your First Bio Link")]})})]}):h==="list"?e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[I.map(r=>e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-500",onClick:()=>r.sortable&&Te(r.key),children:e.jsxs("div",{className:"flex items-center",children:[r.label,r.sortable&&e.jsx("span",{className:"ml-1",children:l.sort_field===r.key?l.sort_direction==="asc"?"↑":"↓":""})]})},r.key)),e.jsx("th",{className:"px-4 py-3 text-right font-medium text-gray-500",children:a("Actions")})]})}),e.jsx("tbody",{children:s.data.map(r=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[I.map(t=>e.jsx("td",{className:"px-4 py-3",children:t.render?t.render(r[t.key],r):r[t.key]},`${r.id}-${t.key}`)),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx("a",{href:r.custom_domain?`https://${r.custom_domain}`:`${window.appSettings.baseUrl}/${r.url_prefix||"bio"}/${r.slug}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",children:e.jsx(Y,{className:"h-4 w-4"})})})}),e.jsx(b,{children:a("Preview")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:t=>{t.preventDefault(),z(r)},children:e.jsx(T,{className:"h-4 w-4"})})}),e.jsx(b,{children:a("Share")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:t=>{t.preventDefault(),O(r)},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})}),e.jsx(b,{children:a("Copy Link")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-indigo-500 hover:text-indigo-700",onClick:t=>{t.preventDefault(),F(r)},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"16",rx:"1"})]})})}),e.jsx(b,{children:a("QR Code")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(N,{href:route("link-bio-builder.analytics",r.id),children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-green-500 hover:text-green-700",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})})})}),e.jsx(b,{children:a("Analytics")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(N,{href:route("link-bio-builder.edit",r.id),children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-amber-500 hover:text-amber-700",children:e.jsx(q,{className:"h-4 w-4"})})})}),e.jsx(b,{children:a("Edit")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>k(r),children:e.jsx(K,{className:"h-4 w-4"})})}),e.jsx(b,{children:a("Delete")})]})]})})]},r.id))})]})}),e.jsx(W,{from:(s==null?void 0:s.from)||0,to:(s==null?void 0:s.to)||0,total:(s==null?void 0:s.total)||0,links:s==null?void 0:s.links,entityName:a("bio links"),onPageChange:r=>{if(r)try{const n={page:new URL(r,window.location.origin).searchParams.get("page"),view:h};o&&(n.search=o),c!=="all"&&(n.type=c),l.per_page&&(n.per_page=l.per_page),u.get(route("link-bio-builder.index"),n,{preserveState:!0})}catch(t){console.error("Error parsing pagination URL:",t)}}})]}):e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.data.map(r=>{var t,i;return e.jsxs(ue,{className:"group bg-white overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"h-30 relative overflow-hidden bg-gray-100 group",children:[e.jsx("div",{className:`absolute inset-0 ${ne(r)} ${ie(r)} transition-all duration-500 group-hover:scale-105`,style:(t=r.config)!=null&&t.background?{background:r.config.background.type==="image"?`url(${r.config.background.image}) center/cover`:r.config.background.type==="gradient"?r.config.background.gradient:r.config.background.color}:void 0}),e.jsxs("div",{className:"absolute inset-0 opacity-30 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-[10%] left-[20%] w-12 h-12 rounded-full bg-white/20 animate-float-slow"}),e.jsx("div",{className:"absolute bottom-[30%] right-[15%] w-8 h-8 rounded-full bg-white/10 animate-float-medium"}),e.jsx("div",{className:"absolute top-[40%] right-[25%] w-6 h-6 rounded-full bg-white/15 animate-float-fast"})]}),new Date(r.created_at)>new Date(Date.now()-30*24*60*60*1e3)&&e.jsx("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-semibold py-1 px-3 rounded-full shadow-lg z-10",children:a("New")}),e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsxs(fe,{children:[e.jsx(je,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full bg-black/20 hover:bg-black/30 p-0",children:e.jsx(Se,{className:"h-4 w-4 text-white"})})}),e.jsxs(ve,{align:"end",className:"w-56",sideOffset:5,children:[e.jsxs(_,{onClick:()=>{r.custom_domain?`${r.custom_domain}`:`${window.appSettings.baseUrl}${r.url_prefix||"bio"}${r.slug}`,O(r),m.success(a("Link copied to clipboard"))},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-blue-500",children:[e.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),e.jsx("span",{children:a("Copy Link")})]}),e.jsxs(_,{onClick:()=>z(r),children:[e.jsx(T,{className:"h-4 w-4 mr-2 text-blue-500"}),e.jsx("span",{children:a("Share")})]}),e.jsxs(_,{onClick:()=>F(r),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-indigo-500",children:[e.jsx("rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"16",rx:"1"})]}),e.jsx("span",{children:a("QR Code")})]}),e.jsxs(_,{onClick:()=>u.get(route("link-bio-builder.analytics",r.id)),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-green-500",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),e.jsx("span",{children:a("Analytics")})]}),e.jsx(ye,{}),e.jsxs(_,{onClick:()=>k(r),className:"text-red-600",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:a("Delete")})]})]})]})}),e.jsxs("div",{className:"absolute bottom-3 left-4 right-4 z-10",children:[e.jsx(N,{href:route("link-bio-builder.edit",r.id),children:e.jsx("h3",{className:"text-lg font-bold text-white truncate drop-shadow-md hover:underline cursor-pointer hover:text-primary-foreground",children:r.name})}),e.jsx("p",{className:"text-sm text-white/80 truncate",children:r.link_type})]})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx($,{variant:"outline",className:"capitalize font-medium",children:r.link_type})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a("Created")," ",(i=window.appSettings)!=null&&i.formatDateTime?window.appSettings.formatDateTime(r.created_at,!1):new Date(r.created_at).toLocaleDateString()]})]})}),e.jsx("div",{className:"border-t border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 p-3",children:[e.jsx(N,{href:route("link-bio-builder.edit",r.id),className:"col-span-1",children:e.jsxs(x,{variant:"default",className:"w-full h-9 bg-amber-500 hover:bg-amber-600",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),a("Edit")]})}),e.jsx("a",{href:r.custom_domain?`https://${r.custom_domain}`:`${window.appSettings.baseUrl}/${r.url_prefix||"bio"}/${r.slug}`,target:"_blank",rel:"noopener noreferrer",className:"col-span-1",children:e.jsxs(x,{variant:"outline",className:"w-full h-9 border-blue-500 text-blue-600 hover:bg-blue-50",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),a("Preview")]})})]})})]},r.id)})}),e.jsx("div",{className:"mt-6 bg-white dark:bg-gray-900 rounded-lg shadow overflow-hidden",children:e.jsx(W,{from:(s==null?void 0:s.from)||0,to:(s==null?void 0:s.to)||0,total:(s==null?void 0:s.total)||0,links:s==null?void 0:s.links,entityName:a("bio links"),onPageChange:r=>{if(r)try{const n={page:new URL(r,window.location.origin).searchParams.get("page"),view:h};o&&(n.search=o),c!=="all"&&(n.type=c),l.per_page&&(n.per_page=l.per_page),u.get(route("link-bio-builder.index"),n,{preserveState:!0})}catch(t){console.error("Error parsing pagination URL:",t)}}})})]}),e.jsx(be,{isOpen:J,onClose:()=>C(!1),onConfirm:ee,itemName:(p==null?void 0:p.name)||"",entityName:"bio link"}),e.jsx(Ne,{isOpen:X,onClose:()=>B(!1),url:R,title:(p==null?void 0:p.name)||"Bio Link"}),e.jsx(_e,{isOpen:Z,onClose:()=>E(!1),url:R,title:(p==null?void 0:p.name)||"Bio Link"})]})}function Te(s){try{const d=new URL(window.location.href).searchParams.get("sort_field"),l=new URL(window.location.href).searchParams.get("sort_direction"),a=new URL(window.location.href).searchParams.get("view")||localStorage.getItem("biolink-view")||"list",o={sort_field:s,sort_direction:d===s&&l==="asc"?"desc":"asc",view:a},f=new URL(window.location.href).searchParams;f.get("search")&&(o.search=f.get("search")),f.get("type")&&f.get("type")!=="all"&&(o.type=f.get("type")),f.get("per_page")&&(o.per_page=f.get("per_page")),u.get(route("link-bio-builder.index"),o,{preserveState:!0})}catch(d){console.error("Error handling sort:",d)}}export{_r as default};

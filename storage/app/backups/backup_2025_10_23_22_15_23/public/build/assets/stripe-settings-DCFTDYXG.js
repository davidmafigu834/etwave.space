import{r as d,j as e}from"./ui-DwAOVm1p.js";import{u as k,q as _,L as i,ag as c,w as m,x as h,y as p,I as x,B as u,v as C}from"./app-BlWi7cIv.js";import{S as b}from"./switch-DGQ2xpqa.js";import{A as K,a as M}from"./alert-DtKg3qdz.js";import{C as E}from"./credit-card-CWCbalqR.js";import{C as n}from"./circle-alert-n5kUioWN.js";import{E as j}from"./eye-off-D77K0i5R.js";import{E as f}from"./eye-BE9GWtQY.js";import"./vendor-CxtKjBZA.js";import"./utils-DBYZG17H.js";function q(){const{t}=k(),[s,g]=d.useState({enabled:!1,testMode:!0,publishableKey:"pk_test_51AbCdEfGhIjKlMnOpQrStUvWxYz12345678901234",secretKey:"sk_test_51AbCdEfGhIjKlMnOpQrStUvWxYz12345678901234",webhookSecret:"whsec_1234567890abcdefghijklmnopqrstuvwxyz1234"}),[l,y]=d.useState(!1),[o,S]=d.useState(!1),r=(a,N)=>{g(w=>({...w,[a]:N}))},v=a=>{a.preventDefault(),console.log("Stripe settings submitted:",s)};return e.jsx(_,{title:t("Stripe Payment Settings"),description:t("Configure Stripe payment gateway integration for online payments"),action:e.jsxs(u,{type:"submit",form:"stripe-settings-form",size:"sm",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),t("Save Changes")]}),children:e.jsx("form",{id:"stripe-settings-form",onSubmit:v,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md bg-muted/30",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(E,{className:"h-5 w-5 text-primary mt-0.5"}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"stripeEnabled",className:"text-base font-medium",children:t("Stripe Payment Gateway")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t("Enable or disable Stripe payment processing")})]})]}),e.jsx(b,{id:"stripeEnabled",checked:s.enabled,onCheckedChange:a=>r("enabled",a)})]}),e.jsxs("div",{className:`space-y-6 ${s.enabled?"":"opacity-60"}`,children:[e.jsxs(K,{variant:"info",className:"mb-6",children:[e.jsx(n,{className:"h-4 w-4"}),e.jsxs(M,{children:[t("You need to set up a Stripe account and obtain API keys before enabling this integration."),e.jsx("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"ml-1 underline",children:t("Get your API keys")})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"testMode",className:"font-medium",children:t("Test Mode")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t("Use Stripe test environment for development")})]}),e.jsx(b,{id:"testMode",checked:s.testMode,onCheckedChange:a=>r("testMode",a),disabled:!s.enabled})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{htmlFor:"publishableKey",className:"font-medium",children:s.testMode?"Test Publishable Key":"Live Publishable Key"}),e.jsx(c,{children:e.jsxs(m,{children:[e.jsx(h,{asChild:!0,children:e.jsx(n,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(p,{children:e.jsxs("p",{children:[t("Starts with")," ",s.testMode?"pk_test_":"pk_live_"]})})]})})]}),e.jsx(x,{id:"publishableKey",value:s.publishableKey,onChange:a=>r("publishableKey",a.target.value),placeholder:s.testMode?"pk_test_...":"pk_live_...",className:"font-mono text-sm",disabled:!s.enabled})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{htmlFor:"secretKey",className:"font-medium",children:s.testMode?"Test Secret Key":"Live Secret Key"}),e.jsx(c,{children:e.jsxs(m,{children:[e.jsx(h,{asChild:!0,children:e.jsx(n,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(p,{children:e.jsxs("p",{children:[t("Starts with")," ",s.testMode?"sk_test_":"sk_live_"]})})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{id:"secretKey",type:l?"text":"password",value:s.secretKey,onChange:a=>r("secretKey",a.target.value),placeholder:s.testMode?"sk_test_...":"sk_live_...",className:"font-mono text-sm pr-10",disabled:!s.enabled}),e.jsx(u,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 text-muted-foreground",onClick:()=>y(!l),disabled:!s.enabled,children:l?e.jsx(j,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{htmlFor:"webhookSecret",className:"font-medium",children:t("Webhook Signing Secret")}),e.jsx(c,{children:e.jsxs(m,{children:[e.jsx(h,{asChild:!0,children:e.jsx(n,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(p,{children:e.jsx("p",{children:t("Starts with whsec_")})})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{id:"webhookSecret",type:o?"text":"password",value:s.webhookSecret,onChange:a=>r("webhookSecret",a.target.value),placeholder:t("whsec_..."),className:"font-mono text-sm pr-10",disabled:!s.enabled}),e.jsx(u,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 text-muted-foreground",onClick:()=>S(!o),disabled:!s.enabled,children:o?e.jsx(j,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t("Used to verify webhook events sent by Stripe")})]})]}),e.jsxs("div",{className:"bg-muted/30 p-4 rounded-md border",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:t("Webhook Configuration")}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[t("Set up a webhook in your Stripe dashboard to receive event notifications"),":"]}),e.jsxs("div",{className:"bg-muted p-2 rounded border text-xs font-mono mb-2 break-all",children:[window.appSettings.baseUrl,"/api/webhooks/stripe"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("Required events: payment_intent.succeeded, payment_intent.payment_failed, checkout.session.completed")})]})]})]})})})}export{q as default};

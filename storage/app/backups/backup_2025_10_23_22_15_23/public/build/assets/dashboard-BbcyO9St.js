import{r as p,j as e}from"./ui-DwAOVm1p.js";import{P as k,B as R,N as S}from"./page-template-8tWNB1WX.js";import{u as T,C as i,g as n,d as u,e as h,i as A,S as j}from"./app-BlWi7cIv.js";import{D as P}from"./dashboard-overview-DfsthJfQ.js";import{R as E,T as L}from"./ticket-CMpHD9UK.js";import{C as q}from"./chart-column-CrjmBQBc.js";import{D as B}from"./download-Cd-5XK7j.js";import{C as U}from"./credit-card-CWCbalqR.js";import{C as $}from"./circle-alert-n5kUioWN.js";import{T as G}from"./trending-up-B1kKYkX1.js";import{D as I}from"./dollar-sign-B5K61QeY.js";import{A as O}from"./activity-CHagUXRh.js";import"./vendor-CxtKjBZA.js";import"./textarea-DmNeUOf1.js";import"./select-DV03FLtq.js";import"./index-upgrZYbo.js";import"./chevron-up-DMuWaAmJ.js";import"./react-country-flag.esm-U4UQv2PH.js";import"./language-DYlIyiUn.js";import"./sparkles-tvpsAjMk.js";import"./loader-circle-DUfirWOF.js";import"./copy-Btm1-TBN.js";import"./chevron-right-CTYpggVz.js";import"./cookie-consent-BF1mYY4f.js";import"./globe-kYq37WGi.js";import"./briefcase-AuRykhaE.js";import"./mail-B928cX0J.js";import"./settings-CXB8R1cS.js";import"./users-WU9ta9Er.js";import"./message-square-BEKBBgPS.js";import"./calendar-Jlwl64Lp.js";import"./wallet-z8Vgl1na.js";import"./user-D7_XmPgu.js";import"./use-favicon-BHKlxAc6.js";import"./utils-DBYZG17H.js";import"./eye-BE9GWtQY.js";import"./arrow-right-DDAEGMKC.js";function ye({dashboardData:r}){var x;const{t}=T(),[f,d]=p.useState(!1),[g,m]=p.useState(!1),N=()=>{d(!0),j.reload({only:["dashboardData"]}),setTimeout(()=>d(!1),1e3)},b=()=>{j.visit(route("analytics"))},v=async()=>{m(!0);try{const s=await fetch(route("dashboard.export-report"),{method:"GET",headers:{Accept:"application/pdf"}});if(s.ok){const c=await s.blob(),o=window.URL.createObjectURL(c),l=document.createElement("a");l.href=o,l.download=`dashboard-report-${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(o),document.body.removeChild(l)}else console.error("Export failed:",s.statusText)}catch(s){console.error("Export failed:",s)}finally{m(!1)}},w=[{label:t("Refresh"),icon:e.jsx(E,{className:`h-4 w-4 ${f?"animate-spin":""}`}),variant:"outline",onClick:N},{label:t("Analytics"),icon:e.jsx(q,{className:"h-4 w-4"}),variant:"outline",onClick:b},{label:t(g?"Exporting...":"Export Report"),icon:e.jsx(B,{className:"h-4 w-4"}),variant:"default",onClick:v}],a=(r==null?void 0:r.stats)||{totalCompanies:156,totalNfcCards:89,totalRevenue:45678,activePlans:89,pendingRequests:12,monthlyGrowth:15.2},y=(r==null?void 0:r.recentActivity)||[{id:1,type:"company",message:"New company registered: TechCorp Inc.",time:"2 hours ago",status:"success"},{id:2,type:"plan",message:"Plan upgrade request from ABC Ltd.",time:"4 hours ago",status:"warning"},{id:3,type:"payment",message:"Payment received: $299 from XYZ Corp",time:"6 hours ago",status:"success"},{id:4,type:"domain",message:"Domain request pending approval",time:"8 hours ago",status:"warning"}],C=(r==null?void 0:r.topPlans)||[{name:"Professional",subscribers:45,revenue:13500},{name:"Business",subscribers:32,revenue:9600},{name:"Enterprise",subscribers:12,revenue:7200}];return e.jsx(k,{title:t("Dashboard"),url:"/dashboard",actions:w,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("Active Plans")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:a.activePlans.toLocaleString()})]}),e.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900",children:e.jsx(U,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})})}),e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("Pending Requests")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:a.pendingRequests.toLocaleString()})]}),e.jsx("div",{className:"rounded-full bg-orange-100 p-3 dark:bg-orange-900",children:e.jsx($,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})}),e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("Monthly Growth")}),e.jsxs("h3",{className:"mt-2 text-2xl font-bold",children:["+",a.monthlyGrowth,"%"]})]}),e.jsx("div",{className:"rounded-full bg-emerald-100 p-3 dark:bg-emerald-900",children:e.jsx(G,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})}),e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("Total Companies")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:a.totalCompanies.toLocaleString()})]}),e.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900",children:e.jsx(R,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("NFC Cards")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:((x=a.totalNfcCards)==null?void 0:x.toLocaleString())||0})]}),e.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900",children:e.jsx(S,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("Total Revenue")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:window.appSettings.formatCurrency(a.totalRevenue.toLocaleString())})]}),e.jsx("div",{className:"rounded-full bg-yellow-100 p-3 dark:bg-yellow-900",children:e.jsx(I,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(i,{children:[e.jsx(u,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5"}),t("Recent Activity")]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:y.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${s.status==="success"?"bg-green-500":s.status==="warning"?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.time})]}),e.jsx(A,{variant:s.status==="success"?"default":"secondary",children:s.type})]},s.id))})})]}),e.jsxs(i,{children:[e.jsx(u,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),t("Top Performing Plans")]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:C.map((s,c)=>{var o,l;return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-bold text-primary",children:["#",c+1]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.subscribers," ",t("subscribers")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:[((l=(o=window==null?void 0:window.appSettings)==null?void 0:o.currencySettings)==null?void 0:l.currencySymbol)||"$",s.revenue.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("revenue")})]})]},s.name)})})})]})]}),e.jsx(P,{userType:"superadmin",stats:a})]})})}export{ye as default};

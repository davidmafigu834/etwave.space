import{r as x,j as e}from"./ui-XtzbmeJx.js";import{u as S,K as T,q as w,L as l,I as h,B as j,w as L,S as E,t as k}from"./app--U2u_Nco.js";import{T as m}from"./textarea-DI5KsTzY.js";import{S as D}from"./switch-DN11QdvS.js";import{D as F}from"./download-qOMTGgoX.js";import"./vendor-CxtKjBZA.js";import"./utils-CCVAIzGD.js";function z({settings:u={}}){const{t}=S(),v=T().props,i={enableLogging:!1,strictlyNecessaryCookies:!0,cookieTitle:"Cookie Consent",strictlyCookieTitle:"Strictly Necessary Cookies",cookieDescription:"We use cookies to enhance your browsing experience and provide personalized content.",strictlyCookieDescription:"These cookies are essential for the website to function properly.",contactUsDescription:"If you have any questions about our cookie policy, please contact us.",contactUsUrl:"https://example.com/contact"},s=Object.keys(u).length>0?u:v.settings||{},[c,C]=x.useState(()=>({enableLogging:s.enableLogging==="1"||s.enableLogging===!0||i.enableLogging,strictlyNecessaryCookies:s.strictlyNecessaryCookies==="1"||s.strictlyNecessaryCookies===!0||i.strictlyNecessaryCookies,cookieTitle:s.cookieTitle||i.cookieTitle,strictlyCookieTitle:s.strictlyCookieTitle||i.strictlyCookieTitle,cookieDescription:s.cookieDescription||i.cookieDescription,strictlyCookieDescription:s.strictlyCookieDescription||i.strictlyCookieDescription,contactUsDescription:s.contactUsDescription||i.contactUsDescription,contactUsUrl:s.contactUsUrl||i.contactUsUrl}));x.useEffect(()=>{Object.keys(s).length>0&&C(o=>({...o,enableLogging:s.enableLogging==="1"||s.enableLogging===!0||i.enableLogging,strictlyNecessaryCookies:s.strictlyNecessaryCookies==="1"||s.strictlyNecessaryCookies===!0||i.strictlyNecessaryCookies,cookieTitle:s.cookieTitle||i.cookieTitle,strictlyCookieTitle:s.strictlyCookieTitle||i.strictlyCookieTitle,cookieDescription:s.cookieDescription||i.cookieDescription,strictlyCookieDescription:s.strictlyCookieDescription||i.strictlyCookieDescription,contactUsDescription:s.contactUsDescription||i.contactUsDescription,contactUsUrl:s.contactUsUrl||i.contactUsUrl}))},[s]);const n=(o,r)=>{C(a=>({...a,[o]:r}))},f=o=>{o.preventDefault(),E.post(route("settings.cookie.update"),c,{preserveScroll:!0,onSuccess:r=>{var g,p;const a=(g=r.props.flash)==null?void 0:g.success,y=(p=r.props.flash)==null?void 0:p.error;a?k.success(a):y&&k.error(y)},onError:r=>{const a=r.error||Object.values(r).join(", ")||t("Failed to update cookie settings");k.error(a)}})},b=()=>{const o=new Date,r=o.toISOString().split("T")[0],a=o.toISOString().split("T")[1].split(".")[0]+" UTC",g=[["IP","Date","Time","Accepted-cookies","Device type","Browser language","Browser name","OS Name","Country","Region","RegionName","City","Zipcode","Lat","Lon"],["49.36.83.154",r,a,"necessary","desktop","en","Chrome","Linux","India","GJ","Gujarat","Surat","395007","21.1888","72.8293"]].map(U=>U.join("	")).join("\n"),p=new Blob([g],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),N=URL.createObjectURL(p);d.setAttribute("href",N),d.setAttribute("download","cookie_data.csv"),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),k.success(t("Cookie data CSV downloaded successfully"))};return e.jsx(w,{title:t("Cookie Settings"),description:t("Configure cookie consent and privacy settings for your application"),action:e.jsxs(j,{type:"submit",form:"cookie-settings-form",size:"sm",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),t("Save Changes")]}),children:e.jsxs("form",{id:"cookie-settings-form",onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{htmlFor:"enableLogging",children:t("Enable Logging")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("Enable cookie activity logging")})]}),e.jsx(D,{id:"enableLogging",checked:c.enableLogging,onCheckedChange:o=>n("enableLogging",o)})]}),e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{htmlFor:"strictlyNecessaryCookies",children:t("Strictly Necessary Cookies")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("Enable strictly necessary cookies")})]}),e.jsx(D,{id:"strictlyNecessaryCookies",checked:c.strictlyNecessaryCookies,onCheckedChange:o=>n("strictlyNecessaryCookies",o)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"cookieTitle",children:t("Cookie Title")}),e.jsx(h,{id:"cookieTitle",type:"text",value:c.cookieTitle,onChange:o=>n("cookieTitle",o.target.value),placeholder:t("Enter the main cookie consent title")})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"strictlyCookieTitle",children:t("Strictly Cookie Title")}),e.jsx(h,{id:"strictlyCookieTitle",type:"text",value:c.strictlyCookieTitle,onChange:o=>n("strictlyCookieTitle",o.target.value),placeholder:t("Enter the strictly necessary cookies title")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"cookieDescription",children:t("Cookie Description")}),e.jsx(m,{id:"cookieDescription",value:c.cookieDescription,onChange:o=>n("cookieDescription",o.target.value),placeholder:t("Enter the cookie consent description"),rows:4})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"strictlyCookieDescription",children:t("Strictly Cookie Description")}),e.jsx(m,{id:"strictlyCookieDescription",value:c.strictlyCookieDescription,onChange:o=>n("strictlyCookieDescription",o.target.value),placeholder:t("Enter the strictly necessary cookies description"),rows:4})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"contactUsDescription",children:t("Contact Us Description")}),e.jsx(m,{id:"contactUsDescription",value:c.contactUsDescription,onChange:o=>n("contactUsDescription",o.target.value),placeholder:t("Enter the contact us description for cookie inquiries"),rows:3})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"contactUsUrl",children:t("Contact Us URL")}),e.jsx(h,{id:"contactUsUrl",type:"url",value:c.contactUsUrl,onChange:o=>n("contactUsUrl",o.target.value),placeholder:t("Enter the contact us URL for cookie inquiries")})]})]}),c.enableLogging&&e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:t("Download Accepted Cookies")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t(" Download a CSV file of accepted cookie preferences")})]}),e.jsxs(j,{type:"button",variant:"outline",size:"sm",onClick:b,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),t(" Download CSV")]})]})})]})})}export{z as default};

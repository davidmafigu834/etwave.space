!function(){function e(s){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(s)}function s(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(s){r(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function r(s,t,r){return(t=function(s){var t=function(s,t){if("object"!=e(s)||!s)return s;var r=s[Symbol.toPrimitive];if(void 0!==r){var n=r.call(s,t||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(s)}(s,"string");return"symbol"==e(t)?t:t+""}(t))in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function n(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,s,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function i(t,r,n,l){var i=r&&r.prototype instanceof o?r:o,d=Object.create(i.prototype);return a(d,"_invoke",function(t,r,n){var l,a,i,o=0,d=n||[],u=!1,m={p:0,n:0,v:e,a:x,f:x.bind(e,4),d:function(s,t){return l=s,a=0,i=e,m.n=t,c}};function x(t,r){for(a=t,i=r,s=0;!u&&o&&!n&&s<d.length;s++){var n,l=d[s],x=m.p,p=l[2];t>3?(n=p===r)&&(i=l[(a=l[4])?5:(a=3,3)],l[4]=l[5]=e):l[0]<=x&&((n=t<2&&x<l[1])?(a=0,m.v=r,m.n=l[1]):x<p&&(n=t<3||l[0]>r||r>p)&&(l[4]=t,l[5]=r,m.n=p,a=0))}if(n||t>1)return c;throw u=!0,r}return function(n,d,p){if(o>1)throw TypeError("Generator is already running");for(u&&1===d&&x(d,p),a=d,i=p;(s=a<2?e:i)||!u;){l||(a?a<3?(a>1&&(m.n=-1),x(a,i)):m.n=i:m.v=i);try{if(o=2,l){if(a||(n="next"),s=l[n]){if(!(s=s.call(l,i)))throw TypeError("iterator result is not an object");if(!s.done)return s;i=s.value,a<2&&(a=0)}else 1===a&&(s=l.return)&&s.call(l),a<2&&(i=TypeError("The iterator does not provide a '"+n+"' method"),a=1);l=e}else if((s=(u=m.n<0)?i:t.call(r,m))!==c)break}catch(s){l=e,a=1,i=s}finally{o=1}}return{value:s,done:u}}}(t,n,l),!0),d}var c={};function o(){}function d(){}function u(){}s=Object.getPrototypeOf;var m=[][r]?s(s([][r]())):(a(s={},r,function(){return this}),s),x=u.prototype=o.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,a(e,n,"GeneratorFunction")),e.prototype=Object.create(x),e}return d.prototype=u,a(x,"constructor",u),a(u,"constructor",d),d.displayName="GeneratorFunction",a(u,n,"GeneratorFunction"),a(x),a(x,n,"Generator"),a(x,r,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),(l=function(){return{w:i,m:p}})()}function a(e,s,t,r){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}a=function(e,s,t,r){function l(s,t){a(e,s,function(e){return this._invoke(s,t,e)})}s?n?n(e,s,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[s]=t:(l("next",0),l("throw",1),l("return",2))},a(e,s,t,r)}function i(e,s,t,r,n,l,a){try{var i=e[l](a),c=i.value}catch(e){return void t(e)}i.done?s(c):Promise.resolve(c).then(r,n)}function c(e){return function(){var s=this,t=arguments;return new Promise(function(r,n){var l=e.apply(s,t);function a(e){i(l,r,n,a,c,"next",e)}function c(e){i(l,r,n,a,c,"throw",e)}a(void 0)})}}function o(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,l,a,i=[],c=!0,o=!1;try{if(l=(t=t.call(e)).next,0===s){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=l.call(t)).done)&&(i.push(r.value),i.length!==s);c=!0);}catch(e){o=!0,n=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(o)throw n}}return i}}(e,s)||d(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,s){if(e){if("string"==typeof e)return u(e,s);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,s):void 0}}function u(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,r=Array(s);t<s;t++)r[t]=e[t];return r}System.register(["./ui-legacy-Df76W54t.js","./page-template-legacy-BF4pAgRj.js","./app-legacy-Ccoue2ey.js","./progress-legacy-C-1V4zkv.js","./dashboard-overview-legacy-eQS-L5Yp.js","./VCardPreview-legacy-BrFoBg7n.js","./browser-legacy-BMn7R3cR.js","./ShareModal-legacy-CY3zKOLh.js","./DashboardOnboardingWizard-legacy-f99JIbaw.js","./refresh-cw-legacy-BCVgmD54.js","./chart-column-legacy-Cn-Pu6-7.js","./users-legacy-Cz-M9xyG.js","./mail-legacy-DBTdNFmc.js","./message-square-legacy-C4cvBxJB.js","./app-sidebar-layout-legacy-CLHyWU4i.js","./eye-legacy-BErJlCJG.js","./trending-up-legacy-CZfISHGe.js","./qr-code-legacy-CJRVbNrn.js","./share-2-legacy-BEU9hWmo.js","./hard-drive-legacy-M8lWGw0K.js","./PieChart-legacy-DFDUlEbX.js","./clock-legacy-C2ey8uhF.js","./vendor-legacy-DNs0y6R6.js","./app-layout-legacy-BoJkMdXe.js","./use-favicon-legacy-CC-T3M52.js","./cookie-consent-legacy-DEXuPW7O.js","./utils-legacy-4AQaPo1J.js","./sparkles-legacy-sJaWTKoM.js","./credit-card-legacy-AOdrHphW.js","./arrow-right-legacy-BJIUtQEK.js","./play-legacy-O7GmfVD1.js","./SocialIcon-legacy-CO5ufFpi.js","./download-legacy-CX44wdxP.js","./copy-legacy-BIfPI-rv.js","./sectionHelpers-legacy-CXpKKeJZ.js","./index-legacy-BEPcOyhG.js","./borehole-drilling-legacy-ImJkgP5Q.js","./language-legacy-CPKUrWoi.js","./calendar-legacy-xKHlC2rz.js","./youtube-legacy-DU8Vc2c3.js","./wrench-legacy-BgNcXUk3.js","./phone-legacy-DdsKiRpC.js","./globe-legacy-DrxQ7gox.js","./map-pin-legacy-yqGSCril.js","./video-legacy-CUEw_nsQ.js","./star-legacy-DuEw9QsB.js","./house-legacy-Q5V1eCDy.js","./award-legacy-D3fiie_u.js","./user-legacy-hWI7zqjr.js","./briefcase-legacy-DpLHZyRP.js","./building-legacy-XETllJ7P.js","./dollar-sign-legacy-BUXPIc5Q.js","./package-legacy-D7F3k5ak.js","./smartphone-legacy-PaHPrBOG.js","./menu-legacy-DQTtVKQK.js","./camera-legacy-Cm2-B1FO.js","./heart-legacy-8ZjrUExq.js","./external-link-legacy-BSoCC3YY.js","./chevron-right-legacy-GQXTpPPv.js","./chevron-up-legacy-BCEHjwgE.js","./instagram-legacy-L69Qd6XB.js","./facebook-legacy-DPsF_hq3.js","./shopping-bag-legacy-DTA1H9ag.js","./shield-check-legacy-DukN5mv-.js","./compass-legacy-D0ux7T5G.js","./shield-legacy-wm3IqY8n.js","./circle-check-big-legacy-uwkT3K8H.js","./circle-check-legacy-D4iO1AEe.js","./code-legacy-BMrwBJql.js","./linkedin-legacy-BbWGyYH-.js","./settings-legacy-CgFst_op.js","./zap-legacy-82cyTMUv.js","./monitor-legacy-vxnPshdR.js","./ticket-legacy-BRYXlal_.js","./circle-help-legacy-CoRY2j2E.js","./target-legacy-C0PE98QV.js","./shopping-cart-legacy-9JxqQw1J.js","./activity-legacy-CfJKlvoc.js","./lightbulb-legacy-B2m1zPaS.js","./layers-legacy-DBaZQ6r0.js","./sun-medium-legacy-DLvLefoW.js","./RetailShopTemplate-legacy-D3RFbEAh.js","./BoreholeDrillingTemplate-legacy-64otfmLR.js","./waves-legacy-DinMyh3-.js","./message-circle-legacy-DI2Zgvge.js","./droplet-legacy-A8wJr6Kn.js","./quote-legacy-joeQdhGw.js","./textarea-legacy-CJiaJOZ9.js","./select-legacy-BHn91CeG.js","./index-legacy-BrP_l-Mm.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./loader-circle-legacy-Bw1sjScJ.js","./language-switcher-legacy-DNvY0QDy.js","./wallet-legacy-IsHGS0vu.js","./arrow-left-legacy-D0MnJHlx.js","./react-redux-legacy-COhswo-V.js"],function(e,s){"use strict";var r,a,i,d,u,m,x,p,f,h,g,j,v,y,b,N,w,k,_,C,S,O,P,A,z,T,E,B,M,G,L,R,D,F,U,V,H,Q,I,W,K,Y,q,$,J;return{setters:[function(e){r=e.R,a=e.j,i=e.r},function(e){d=e.P},function(e){u=e.K,m=e.u,x=e.G,p=e.C,f=e.k,h=e.d,g=e.H,j=e.e,v=e.f,y=e.i,b=e.g,N=e.J,w=e.r,k=e.B,_=e.F,C=e.h,S=e.P,O=e.N,P=e.$},function(e){A=e.P},function(e){z=e.D},function(e){T=e.V},function(e){E=e.Q},function(e){B=e.S},function(e){M=e.default},function(e){G=e.R},function(e){L=e.C},function(e){R=e.U},function(e){D=e.M},function(e){F=e.M},function(e){U=e.C},function(e){V=e.E},function(e){H=e.T},function(e){Q=e.Q},function(e){I=e.S},function(e){W=e.H},function(e){K=e.P,Y=e.a,q=e.C,$=e.T},function(e){J=e.C},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",function(e){var i,x,f,g,v,N,w,_,C,M,ee,se=e.dashboardData,te=m().t,re=u().props.auth,ne=s().hasPermission,le=(null===(i=re.user)||void 0===i||null===(i=i.businesses)||void 0===i?void 0:i.find(function(e){var s;return e.id===(null===(s=re.user)||void 0===s?void 0:s.current_business)}))||(null===(x=re.user)||void 0===x||null===(x=x.businesses)||void 0===x?void 0:x[0]),ae=(null===(f=re.user)||void 0===f?void 0:f.onboardingProfile)||(null===(g=re.user)||void 0===g?void 0:g.onboarding_profile),ie="company"===(null===(v=re.user)||void 0===v?void 0:v.type),ce=[{label:te("Refresh"),icon:a.jsx(G,{className:"h-4 w-4"}),variant:"outline",onClick:function(){return window.location.reload()}}].concat(n(ne(["manage-analytics","view-analytics"])?[{label:te("Analytics"),icon:a.jsx(L,{className:"h-4 w-4"}),variant:"outline",onClick:function(){return window.location.href=route("analytics")}}]:[]),n(ne(["create-businesses","create-vcard-builder"])?[{label:te("Create Business"),icon:a.jsx(S,{className:"h-4 w-4"}),variant:"default",onClick:function(){return window.location.href=route("vcard-builder.create")}}]:[]));ie&&ce.push({label:te("Business Profile"),icon:a.jsx(R,{className:"h-4 w-4"}),variant:"outline",onClick:function(){return window.dispatchEvent(new CustomEvent("open-onboarding-wizard"))}});var oe={totalBusinesses:Number(null==se||null===(N=se.stats)||void 0===N?void 0:N.totalBusinesses)||0,totalContacts:Number(null==se||null===(w=se.stats)||void 0===w?void 0:w.totalContacts)||0,totalAppointments:Number(null==se||null===(_=se.stats)||void 0===_?void 0:_.totalAppointments)||0,totalViews:Number(null==se||null===(C=se.stats)||void 0===C?void 0:C.totalViews)||0,monthlyGrowth:Number(null==se||null===(M=se.stats)||void 0===M?void 0:M.monthlyGrowth)||0},de=(null==se?void 0:se.recentContacts)||[],ue=(null==se?void 0:se.recentAppointments)||[],me=o(r.useState(!1),2),xe=me[0],pe=me[1],fe=o(r.useState(""),2),he=fe[0],ge=fe[1];return a.jsxs(a.Fragment,{children:[a.jsx(X,{}),a.jsxs(d,{title:te("Dashboard"),description:te("Monitor performance, manage engagements, and keep your business profile up to date."),url:"/dashboard",actions:ce,children:[a.jsxs("div",{className:"space-y-6 overflow-x-hidden",children:[ie&&!(null!=ae&&ae.completed_at)&&a.jsx("div",{className:"rounded-3xl border border-primary/20 bg-primary/5 px-5 py-4 md:px-6 md:py-5",children:a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-semibold text-primary",children:te("Complete your business profile")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:te("Weâ€™ll personalise templates, copy, and suggestions for you once we know more about your business.")})]}),a.jsx(k,{variant:"default",onClick:function(){return window.dispatchEvent(new CustomEvent("open-onboarding-wizard"))},className:"self-start md:self-auto",children:te("Start onboarding")})]})}),a.jsxs("div",{className:"grid gap-3 sm:gap-4 md:grid-cols-2 lg:grid-cols-5",children:[a.jsx(p,{children:a.jsx(b,{className:"p-3 sm:p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:te("Total Businesses")}),a.jsx("h3",{className:"mt-2 text-2xl font-bold",children:oe.totalBusinesses.toLocaleString()})]}),a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900",children:a.jsx(D,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),a.jsx(p,{children:a.jsx(b,{className:"p-3 sm:p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:te("Total Contacts")}),a.jsx("h3",{className:"mt-2 text-2xl font-bold",children:oe.totalContacts.toLocaleString()})]}),a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900",children:a.jsx(F,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),a.jsx(p,{children:a.jsx(b,{className:"p-3 sm:p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:te("Appointments")}),a.jsx("h3",{className:"mt-2 text-2xl font-bold",children:oe.totalAppointments.toLocaleString()})]}),a.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900",children:a.jsx(U,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})})}),a.jsx(p,{children:a.jsx(b,{className:"p-3 sm:p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:te("Total Views")}),a.jsx("h3",{className:"mt-2 text-2xl font-bold",children:oe.totalViews.toLocaleString()})]}),a.jsx("div",{className:"rounded-full bg-orange-100 p-3 dark:bg-orange-900",children:a.jsx(V,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})}),a.jsx(p,{children:a.jsx(b,{className:"p-3 sm:p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:te("Monthly Growth")}),a.jsxs("h3",{className:"mt-2 text-2xl font-bold",children:["+",Number(oe.monthlyGrowth)||0,"%"]})]}),a.jsx("div",{className:"rounded-full bg-emerald-100 p-3 dark:bg-emerald-900",children:a.jsx(H,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})})]}),a.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[le?a.jsxs(p,{className:"lg:col-span-1",children:[a.jsx(h,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-primary",children:le.name.charAt(0)})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:le.name}),a.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:(null===(ee=le.business_type)||void 0===ee?void 0:ee.replace("-"," "))||"General"})]})]}),a.jsxs(y,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1"}),te("Live")]})]})}),a.jsxs(b,{className:"pt-0 p-3 sm:p-4 lg:p-6",children:[a.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg overflow-hidden mb-4",children:a.jsx("div",{className:"w-full overflow-y-auto overflow-x-hidden max-h-[420px] shadow-sm",children:a.jsx(T,{businessType:le.business_type||"freelancer",data:t(t({},le),{},{config_sections:le.config_sections||{},template_config:{sections:le.config_sections||{},sectionSettings:le.config_sections||{}}}),template:null})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),a.jsx("span",{className:"text-sm font-medium",children:te("URL")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{className:"px-2 py-1 rounded bg-background text-xs font-mono truncate",children:le.custom_domain?le.custom_domain:"/".concat(le.url_prefix||"v","/").concat(le.slug)}),a.jsx(k,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:(ke=c(l().m(function e(){var s;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return s=le.custom_domain?"https://".concat(le.custom_domain):le.url_prefix&&""!==le.url_prefix?route("public.vcard.show",{prefix:le.url_prefix,slug:le.slug},!0):route("public.vcard.show.direct",le.slug,!0),e.p=1,e.n=2,navigator.clipboard.writeText(s);case 2:O.success(te("Link copied to clipboard!")),e.n=4;break;case 3:e.p=3,e.v,O.error(te("Failed to copy link"));case 4:return e.a(2)}},e,null,[[1,3]])})),function(){return ke.apply(this,arguments)}),children:a.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(k,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(P,{href:route("vcard-builder.edit",le.id),children:te("Edit")})}),a.jsx(k,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(P,{href:route("vcard-builder.preview",le.id),target:"_blank",children:te("Preview")})}),a.jsx(k,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(P,{href:route("vcard-builder.index"),children:te("Businesses")})})]})]})]})]}):a.jsxs(p,{className:"lg:col-span-1 flex flex-col justify-center items-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:a.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"bg-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"var(--theme-color)",stopOpacity:"0.08"}),a.jsx("stop",{offset:"100%",stopColor:"var(--theme-color)",stopOpacity:"0.18"})]})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#bg-gradient)"}),a.jsx("circle",{cx:"15",cy:"15",r:"40",fill:"var(--theme-color)",opacity:"0.05"}),a.jsx("circle",{cx:"85",cy:"85",r:"30",fill:"var(--theme-color)",opacity:"0.07"}),a.jsx("path",{d:"M0,60 Q25,50 50,60 T100,60 V100 H0 Z",fill:"var(--theme-color)",opacity:"0.1"})]})}),a.jsxs(b,{className:"py-12 z-10 flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:a.jsx(D,{className:"h-8 w-8 text-primary"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:te("No Business Yet")}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-xs",children:te("Create your first digital business card to showcase your brand and connect with customers.")}),a.jsx(P,{href:route("vcard-builder.create"),className:"relative z-10",children:a.jsxs(k,{size:"lg",className:"flex items-center",children:[a.jsx(S,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:te("Create Business")})]})})]})]}),a.jsxs("div",{className:"lg:col-span-1 space-y-6 h-full flex flex-col",children:[a.jsx(Z,{}),le&&a.jsx(p,{className:"flex-1",children:a.jsx(b,{className:"p-3 sm:p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-start justify-between h-full",children:[a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:(we=(new Date).getHours(),te(we<12?"Good Morning":we<17?"Good Afternoon":"Good Evening"))}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:te("Create and share digital business cards instantly. Connect with customers through QR codes and direct links.")})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[a.jsx("p",{children:te("Share via QR code, social media, or direct link")}),a.jsx("p",{children:te("Track engagement and grow your network")}),a.jsx("p",{children:te("Eco-friendly alternative to traditional paper cards")}),a.jsx("p",{children:te("Customizable templates for every industry")})]})})]}),a.jsxs("div",{className:"flex flex-col items-center space-y-2 min-w-0",children:[a.jsx("div",{className:"w-28 h-28 bg-white border rounded-lg p-2 shadow-sm",children:(ve=le.custom_domain?"https://".concat(le.custom_domain):le.url_prefix&&""!==le.url_prefix?route("public.vcard.show",{prefix:le.url_prefix,slug:le.slug},!0):route("public.vcard.show.direct",le.slug,!0),ye=o(r.useState(""),2),be=ye[0],Ne=ye[1],r.useEffect(function(){E.toDataURL(ve,{width:96,margin:1}).then(function(e){return Ne(e)}).catch(function(e){return console.error(e)})},[ve]),be?a.jsx("img",{src:be,alt:"QR Code",className:"w-full h-full rounded"}):a.jsx("div",{className:"w-full h-full bg-gray-100 rounded flex items-center justify-center",children:a.jsx(Q,{className:"h-12 w-12 text-gray-500"})}))}),a.jsx("p",{className:"text-xs text-center text-muted-foreground px-2",children:te("Scan to view card")}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full",children:[a.jsx(k,{variant:"default",size:"sm",className:"h-8 text-xs bg-primary hover:bg-primary/90",onClick:(je=c(l().m(function e(){var s;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return s=le.custom_domain?"https://".concat(le.custom_domain):le.url_prefix&&""!==le.url_prefix?route("public.vcard.show",{prefix:le.url_prefix,slug:le.slug},!0):route("public.vcard.show.direct",le.slug,!0),e.p=1,e.n=2,navigator.clipboard.writeText(s);case 2:O.success(te("Link copied to clipboard!")),e.n=4;break;case 3:e.p=3,e.v,O.error(te("Failed to copy link"));case 4:return e.a(2)}},e,null,[[1,3]])})),function(){return je.apply(this,arguments)}),children:a.jsx("svg",{className:"h-3 w-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),a.jsx(k,{variant:"outline",size:"sm",className:"h-8 text-xs border-primary text-primary hover:bg-primary/10",onClick:function(){var e=le.custom_domain?"https://".concat(le.custom_domain):le.url_prefix&&""!==le.url_prefix?route("public.vcard.show",{prefix:le.url_prefix,slug:le.slug},!0):route("public.vcard.show.direct",le.slug,!0);ge(e),pe(!0)},children:a.jsx(I,{className:"h-3 w-3 mr-1"})})]})]})]})})}),a.jsxs(p,{className:"flex-1",children:[a.jsx(h,{className:"pb-3",children:a.jsxs(j,{className:"flex items-center gap-2 text-sm",children:[a.jsx(W,{className:"h-4 w-4"}),te("Storage Usage")]})}),a.jsx(b,{className:"pt-0 p-3 sm:p-4 lg:p-6",children:function(e,s,t){var r=Number(null===(e=re.user)||void 0===e?void 0:e.storage_limit)||0;["company","superadmin"].includes(null===(s=re.user)||void 0===s?void 0:s.type);var n=Number(null===(t=re.user)||void 0===t||null===(t=t.plan)||void 0===t?void 0:t.storage_limit)||5,l=1024*n*1024*1024;if(window.isDemo){r=Math.min(751619276.8,l)}var i=r>0?Math.max(Math.min(Math.round(Number(r)/Number(l)*100),100),1):0,c=Math.max(100-i,0),o=function(e){var s=Number(e)||0;return s<1024?"".concat(s," B"):s<1048576?"".concat((s/1024).toFixed(1)," KB"):s<1073741824?"".concat((s/1048576).toFixed(1)," MB"):"".concat((s/1073741824).toFixed(1)," GB")},d=o(r),u=(Number(n)||5).toFixed(1),m=o(l-r);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center mb-4 relative",children:[a.jsxs(K,{width:120,height:120,children:[a.jsxs(Y,{data:[{name:"Used",value:i},{name:"Free",value:c}],cx:60,cy:60,innerRadius:35,outerRadius:50,dataKey:"value",children:[a.jsx(q,{fill:"var(--theme-color)"}),a.jsx(q,{fill:"#e5e7eb"})]}),a.jsx($,{formatter:function(e){return["".concat(e,"%"),"Storage"]}})]}),a.jsxs("div",{className:"absolute flex flex-col items-center",children:[a.jsxs("span",{className:"text-lg font-bold text-primary",children:[i,"%"]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:te("Used")})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:te("Used Storage")}),a.jsx("span",{className:"font-medium",children:d})]}),a.jsx(A,{value:i,className:"h-2"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:te("Available")}),a.jsx("span",{className:"font-medium",children:m})]}),a.jsxs("div",{className:"pt-2 border-t text-center",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:te("{{used}} of {{total}} GB used",{used:d,total:u})}),a.jsxs("p",{className:"text-xs font-medium mt-1 capitalize",children:["Premium"," ",te("Plan")]})]})]})]})}()})]})]}),a.jsxs(p,{className:"lg:col-span-1",children:[a.jsx(h,{className:"pb-4",children:a.jsxs(j,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:a.jsx(J,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),te("Recent Activity")]}),a.jsx(y,{variant:"secondary",className:"text-xs",children:[].concat(n(de),n(ue)).length})]})}),a.jsxs(b,{className:"pt-0 p-3 sm:p-4 lg:p-6",children:[a.jsx("div",{className:"space-y-2 mb-6",children:[].concat(n(de),n(ue)).sort(function(e,s){var t,r,n,l,a=new Date(null!==(t=null!==(r=e.created_at)&&void 0!==r?r:e.date)&&void 0!==t?t:0).getTime();return new Date(null!==(n=null!==(l=s.created_at)&&void 0!==l?l:s.date)&&void 0!==n?n:0).getTime()-a}).slice(0,6).map(function(e,s){return a.jsxs("div",{className:"group flex items-start gap-3 p-3 rounded-xl hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-950/20 dark:hover:to-indigo-950/20 transition-all duration-200 cursor-pointer border border-transparent hover:border-blue-200 dark:hover:border-blue-800",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ".concat("email"in e?"bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30":"bg-gradient-to-br from-purple-100 to-violet-100 dark:from-purple-900/30 dark:to-violet-900/30"),children:"email"in e?a.jsx(F,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):a.jsx(U,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-gray-900 dark:text-gray-100 mb-1",children:"email"in e?e.name:e.title}),a.jsx("p",{className:"text-xs text-muted-foreground truncate mb-1",children:"email"in e?e.email:e.date})]}),"status"in e&&a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"confirmed"===e.status?"#10b981":"pending"===e.status?"#f59e0b":"#ef4444"}}),a.jsx("span",{className:"text-xs capitalize",style:{color:"confirmed"===e.status?"#10b981":"pending"===e.status?"#f59e0b":"#ef4444"},children:e.status})]})]})})]},s)})}),a.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-800 space-y-3",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(k,{variant:"outline",size:"sm",className:"h-8",asChild:!0,children:a.jsxs(P,{href:route("contacts.index"),children:[a.jsx(F,{className:"h-3 w-3 mr-1"}),te("Contacts")]})}),a.jsx(k,{variant:"outline",size:"sm",className:"h-8",asChild:!0,children:a.jsxs(P,{href:route("appointments.index"),children:[a.jsx(U,{className:"h-3 w-3 mr-1"}),te("Appointments")]})})]})})]})]})]}),a.jsx(z,{userType:"company",stats:oe})]}),a.jsx(B,{isOpen:xe,onClose:function(){return pe(!1)},url:he,title:(null==le?void 0:le.name)||"Business"})]})]});var je;var ve,ye,be,Ne;var we;var ke});var s=function(){var e=u().props.auth,s=function(s){return(Array.isArray(s)?s:[s]).some(function(s){var t;return null===(t=e.permissions)||void 0===t?void 0:t.includes(s)})};return{permissions:e.permissions||[],roles:e.roles||[],userType:e.user_type,hasPermission:s,hasRole:function(s){return(Array.isArray(s)?s:[s]).some(function(s){var t;return null===(t=e.roles)||void 0===t?void 0:t.includes(s)})},hasUserType:function(s){return(Array.isArray(s)?s:[s]).includes(e.user_type)},canAccess:function(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view","-").concat(e),r="manage-".concat(e);return s([t,r])}}},X=function(){var e,s,t,n=null===(e=u().props)||void 0===e?void 0:e.auth,l=(null==n||null===(s=n.user)||void 0===s?void 0:s.onboardingProfile)||(null==n||null===(t=n.user)||void 0===t?void 0:t.onboarding_profile),i=r.useMemo(function(){return!(null==n||!n.user)&&(!(n.user.type&&!["company"].includes(n.user.type))&&!(null!=l&&l.completed_at))},[null==n?void 0:n.user,null==l?void 0:l.completed_at]),c=o(r.useState(i),2),d=c[0],m=c[1],x=o(r.useState(l),2),p=x[0],f=x[1];return r.useEffect(function(){i?(m(!0),f(l)):!i&&null!=l&&l.completed_at&&(m(!1),f(l))},[i,l]),r.useEffect(function(){var e=function(){m(!0)};return window.addEventListener("open-onboarding-wizard",e),function(){return window.removeEventListener("open-onboarding-wizard",e)}},[]),null!=n&&n.user?a.jsx(M,{open:d,onOpenChange:m,profile:p,onProfileUpdate:f}):null},Z=function(e){var s=e.className,t=m().t,r=x(),n=r.announcements,o=r.unreadCount,d=r.isLoading,u=r.error,S=r.markAsRead,O=r.markAllAsRead,P=r.refresh,A=r.isEnabled,z=i.useMemo(function(){return n.slice(0,3)},[n]);if(!A)return null;var T=function(){var e=c(l().m(function e(s){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,S(s);case 1:e.v||console.error("Failed to mark announcement as read");case 2:return e.a(2)}},e)}));return function(s){return e.apply(this,arguments)}}(),E=function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,O();case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return a.jsxs(p,{className:f("border border-dashed border-primary/20 bg-white/70 dark:bg-slate-900/70",s),children:[a.jsxs(h,{className:"flex flex-row items-start justify-between gap-3 pb-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(g,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx(j,{className:"text-base font-semibold",children:t("Announcements")}),a.jsx(v,{children:o>0?t("You have {{count}} unread updates",{count:o}):t("All caught up with the latest updates")})]})]}),a.jsx(y,{variant:o>0?"default":"secondary",children:t("{{count}} unread",{count:o})})]}),a.jsxs(b,{className:"space-y-4 pt-0",children:[d&&a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsx("div",{className:"h-3 w-3/4 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-2/3 animate-pulse rounded bg-muted"})]}),u&&!d&&a.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-sm text-destructive",children:[a.jsx(N,{className:"mt-0.5 h-4 w-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("Unable to load announcements")}),a.jsx("p",{className:"text-xs text-destructive/80",children:u})]})]}),!d&&!u&&0===z.length&&a.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-muted/40 bg-muted/20 p-3 text-sm text-muted-foreground",children:[a.jsx(w,{className:"mt-0.5 h-4 w-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:t("No announcements yet")}),a.jsx("p",{className:"text-xs",children:t("Stay tuned for product updates and important notices.")})]})]}),!d&&!u&&z.length>0&&a.jsx("div",{className:"space-y-3",children:z.map(function(e){return a.jsx("div",{className:f("group rounded-xl border border-transparent bg-gradient-to-r from-primary/0 to-primary/5 p-3 transition hover:border-primary/30 hover:from-primary/5",!e.is_read&&"border-primary/40 bg-primary/5"),children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium text-sm text-foreground",children:e.title}),a.jsx(y,{variant:"outline",className:"text-xs capitalize",children:t(e.type)})]}),a.jsx("p",{className:"line-clamp-2 text-xs text-muted-foreground",children:e.message}),a.jsx("p",{className:"text-[11px] text-muted-foreground",children:new Date(e.created_at).toLocaleString()})]}),!e.is_read&&a.jsxs(k,{size:"sm",variant:"ghost",className:"h-7 gap-1 text-xs text-primary hover:text-primary",onClick:function(){return T(e.id)},children:[a.jsx(_,{className:"h-3.5 w-3.5"}),t("Mark read")]})]})},e.id)})})]}),a.jsxs(C,{className:"flex flex-col gap-2 border-t border-border/60 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs(k,{size:"sm",variant:"outline",className:"gap-2",onClick:function(){E()},disabled:0===o||d,children:[a.jsx(_,{className:"h-4 w-4"}),t("Mark all as read")]}),a.jsxs(k,{size:"sm",variant:"ghost",className:"gap-2 text-muted-foreground hover:text-primary",onClick:function(){return null==P?void 0:P()},disabled:d,children:[a.jsx(G,{className:f("h-4 w-4",d&&"animate-spin")}),t("Refresh")]})]})]})}}}})}();

import{r as l,j as e}from"./ui-XtzbmeJx.js";import{P as S}from"./page-template-CFccWGHX.js";import{u as q,K as P,B as j,k as T}from"./app-BNDAg-x0.js";import{S as E}from"./scroll-area-dkYqv76s.js";import{T as k}from"./toaster-m2lfzJ9u.js";import C from"./referral-dashboard-NonTtl0u.js";import D from"./payout-requests-CDlipFof.js";import I from"./referral-settings-D3EdZ8au.js";import{C as U}from"./chart-column-c4hbpdne.js";import{U as B}from"./users-dhNqMrnE.js";import{D as L}from"./dollar-sign-Cilvu6Pq.js";import{S as A}from"./settings-CPdYUYGM.js";import"./vendor-CxtKjBZA.js";import"./app-layout-CJ9aiUxz.js";import"./app-sidebar-layout-AHuSYAra.js";import"./textarea-BAxIzAY1.js";import"./select-CWuHpsTP.js";import"./index-C0g6bluz.js";import"./chevron-up-DUlTmMPd.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./sparkles-DpD6ndVc.js";import"./loader-circle-CSHwA98f.js";import"./copy-DrIsvEfV.js";import"./chevron-right-Bd-0PcYb.js";import"./language-switcher-Sj0uA1nn.js";import"./globe-Wz67MOVh.js";import"./briefcase-BSRomG9M.js";import"./package-DifSoftz.js";import"./credit-card-DWMi5WDy.js";import"./mail-Dom0Io57.js";import"./message-square-BWj-TB69.js";import"./calendar-Calahg4u.js";import"./wallet-BDuAFGuJ.js";import"./shopping-bag-CblcqTrH.js";import"./building-2-DMMUyCqJ.js";import"./user-D1kIaiAN.js";import"./arrow-left-oLpbgumw.js";import"./use-favicon-B5hfZCZO.js";import"./cookie-consent-B_ejjwgp.js";import"./utils-CCVAIzGD.js";import"./clock-DkagGUmf.js";import"./trending-up-i79bn84M.js";import"./award-C8ej-wRP.js";import"./table-DQPH3mYp.js";import"./switch-BcnxnoGE.js";function ke(){const{t:r}=q(),{props:n}=P(),{userType:o,settings:m,stats:c,payoutRequests:b,referralLink:N}=n,[R,a]=l.useState("dashboard"),g=[{title:r("Dashboard"),href:"#dashboard",icon:e.jsx(U,{className:"h-4 w-4 mr-2"})},{title:r("Referred Users"),href:route("referral.referred-users"),icon:e.jsx(B,{className:"h-4 w-4 mr-2"}),external:!0},{title:r("Payout Requests"),href:"#payout-requests",icon:e.jsx(L,{className:"h-4 w-4 mr-2"})},...o==="superadmin"?[{title:r("Settings"),href:"#settings",icon:e.jsx(A,{className:"h-4 w-4 mr-2"})}]:[]],p=l.useRef(null),f=l.useRef(null),d=l.useRef(null);l.useEffect(()=>{const s=()=>{var h,u,x;const t=window.scrollY+100;(h=p.current)!=null&&h.offsetTop;const v=((u=f.current)==null?void 0:u.offsetTop)||0,y=((x=d.current)==null?void 0:x.offsetTop)||0;o==="superadmin"&&t>=y?a("settings"):t>=v?a("payout-requests"):a("dashboard")};window.addEventListener("scroll",s);const i=window.location.hash.replace("#","");if(i){const t=document.getElementById(i);t&&(t.scrollIntoView({behavior:"smooth"}),a(i))}return()=>{window.removeEventListener("scroll",s)}},[o]);const w=s=>{const i=s.replace("#",""),t=document.getElementById(i);t&&(t.scrollIntoView({behavior:"smooth"}),a(i))};return e.jsxs(S,{title:r("Referral Program"),url:"/referral",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"md:w-64 flex-shrink-0",children:e.jsx("div",{className:"sticky top-20",children:e.jsx(E,{className:"h-[calc(100vh-5rem)]",children:e.jsx("div",{className:"pr-4 space-y-1",children:g.map(s=>s.external?e.jsx(j,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsxs("a",{href:s.href,children:[s.icon,s.title]})},s.href):e.jsxs(j,{variant:"ghost",className:T("w-full justify-start",{"bg-muted font-medium":R===s.href.replace("#","")}),onClick:()=>w(s.href),children:[s.icon,s.title]},s.href))})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("section",{id:"dashboard",ref:p,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Dashboard")}),e.jsx(C,{userType:o,stats:c,referralLink:N,recentReferredUsers:n.recentReferredUsers})]}),e.jsxs("section",{id:"payout-requests",ref:f,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Payout Requests")}),e.jsx(D,{userType:o,payoutRequests:b,settings:m,stats:c})]}),o==="superadmin"&&e.jsxs("section",{id:"settings",ref:d,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Settings")}),e.jsx(I,{settings:m})]})]})]}),e.jsx(k,{})]})}export{ke as default};

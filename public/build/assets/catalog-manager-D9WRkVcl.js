import{R as x,j as e}from"./ui-XtzbmeJx.js";import{u as I,S as H,t as b,n as pe,C as N,g as C,m as ie,k as ne,d as de,e as ce,L as m,I as u,M as he,B as j,i as se}from"./app-CHRIhyY0.js";import{P as ge}from"./page-template-l6fMhetb.js";import{T as V}from"./textarea-aJ3buVnx.js";import{S as oe}from"./switch-Bs9N4aMe.js";import{P as K,C as me}from"./pencil-line-mz54976V.js";import{T as G}from"./trash-2-DV11Ow7E.js";import{P as fe}from"./package-CVcIKtJX.js";import{S as je}from"./sparkles-CWM6veXP.js";import{L as ye}from"./layers-CUnKsR1M.js";import"./vendor-CxtKjBZA.js";import"./utils-CCVAIzGD.js";import"./app-layout-Bpd3XWn2.js";import"./app-sidebar-layout-DTBrRaJF.js";import"./select-DVebJzi_.js";import"./index-C0g6bluz.js";import"./chevron-up-CWYfEUVP.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./loader-circle-CU4vh_jx.js";import"./copy-_TD738Qf.js";import"./chevron-right-4OzdI5Hc.js";import"./language-switcher-DlUYSL3d.js";import"./globe-DnSDzBxp.js";import"./chart-column-C3hnsquQ.js";import"./briefcase-DFRvW6SB.js";import"./credit-card-D2Mnc2f1.js";import"./dollar-sign-CEEAnrcL.js";import"./mail-uU9WM_iR.js";import"./users-DVhUqNZg.js";import"./settings-D1jKjqmC.js";import"./message-square-CzRq4BMj.js";import"./calendar-CuyjcLRJ.js";import"./wallet-B8MIIno5.js";import"./shopping-bag-DIpJi4I3.js";import"./user-UtdwWo_w.js";import"./arrow-left-hltsWyVL.js";import"./use-favicon-DDTtBI2L.js";import"./cookie-consent-KmXGJKj8.js";const ve=t=>({name:"",slug:"",summary:"",description:"",category:"",price_type:"",price_amount:"",price_currency:"",duration_label:"",is_featured:!1,order_index:t,meta_image:""}),_e=t=>({name:"",slug:"",headline:"",description:"",price_display:"",price_amount:"",price_currency:"",duration_label:"",cta_label:"",cta_link:"",is_featured:!1,order_index:t,features:[],meta_image:""}),ue=t=>{if(t==null||t==="")return null;const a=typeof t=="number"?t:Number(t);return Number.isNaN(a)?null:a},xe=t=>{if(t==null||t==="")return null;const a=typeof t=="number"?t:Number(t);return Number.isNaN(a)?null:a},re=({businessId:t,service:a,defaultOrder:p,onFinish:r})=>{var o,f,O,q,S,D,P,E,$,T,L,A,B,M,k,U;const{t:s}=I(),n=!!a,h=x.useCallback(c=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("catalog:updated",{detail:{businessId:t,entity:"service",action:c}}))},[t]),l=ie(a?{name:(o=a.name)!=null?o:"",slug:(f=a.slug)!=null?f:"",summary:(O=a.summary)!=null?O:"",description:(q=a.description)!=null?q:"",category:(S=a.category)!=null?S:"",price_type:(D=a.price_type)!=null?D:"",price_amount:(P=a.price_amount)!=null?P:"",price_currency:(E=a.price_currency)!=null?E:"",duration_label:($=a.duration_label)!=null?$:"",is_featured:(T=a.is_featured)!=null?T:!1,order_index:(L=a.order_index)!=null?L:null,meta_image:(M=(B=a.meta_image)!=null?B:(A=a.meta)==null?void 0:A.image)!=null?M:""}:ve(p)),i=c=>{c.preventDefault(),l.transform(y=>({...y,price_amount:xe(y.price_amount),order_index:ue(y.order_index),meta_image:typeof y.meta_image=="string"?y.meta_image.trim():""}));const z={preserveScroll:!0,onSuccess:()=>{b.success(s(n?"Service updated successfully.":"Service created successfully.")),n?(h("update"),r==null||r()):(l.reset(),h("create"))}};n?l.put(route("vcard-builder.catalog.services.update",{business:t,service:a.id}),z):l.post(route("vcard-builder.catalog.services.store",t),z)},w=()=>{a&&confirm(s("Are you sure you want to remove this service?"))&&H.delete(route("vcard-builder.catalog.services.destroy",{business:t,service:a.id}),{preserveScroll:!0,onSuccess:()=>{b.success(s("Service removed successfully.")),h("delete"),r==null||r()}})},v=s(n?"Refine the details so prospects know exactly how this service delivers value.":"Spotlight the services that define your craft—perfect for construction, consulting, and more.");return e.jsx(N,{className:ne("border border-slate-200 shadow-lg shadow-orange-100/40"),children:e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs(de,{className:"space-y-2 border-b bg-slate-900/5",children:[e.jsxs(ce,{className:"flex items-center gap-2 text-lg font-semibold",children:[n?e.jsx(K,{className:"h-5 w-5 text-orange-500"}):e.jsx(me,{className:"h-5 w-5 text-orange-500"}),s(n?"Update service offering":"Add a new service")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v})]}),e.jsxs(C,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:n?"service-name-".concat(a.id):"service-name-new",children:s("Service name")}),e.jsx(u,{id:n?"service-name-".concat(a.id):"service-name-new",placeholder:s("Service Name"),value:l.data.name,onChange:c=>l.setData("name",c.target.value),required:!0}),l.errors.name&&e.jsx("p",{className:"text-xs text-red-500",children:l.errors.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:n?"service-slug-".concat(a.id):"service-slug-new",children:s("Slug (optional)")}),e.jsx(u,{id:n?"service-slug-".concat(a.id):"service-slug-new",placeholder:s("electrical-installation"),value:l.data.slug,onChange:c=>l.setData("slug",c.target.value)}),l.errors.slug&&e.jsx("p",{className:"text-xs text-red-500",children:l.errors.slug})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Summary highlight")}),e.jsx(u,{placeholder:s("Brief description of this service."),value:l.data.summary,onChange:c=>l.setData("summary",c.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Detailed description")}),e.jsx(V,{placeholder:s("Detailed description of what this service includes and how it benefits customers."),rows:4,value:l.data.description,onChange:c=>l.setData("description",c.target.value)})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Category")}),e.jsx(u,{placeholder:s("Service category or type"),value:l.data.category,onChange:c=>l.setData("category",c.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Duration label")}),e.jsx(u,{placeholder:s("Estimated time to complete"),value:l.data.duration_label,onChange:c=>l.setData("duration_label",c.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Cover image")}),e.jsx(he,{value:l.data.meta_image,onChange:c=>l.setData("meta_image",c),placeholder:s("Select an image to represent this service")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Add an image that represents this service.")})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Price type")}),e.jsx(u,{placeholder:s("Fixed, hourly, project-based..."),value:l.data.price_type,onChange:c=>l.setData("price_type",c.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Price amount")}),e.jsx(u,{type:"number",min:"0",step:"0.01",value:(k=l.data.price_amount)!=null?k:"",onChange:c=>l.setData("price_amount",c.target.value===""?"":Number(c.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Currency")}),e.jsx(u,{placeholder:"USD",maxLength:10,value:l.data.price_currency,onChange:c=>l.setData("price_currency",c.target.value)})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-dashed border-orange-200/70 bg-orange-50/70 px-3 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:s("Feature this service")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Pinned services are prioritised in the Services section of your preview.")})]}),e.jsx(oe,{checked:l.data.is_featured,onCheckedChange:c=>l.setData("is_featured",c)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Display order")}),e.jsx(u,{type:"number",min:"0",value:(U=l.data.order_index)!=null?U:"",onChange:c=>l.setData("order_index",c.target.value===""?"":Number(c.target.value))})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t bg-slate-50 px-6 py-4",children:[n&&e.jsx(j,{type:"button",variant:"ghost",onClick:r,disabled:l.processing,children:s("Cancel")}),n&&e.jsxs(j,{type:"button",variant:"destructive",onClick:w,disabled:l.processing,children:[e.jsx(G,{className:"mr-1 h-4 w-4"}),s("Remove service")]}),e.jsx(j,{type:"submit",disabled:l.processing,children:s(n?"Save service":"Publish service")})]})]})]})})},be=({service:t,onEdit:a,onDelete:p})=>{const{t:r}=I(),s=x.useMemo(()=>t.price_amount!==null&&t.price_amount!==void 0&&t.price_amount!==""?"".concat(t.price_amount).concat(t.price_currency?" ".concat(t.price_currency):""):t.price_currency?t.price_currency:null,[t.price_amount,t.price_currency]),n=x.useMemo(()=>[t.category,t.duration_label,t.price_type,s].filter(Boolean).join(" • "),[s,t.category,t.duration_label,t.price_type]);return e.jsx(N,{className:"border border-border/60",children:e.jsxs(C,{className:"flex flex-col gap-3 py-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold",children:t.name}),t.summary&&e.jsx("p",{className:"text-xs text-muted-foreground",children:t.summary}),n&&e.jsx("p",{className:"text-xs text-muted-foreground",children:n})]}),e.jsxs("div",{className:"flex gap-2 self-end sm:self-auto",children:[e.jsx(j,{variant:"outline",size:"sm",onClick:a,children:r("Edit")}),e.jsx(j,{type:"button",variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:p,children:r("Delete")})]})]})})},le=({businessId:t,package:a,defaultOrder:p,onFinish:r})=>{var S,D,P,E,$,T,L,A,B,M,k,U,c,z,y,J,Q,W,X,Y,Z,F,R,ee;const{t:s}=I(),n=!!a,h=x.useCallback(d=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("catalog:updated",{detail:{businessId:t,entity:"package",action:d}}))},[t]),l=a?{name:(S=a.name)!=null?S:"",slug:(D=a.slug)!=null?D:"",headline:(P=a.headline)!=null?P:"",description:(E=a.description)!=null?E:"",price_display:($=a.price_display)!=null?$:"",price_amount:(T=a.price_amount)!=null?T:"",price_currency:(L=a.price_currency)!=null?L:"",duration_label:(A=a.duration_label)!=null?A:"",cta_label:(B=a.cta_label)!=null?B:"",cta_link:(M=a.cta_link)!=null?M:"",is_featured:(k=a.is_featured)!=null?k:!1,order_index:(U=a.order_index)!=null?U:null,features:(c=a.features)!=null?c:[],meta_image:(J=(y=a.meta_image)!=null?y:(z=a.meta)==null?void 0:z.image)!=null?J:""}:_e(p),i=ie(l),[w,v]=x.useState(((Q=a==null?void 0:a.features)!=null?Q:[]).join("\n"));x.useEffect(()=>{var d,_;if(a&&!i.isDirty){const g=((d=a.features)!=null?d:[]).join("\n");v(g),i.setData("features",(_=a.features)!=null?_:[])}},[a]);const o=d=>{v(d);const _=d.split("\n").map(g=>g.trim()).filter(Boolean);i.setData("features",_)},f=d=>{d.preventDefault(),i.transform(g=>{var te,ae;return{...g,price_amount:xe(g.price_amount),order_index:ue(g.order_index),cta_link:(te=g.cta_link)!=null&&te.trim()?g.cta_link.trim():null,features:(ae=g.features)!=null?ae:[],meta_image:typeof g.meta_image=="string"?g.meta_image.trim():""}});const _={preserveScroll:!0,onSuccess:()=>{b.success(s(n?"Package updated successfully.":"Package created successfully.")),n?(h("update"),r==null||r()):(i.reset(),v(""),h("create"))}};n&&a?i.put(route("vcard-builder.catalog.packages.update",{business:t,package:a.id}),_):i.post(route("vcard-builder.catalog.packages.store",t),_)},O=()=>{a&&confirm(s("Are you sure you want to remove this package?"))&&H.delete(route("vcard-builder.catalog.packages.destroy",{business:t,package:a.id}),{preserveScroll:!0,onSuccess:()=>{b.success(s("Package removed successfully.")),h("delete"),r==null||r()}})},q=s(n?"Fine-tune pricing, timelines, and features to close projects faster.":"Create compelling packages with clear deliverables, ideal for construction, design, or consulting.");return e.jsx(N,{className:ne("border border-slate-200 shadow-lg shadow-blue-100/40"),children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs(de,{className:"space-y-2 border-b bg-slate-900/5",children:[e.jsxs(ce,{className:"flex items-center gap-2 text-lg font-semibold",children:[n?e.jsx(K,{className:"h-5 w-5 text-sky-500"}):e.jsx(me,{className:"h-5 w-5 text-sky-500"}),s(n?"Update package offer":"Add a new package")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:q})]}),e.jsxs(C,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:n?"package-name-".concat((W=a==null?void 0:a.id)!=null?W:"edit"):"package-name-new",children:s("Package name")}),e.jsx(u,{id:n?"package-name-".concat((X=a==null?void 0:a.id)!=null?X:"edit"):"package-name-new",placeholder:s("Package Name"),value:i.data.name,onChange:d=>i.setData("name",d.target.value),required:!0}),i.errors.name&&e.jsx("p",{className:"text-xs text-red-500",children:i.errors.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:n?"package-slug-".concat((Y=a==null?void 0:a.id)!=null?Y:"edit"):"package-slug-new",children:s("Slug (optional)")}),e.jsx(u,{id:n?"package-slug-".concat((Z=a==null?void 0:a.id)!=null?Z:"edit"):"package-slug-new",placeholder:s("premium-construction"),value:i.data.slug,onChange:d=>i.setData("slug",d.target.value)}),i.errors.slug&&e.jsx("p",{className:"text-xs text-red-500",children:i.errors.slug})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Headline")}),e.jsx(u,{placeholder:s("Brief overview of what this package offers."),value:i.data.headline,onChange:d=>i.setData("headline",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Description")}),e.jsx(V,{placeholder:s("Detailed description of what this package includes and its benefits."),rows:4,value:i.data.description,onChange:d=>i.setData("description",d.target.value)})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Price display")}),e.jsx(u,{placeholder:s("Price range or starting price"),value:i.data.price_display,onChange:d=>i.setData("price_display",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Numeric price amount")}),e.jsx(u,{type:"number",min:"0",step:"0.01",value:(F=i.data.price_amount)!=null?F:"",onChange:d=>i.setData("price_amount",d.target.value===""?"":Number(d.target.value))})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Currency")}),e.jsx(u,{placeholder:"USD",maxLength:10,value:i.data.price_currency,onChange:d=>i.setData("price_currency",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Duration label")}),e.jsx(u,{placeholder:s("Estimated time to deliver"),value:i.data.duration_label,onChange:d=>i.setData("duration_label",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("CTA label")}),e.jsx(u,{placeholder:s("Call to action text"),value:i.data.cta_label,onChange:d=>i.setData("cta_label",d.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("CTA link")}),e.jsx(u,{placeholder:"https://",value:(R=i.data.cta_link)!=null?R:"",onChange:d=>i.setData("cta_link",d.target.value)}),i.errors.cta_link&&e.jsx("p",{className:"text-xs text-red-500",children:i.errors.cta_link})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Included features")}),e.jsx(V,{placeholder:s("List key features or deliverables, one per line."),rows:5,value:w,onChange:d=>o(d.target.value)})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-dashed border-sky-200/70 bg-sky-50/70 px-3 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:s("Feature this package")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Keep flagship offers front-and-centre in your Packages section.")})]}),e.jsx(oe,{checked:i.data.is_featured,onCheckedChange:d=>i.setData("is_featured",d)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:s("Display order")}),e.jsx(u,{type:"number",min:"0",value:(ee=i.data.order_index)!=null?ee:"",onChange:d=>i.setData("order_index",d.target.value===""?"":Number(d.target.value))})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t bg-slate-50 px-6 py-4",children:[n&&e.jsx(j,{type:"button",variant:"ghost",onClick:r,disabled:i.processing,children:s("Cancel")}),n&&e.jsxs(j,{type:"button",variant:"destructive",onClick:O,disabled:i.processing,children:[e.jsx(G,{className:"mr-1 h-4 w-4"}),s("Remove package")]}),e.jsx(j,{type:"submit",disabled:i.processing,children:s(n?"Save package":"Publish package")})]})]})})},Ne=({package:t,onEdit:a,onDelete:p})=>{var l;const{t:r}=I(),s=x.useMemo(()=>t.price_display?t.price_display:t.price_amount!==null&&t.price_amount!==void 0&&t.price_amount!==""?"".concat(t.price_amount).concat(t.price_currency?" ".concat(t.price_currency):""):t.price_currency?t.price_currency:null,[t.price_amount,t.price_currency,t.price_display]),n=x.useMemo(()=>[s,t.duration_label].filter(Boolean).join(" • "),[t.duration_label,s]),h=x.useMemo(()=>!t.features||t.features.length===0?null:r("{{count}} feature",{count:t.features.length,defaultValue:t.features.length===1?r("1 feature"):r("{{count}} features",{count:t.features.length})}),[t.features,r]);return e.jsxs(N,{className:"relative overflow-hidden border border-slate-200/80 shadow-sm transition-all hover:-translate-y-0.5 hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-sky-500 via-indigo-400 to-purple-400"}),e.jsxs(C,{className:"space-y-4 pt-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(se,{variant:"outline",className:"flex items-center gap-1 border-sky-200 bg-sky-50 text-sky-800",children:[e.jsx(fe,{className:"h-3.5 w-3.5"}),s||r("Custom pricing")]}),t.is_featured&&e.jsxs(se,{className:"bg-gradient-to-r from-violet-500 to-sky-500 text-white",children:[e.jsx(je,{className:"mr-1 h-3.5 w-3.5"}),r("Featured")]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ye,{className:"h-4 w-4"}),r("Order"),": ",(l=t.order_index)!=null?l:"—"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t.name}),t.headline&&e.jsx("p",{className:"text-sm font-medium text-slate-700",children:t.headline}),n&&e.jsx("p",{className:"text-sm text-slate-500",children:n}),t.description&&e.jsx("p",{className:"text-sm leading-relaxed text-slate-600 whitespace-pre-line",children:t.description}),h&&e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:h})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:t.cta_label&&t.cta_link?e.jsxs("span",{children:[t.cta_label," ·"," ",e.jsx("a",{href:t.cta_link,target:"_blank",rel:"noreferrer",className:"text-sky-600 underline-offset-4 hover:underline",children:t.cta_link})]}):e.jsx("span",{children:r("No CTA configured yet.")})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(j,{variant:"outline",size:"sm",onClick:a,children:[e.jsx(K,{className:"mr-1 h-4 w-4"}),r("Edit")]}),e.jsxs(j,{variant:"destructive",size:"sm",onClick:p,children:[e.jsx(G,{className:"mr-1 h-4 w-4"}),r("Remove")]})]})]})]})]})},ct=({business:t,services:a,packages:p})=>{const{t:r}=I(),[s,n]=x.useState(null),[h,l]=x.useState(null),i=x.useMemo(()=>[{title:r("Dashboard"),href:route("dashboard")},{title:r("vCard Builder"),href:route("vcard-builder.index")},{title:t.name,href:route("vcard-builder.edit",t.id)},{title:r("Services & Packages")}],[t.id,t.name,r]),w=x.useCallback(o=>{confirm(r("Are you sure you want to remove this service?"))&&H.delete(route("vcard-builder.catalog.services.destroy",{business:t.id,service:o.id}),{preserveScroll:!0,onSuccess:()=>{b.success(r("Service removed successfully.")),n(f=>f===o.id?null:f)}})},[t.id,r]),v=x.useCallback(o=>{confirm(r("Are you sure you want to remove this package?"))&&H.delete(route("vcard-builder.catalog.packages.destroy",{business:t.id,package:o.id}),{preserveScroll:!0,onSuccess:()=>{b.success(r("Package removed successfully.")),l(f=>f===o.id?null:f)}})},[t.id,r]);return e.jsxs(ge,{title:r("Services & Packages"),description:r("Manage the catalog content that powers your vCard template. Changes sync automatically to the builder and live preview."),url:route("vcard-builder.catalog.manage",t.id),breadcrumbs:i,children:[e.jsx(pe,{title:"".concat(t.name," • ").concat(r("Services & Packages"))}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:r("Services")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r("Add or arrange the services that should appear on this vCard.")})]}),e.jsx(re,{businessId:t.id,defaultOrder:a.length}),e.jsxs("div",{className:"grid gap-4",children:[a.length===0&&e.jsx(N,{className:"border border-dashed",children:e.jsx(C,{className:"py-8 text-center text-sm text-muted-foreground",children:r("No services captured yet. Use the form above to create your first service.")})}),a.map(o=>s===o.id?e.jsx(re,{businessId:t.id,service:o,defaultOrder:a.length,onFinish:()=>n(null)},o.id):e.jsx(be,{service:o,onEdit:()=>n(o.id),onDelete:()=>w(o)},o.id))]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:r("Packages")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r("Create pricing packages or bundles for your offerings.")})]}),e.jsx(le,{businessId:t.id,defaultOrder:p.length}),e.jsxs("div",{className:"grid gap-4",children:[p.length===0&&e.jsx(N,{className:"border border-dashed",children:e.jsx(C,{className:"py-8 text-center text-sm text-muted-foreground",children:r("No packages captured yet. Use the form above to add your first package.")})}),p.map(o=>h===o.id?e.jsx(le,{businessId:t.id,package:o,defaultOrder:p.length,onFinish:()=>l(null)},o.id):e.jsx(Ne,{package:o,onEdit:()=>l(o.id),onDelete:()=>v(o)},o.id))]})]})]})]})};export{ct as default};

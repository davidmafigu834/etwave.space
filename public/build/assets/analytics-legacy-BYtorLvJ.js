!function(){function e(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,l){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,t,a,r,i=[],c=!0,d=!1;try{if(a=(s=s.call(e)).next,0===l){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=a.call(s)).done)&&(i.push(n.value),i.length!==l);c=!0);}catch(e){d=!0,t=e}finally{try{if(!c&&null!=s.return&&(r=s.return(),Object(r)!==r))return}finally{if(d)throw t}}return i}}(e,s)||function(e,s){if(e){if("string"==typeof e)return l(e,s);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,s):void 0}}(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,l){(null==l||l>e.length)&&(l=e.length);for(var s=0,n=Array(l);s<l;s++)n[s]=e[s];return n}System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ccoue2ey.js","./page-template-legacy-BF4pAgRj.js","./date-picker-legacy-mPkm4KwS.js","./tabs-legacy-CKEdTzB8.js","./arrow-left-legacy-D0MnJHlx.js","./eye-legacy-BErJlCJG.js","./users-legacy-Cz-M9xyG.js","./globe-legacy-DrxQ7gox.js","./CartesianChart-legacy-yaH8eaIk.js","./LineChart-legacy-CcPMSzA8.js","./PieChart-legacy-DFDUlEbX.js","./BarChart-legacy-DrCEo-Bm.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js","./app-layout-legacy-BoJkMdXe.js","./app-sidebar-layout-legacy-CLHyWU4i.js","./textarea-legacy-CJiaJOZ9.js","./select-legacy-BHn91CeG.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-BCEHjwgE.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./sparkles-legacy-sJaWTKoM.js","./loader-circle-legacy-Bw1sjScJ.js","./copy-legacy-BIfPI-rv.js","./chevron-right-legacy-GQXTpPPv.js","./language-switcher-legacy-DNvY0QDy.js","./chart-column-legacy-Cn-Pu6-7.js","./briefcase-legacy-DpLHZyRP.js","./package-legacy-D7F3k5ak.js","./credit-card-legacy-AOdrHphW.js","./dollar-sign-legacy-BUXPIc5Q.js","./mail-legacy-DBTdNFmc.js","./settings-legacy-CgFst_op.js","./message-square-legacy-C4cvBxJB.js","./calendar-legacy-xKHlC2rz.js","./wallet-legacy-IsHGS0vu.js","./shopping-bag-legacy-DTA1H9ag.js","./user-legacy-hWI7zqjr.js","./use-favicon-legacy-CC-T3M52.js","./cookie-consent-legacy-DEXuPW7O.js","./react-redux-legacy-COhswo-V.js","./tiny-invariant-legacy-mQvYgMsb.js"],function(l,s){"use strict";var n,t,a,r,i,c,d,o,u,x,j,h,f,m,g,y,v,p,b,w,N,k,D,S,B,C,L,F,P,V,_,A,K,T,O,I;return{setters:[function(e){n=e.r,t=e.j},function(e){a=e.u,r=e.K,i=e.S,c=e.C,d=e.d,o=e.e,u=e.g,x=e.L,j=e.B,h=e.i,f=e.f},function(e){m=e.P},function(e){g=e.D},function(e){y=e.T,v=e.a,p=e.b,b=e.c},function(e){w=e.A},function(e){N=e.E},function(e){k=e.U},function(e){D=e.G},function(e){S=e.R,B=e.C,C=e.X,L=e.Y},function(e){F=e.L,P=e.a},function(e){V=e.T,_=e.P,A=e.a,K=e.C},function(e){T=e.L,O=e.B,I=e.a},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){l("default",function(){var l,s,R,U,E=a().t,M=r().props,q=M.bioLink,$=M.analytics,W=M.filters,X=e(n.useState(W.start_date?new Date(W.start_date):new Date($.startDate)),2),Y=X[0],z=X[1],G=e(n.useState(W.end_date?new Date(W.end_date):new Date($.endDate)),2),H=G[0],J=G[1],Q=e(n.useState(!1),2),Z=Q[0],ee=Q[1];n.useEffect(function(){var e=setInterval(function(){Z||i.reload({only:["analytics"]})},3e5);return function(){return clearInterval(e)}},[Z]);var le=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],se=(null===(l=$.devices)||void 0===l?void 0:l.length)>0?$.devices.map(function(e,l){return{name:e.device_type||"Unknown",value:e.count}}):[{name:"No Data",value:1}],ne=(null===(s=$.referrers)||void 0===s?void 0:s.length)>0?$.referrers.map(function(e){return{name:e.referrer||"Direct",value:e.count}}):[{name:"No Data",value:1}],te=(null===(R=$.platforms)||void 0===R?void 0:R.length)>0?$.platforms.map(function(e){return{name:e.platform_name||"Unknown",value:e.count}}):[{name:"No Data",value:1}],ae=(null===(U=$.browsers)||void 0===U?void 0:U.length)>0?$.browsers.map(function(e){return{name:e.browser_name||"Unknown",value:e.count}}):[{name:"No Data",value:1}],re=[{label:E("Back to Bio Links"),icon:t.jsx(w,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:function(){return i.get(route("link-bio-builder.index"))}}],ie=[{title:E("Dashboard"),href:route("dashboard")},{title:E("Bio Link Builder"),href:route("link-bio-builder.index")},{title:(null==q?void 0:q.name)||"Bio Link",href:route("link-bio-builder.edit",null==q?void 0:q.id)},{title:E("Analytics")}];return t.jsx(m,{title:"".concat(null==q?void 0:q.name," - ").concat(E("Analytics")),url:route("link-bio-builder.analytics",null==q?void 0:q.id),actions:re,breadcrumbs:ie,children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs(c,{children:[t.jsx(d,{children:t.jsx(o,{className:"text-sm",children:E("Date Range")})}),t.jsx(u,{children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(x,{children:E("Start Date")}),t.jsx(g,{selected:Y,onSelect:z,onChange:function(e){return z(e)}})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(x,{children:E("End Date")}),t.jsx(g,{selected:H,onSelect:J,onChange:function(e){return J(e)}})]}),t.jsx(j,{onClick:function(){Y&&H&&(ee(!0),i.get(route("link-bio-builder.analytics",q.id),{start_date:Y.toISOString().split("T")[0],end_date:H.toISOString().split("T")[0]},{preserveState:!0,onFinish:function(){return ee(!1)}}))},disabled:Z,children:E(Z?"Loading...":"Apply")})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsx(c,{children:t.jsx(u,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:E("Page Views")}),t.jsx("h3",{className:"mt-2 text-2xl font-bold",children:$.pageViews})]}),t.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900",children:t.jsx(N,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),t.jsx(c,{children:t.jsx(u,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:E("Unique Visitors")}),t.jsx("h3",{className:"mt-2 text-2xl font-bold",children:$.uniqueVisitors})]}),t.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900",children:t.jsx(k,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})})}),t.jsx(c,{children:t.jsx(u,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:E("Link Type")}),t.jsx("h3",{className:"mt-2 text-lg font-bold",children:t.jsx(h,{variant:"outline",className:"capitalize",children:q.link_type})})]}),t.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900",children:t.jsx(D,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})})]}),t.jsxs(y,{defaultValue:"traffic",children:[t.jsxs(v,{className:"mb-4 w-full justify-start overflow-x-auto",children:[t.jsx(p,{value:"traffic",children:E("Traffic")}),t.jsx(p,{value:"devices",children:E("Devices")}),t.jsx(p,{value:"platforms",children:E("Platforms")}),t.jsx(p,{value:"browsers",children:E("Browsers")}),t.jsx(p,{value:"referrers",children:E("Referrers")})]}),t.jsx(b,{value:"traffic",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Daily Page Views")}),t.jsx(f,{className:"text-xs",children:E("Page views over the selected time period")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(F,{data:$.dailyPageViews||[],margin:{top:5,right:30,left:20,bottom:5},children:[t.jsx(B,{strokeDasharray:"3 3"}),t.jsx(C,{dataKey:"date",tickFormatter:function(e){var l=new Date(e);return"".concat(l.getMonth()+1,"/").concat(l.getDate())}}),t.jsx(L,{}),t.jsx(V,{}),t.jsx(T,{}),t.jsx(P,{type:"monotone",dataKey:"views",name:"Page Views",stroke:"#8884d8",activeDot:{r:8}})]})})})})]})}),t.jsx(b,{value:"devices",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Device Types")}),t.jsx(f,{className:"text-xs",children:E("Breakdown of visitors by device type")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(_,{children:[t.jsx(A,{data:se,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:function(e){var l=e.name,s=e.percent;return"".concat(l,": ").concat((100*s).toFixed(0),"%")},children:se.map(function(e,l){return t.jsx(K,{fill:le[l%le.length]},"cell-".concat(l))})}),t.jsx(V,{}),t.jsx(T,{})]})})})})]})}),t.jsx(b,{value:"platforms",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Operating Systems")}),t.jsx(f,{className:"text-xs",children:E("Breakdown of visitors by operating system")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(_,{children:[t.jsx(A,{data:te,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:function(e){var l=e.name,s=e.percent;return"".concat(l,": ").concat((100*s).toFixed(0),"%")},children:te.map(function(e,l){return t.jsx(K,{fill:le[l%le.length]},"cell-".concat(l))})}),t.jsx(V,{}),t.jsx(T,{})]})})})})]})}),t.jsx(b,{value:"browsers",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Web Browsers")}),t.jsx(f,{className:"text-xs",children:E("Breakdown of visitors by web browser")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(O,{data:ae,margin:{top:5,right:30,left:20,bottom:5},children:[t.jsx(B,{strokeDasharray:"3 3"}),t.jsx(C,{dataKey:"name"}),t.jsx(L,{}),t.jsx(V,{}),t.jsx(T,{}),t.jsx(I,{dataKey:"value",name:"Visits",fill:"#8884d8",children:ae.map(function(e,l){return t.jsx(K,{fill:le[l%le.length]},"cell-".concat(l))})})]})})})})]})}),t.jsx(b,{value:"referrers",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Top Referrers")}),t.jsx(f,{className:"text-xs",children:E("Sources of traffic to your bio link")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(O,{data:ne,margin:{top:5,right:30,left:20,bottom:5},children:[t.jsx(B,{strokeDasharray:"3 3"}),t.jsx(C,{dataKey:"name"}),t.jsx(L,{}),t.jsx(V,{}),t.jsx(T,{}),t.jsx(I,{dataKey:"value",name:"Visits",fill:"#8884d8",children:ne.map(function(e,l){return t.jsx(K,{fill:le[l%le.length]},"cell-".concat(l))})})]})})})})]})})]})]})})})}}})}();

!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,l,r,a,i=[],c=!0,o=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(s=r.call(t)).done)&&(i.push(s.value),i.length!==n);c=!0);}catch(e){o=!0,l=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(o)throw l}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var s={}.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=Array(n);t<n;t++)s[t]=e[t];return s}System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ccoue2ey.js","./textarea-legacy-CJiaJOZ9.js","./select-legacy-BHn91CeG.js","./calendar-legacy-xKHlC2rz.js","./mail-legacy-DBTdNFmc.js","./phone-legacy-DdsKiRpC.js","./clock-legacy-C2ey8uhF.js","./message-square-legacy-C4cvBxJB.js"],function(n,t){"use strict";var s,l,r,a,i,c,o,d,u,m,h,x,g,p,v,f,j,y,b,N,S,w;return{setters:[function(e){s=e.r,l=e.j},function(e){r=e.u,a=e.D,i=e.a,c=e.b,o=e.c,d=e.A,u=e.L,m=e.E,h=e.B},function(e){x=e.T},function(e){g=e.S,p=e.a,v=e.b,f=e.c,j=e.d},function(e){y=e.C},function(e){b=e.M},function(e){N=e.P},function(e){S=e.C},function(e){w=e.M}],execute:function(){n("A",function(n){var t,C,A,D,O=n.isOpen,_=n.onClose,I=n.onSubmit,M=n.appointment,k=r().t,E=e(s.useState(""),2),T=E[0],U=E[1],R=e(s.useState(""),2),F=R[0],L=R[1];s.useEffect(function(){M&&(U(M.notes||""),L(M.status||"scheduled"))},[M]);return l.jsx(a,{open:O,onOpenChange:_,children:l.jsxs(i,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs(c,{children:[l.jsx(o,{children:k("Reply to Appointment")}),l.jsx(d,{children:k("Update status and send a reply to this appointment")})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md mb-4",children:[l.jsx("div",{className:"flex items-center mb-2",children:l.jsx("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ring-gray-500/10 ".concat((q=(null==M?void 0:M.status)||"scheduled",{scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800",no_show:"bg-orange-100 text-orange-800"}[q]||"bg-gray-100 text-gray-800")),children:(null==M||null===(t=M.status)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null==M||null===(C=M.status)||void 0===C?void 0:C.slice(1).replace("_"," "))||"Scheduled"})}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:(null==M?void 0:M.name)||(null==M?void 0:M.title)||""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(y,{className:"h-4 w-4 mr-2 text-gray-500"}),l.jsx("span",{children:function(e,n){if(!e)return"N/A";try{var t,s=new Date(e).toISOString().split("T")[0],l=n||"00:00",r="".concat(s," ").concat(l,":00");return(null===(t=window.appSettings)||void 0===t?void 0:t.formatDateTime(r,!0))||"".concat(new Date(e).toLocaleDateString()," ").concat(n||"00:00")}catch(a){return console.error("Date formatting error:",a),"Invalid Date"}}((null==M?void 0:M.appointment_date)||(null==M?void 0:M.date),(null==M?void 0:M.appointment_time)||(null==M?void 0:M.time))})]}),(null==M?void 0:M.email)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(b,{className:"h-4 w-4 mr-2 text-gray-500"}),l.jsx("span",{children:null==M?void 0:M.email})]}),(null==M?void 0:M.phone)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(N,{className:"h-4 w-4 mr-2 text-gray-500"}),l.jsx("span",{children:null==M?void 0:M.phone})]}),((null==M||null===(A=M.business)||void 0===A?void 0:A.name)||(null==M?void 0:M.business))&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(S,{className:"h-4 w-4 mr-2 text-gray-500"}),l.jsx("span",{children:"string"==typeof(null==M?void 0:M.business)?null==M?void 0:M.business:null==M||null===(D=M.business)||void 0===D?void 0:D.name})]})]}),(null==M?void 0:M.message)&&l.jsx("div",{className:"mt-3 border-t border-gray-200 dark:border-gray-700 pt-3",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(w,{className:"h-4 w-4 mr-2 text-gray-500 mt-0.5"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-sm mb-1",children:[k("Client Message"),":"]}),l.jsx("p",{className:"text-sm",children:null==M?void 0:M.message})]})]})})]}),l.jsxs("form",{onSubmit:function(e){e.preventDefault(),I({notes:T,status:F})},className:"space-y-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(u,{htmlFor:"status",children:k("Update Status")}),l.jsxs(g,{value:F,onValueChange:L,children:[l.jsx(p,{children:l.jsx(v,{placeholder:k("Select status")})}),l.jsxs(f,{children:[l.jsx(j,{value:"scheduled",children:k("Scheduled")}),l.jsx(j,{value:"confirmed",children:k("Confirmed")}),l.jsx(j,{value:"completed",children:k("Completed")}),l.jsx(j,{value:"cancelled",children:k("Cancelled")}),l.jsx(j,{value:"no_show",children:k("No Show")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(u,{htmlFor:"notes",children:k("Your Reply")}),l.jsx(x,{id:"notes",placeholder:k("Enter your reply here..."),value:T,onChange:function(e){return U(e.target.value)},rows:5,className:"resize-none"})]})]}),l.jsxs(m,{className:"pt-2",children:[l.jsx(h,{type:"button",variant:"outline",onClick:_,children:k("Cancel")}),l.jsx(h,{type:"submit",children:k("Send Reply")})]})]})]})});var q})}}})}();

!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(n){r(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function r(n,t,r){return(t=function(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var a=r.call(n,t||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,s,l,i=[],c=!0,o=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=s.call(t)).done)&&(i.push(r.value),i.length!==n);c=!0);}catch(e){o=!0,a=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return s(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ct73uABr.js","./page-template-legacy-et8O2PIf.js","./index-legacy-C2eRFazY.js","./AppointmentReplyModal-legacy-DJo2XpSF.js","./calendar-legacy-DdDaxKxU.js","./clock-legacy-OYgw2bvN.js","./mail-legacy-DchUy0NJ.js","./phone-legacy-Bw_bEeHz.js","./building-legacy-Cd7zlonT.js","./message-square-legacy-CVHCr5Dt.js","./sticky-note-legacy-9f1os5Gw.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js","./app-layout-legacy-BbvocKkk.js","./app-sidebar-layout-legacy-DjGq5XwB.js","./textarea-legacy-DhpF_zd4.js","./select-legacy-DJ7KqnGK.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-C3cU62dz.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./sparkles-legacy-DXvM6dmp.js","./loader-circle-legacy-BAWBSNTr.js","./copy-legacy-CyY0zsNU.js","./chevron-right-legacy-D5fLjpJA.js","./language-switcher-legacy-BfnK_KLk.js","./globe-legacy-D167FJxM.js","./chart-column-legacy-xaxxIszB.js","./briefcase-legacy-fFmYMQCB.js","./package-legacy-BXVFs7qu.js","./credit-card-legacy-oVK_vO6r.js","./dollar-sign-legacy-De4_eAPE.js","./users-legacy-CIHfY2gt.js","./settings-legacy-BXGYMxCJ.js","./wallet-legacy-DOeLcv8c.js","./shopping-bag-legacy-BRpvr-V3.js","./building-2-legacy-Dj3cFBKu.js","./user-legacy-cMI1gv9J.js","./arrow-left-legacy-CqQR3bfj.js","./use-favicon-legacy-CbpIBPd5.js","./cookie-consent-legacy-BD_speLP.js"],function(e,n){"use strict";var r,s,l,i,c,o,d,u,m,f,p,h,x,g,y,j,b,v,w,N,k,S,C,O,A,D,P;return{setters:[function(e){r=e.r,s=e.j},function(e){l=e.u,i=e.K,c=e.B,o=e.C,d=e.d,u=e.e,m=e.g,f=e.i,p=e.p,h=e.X,x=e.t,g=e.S},function(e){y=e.P},function(e){j=e.F,b=e.i,v=e.a,w=e.b},function(e){N=e.A},function(e){k=e.C},function(e){S=e.C},function(e){C=e.M},function(e){O=e.P},function(e){A=e.B},function(e){D=e.M},function(e){P=e.S},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",function(){var e=l().t,n=i().props,M=n.appointments,T=void 0===M?[]:M,L=n.business,z=void 0===L?null:L,E=n.selectedBusinessId,G=void 0===E?"":E,B=a(r.useState(new Date),2),_=B[0],I=B[1],R=a(r.useState("month"),2),V=R[0],F=R[1],U=a(r.useState(!1),2),W=U[0],Q=U[1],X=a(r.useState(null),2),$=X[0],q=X[1],K=a(r.useState(""),2),Y=K[0],Z=K[1],H=[{title:e("Dashboard"),href:route("dashboard")},{title:e("vCard Builder"),href:route("vcard-builder.index")},{title:(null==z?void 0:z.name)||e("Business")},{title:e("Calendar")}],J=function(e){switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":default:return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";case"no_show":return"bg-orange-100 text-orange-800"}},ee=function(e){switch(e){case"scheduled":return"#3b82f6";case"confirmed":return"#10b981";case"completed":default:return"#6b7280";case"cancelled":return"#ef4444";case"no_show":return"#f59e0b"}},ne=T.map(function(e){var n=e.date,r=e.time||"00:00";return{id:e.id.toString(),title:e.title,start:"".concat(n,"T").concat(r),allDay:!e.time,backgroundColor:ee(e.status),borderColor:ee(e.status),extendedProps:t({},e)}}),te=_&&!Array.isArray(_)?(le=_,ie=le.toISOString().split("T")[0],T.filter(function(e){return e.date===ie})):[],re=function(){if(!Y)return te;var e=Y.toLowerCase();return te.filter(function(n){var t,r,a,s,l,i;return(null===(t=n.title)||void 0===t?void 0:t.toLowerCase().includes(e))||(null===(r=n.email)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(a=n.phone)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(s=n.message)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(l=n.business)||void 0===l?void 0:l.toLowerCase().includes(e))||(null===(i=n.notes)||void 0===i?void 0:i.toLowerCase().includes(e))})},ae=function(e){return e||""},se=function(e){q(e),Q(!0)};var le,ie;return s.jsxs(y,{title:e("Business Appointment"),url:route("vcard-builder.calendar",G),breadcrumbs:H,noPadding:!0,children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(k,{className:"h-5 w-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold",children:null!=z&&z.name?"".concat(z.name," - ").concat(e("Calendar")):e("Business Calendar")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(c,{variant:"month"===V?"default":"outline",size:"sm",onClick:function(){return F("month")},children:e("Month View")}),s.jsx(c,{variant:"agenda"===V?"default":"outline",size:"sm",onClick:function(){return F("agenda")},children:e("Agenda View")})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(o,{children:[s.jsx(d,{children:s.jsxs(u,{className:"flex items-center gap-2",children:[s.jsx(k,{className:"h-5 w-5"}),e("month"===V?"Monthly Calendar":"Agenda View")]})}),s.jsx(m,{children:"month"===V?s.jsx("div",{className:"fullcalendar-container",children:s.jsx(j,{plugins:[b,v,w],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:ne,height:"auto",eventClick:function(e){var n=new Date(e.event.startStr);I(n);var t=e.event.extendedProps;se(t)},dateClick:function(e){I(new Date(e.dateStr))},dayMaxEventRows:2,moreLinkText:e("more"),moreLinkClick:function(e){return I(e.date),"popover"},slotMinTime:"06:00:00",slotMaxTime:"22:00:00",allDaySlot:!0,allDayText:e("All day"),slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!0},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!0}})}):s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===T.length?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("No appointments scheduled")}):T.sort(function(e,n){return new Date(e.date).getTime()-new Date(n.date).getTime()}).map(function(e){return s.jsxs("div",{className:"border rounded-lg p-4 min-h-[120px] hover:bg-gray-50 hover:shadow-sm cursor-pointer transition-all duration-200",onClick:function(){return se(e)},children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsx("div",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx(f,{className:J(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1).replace("_"," ")})]})})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(k,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("span",{children:new Date(e.date).toLocaleDateString()})]}),e.time&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(S,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("span",{children:ae(e.time)})]}),e.email&&s.jsxs("div",{className:"flex items-center gap-1 text-sm overflow-hidden",children:[s.jsx(C,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.email})]}),e.phone&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(O,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("span",{children:e.phone})]})]}),e.message&&s.jsxs("div",{className:"text-sm text-gray-600 line-clamp-2 mb-1",children:[s.jsx("span",{className:"font-medium",children:"Message:"})," ",e.message]})]},e.id)})})})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(o,{children:[s.jsxs(d,{children:[s.jsxs(u,{className:"flex items-center gap-2",children:[s.jsx(S,{className:"h-5 w-5"}),_&&!Array.isArray(_)?"".concat(e("Appointments for")," ").concat(_.toLocaleDateString()):e("Select a Date")]}),_&&!Array.isArray(_)&&te.length>0&&s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(p,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:e("Search appointments..."),className:"w-full rounded-md border border-input pl-8 pr-8 py-2 text-sm",value:Y,onChange:function(e){return Z(e.target.value)}}),Y&&s.jsx("button",{onClick:function(){return Z("")},className:"absolute right-2 top-2.5 h-4 w-4 text-muted-foreground hover:text-foreground transition-colors rounded-full hover:bg-gray-100 flex items-center justify-center",title:e("Clear search"),children:s.jsx(h,{className:"h-3 w-3"})})]})})]}),s.jsx(m,{className:"max-h-[425px] overflow-y-auto pr-1",children:_&&!Array.isArray(_)?s.jsx("div",{className:"space-y-4",children:0===re().length?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(k,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:e(Y?"No appointments match your search":"No appointments on this date")})]}):re().sort(function(e,n){return(e.time||"").localeCompare(n.time||"")}).map(function(n){return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow duration-200 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:n.title}),s.jsx(f,{className:J(n.status),children:n.status.charAt(0).toUpperCase()+n.status.slice(1).replace("_"," ")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[n.time&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(S,{className:"h-4 w-4 text-primary"}),s.jsx("span",{children:ae(n.time)})]}),n.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm overflow-hidden",children:[s.jsx(C,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"truncate",children:n.email})]}),n.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(O,{className:"h-4 w-4 text-primary"}),s.jsx("span",{children:n.phone})]}),n.business&&s.jsxs("div",{className:"flex items-center gap-2 text-sm overflow-hidden",children:[s.jsx(A,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"truncate",children:n.business})]})]}),n.message&&s.jsx("div",{className:"mb-3 bg-gray-50 p-2 rounded-md",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(D,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsx("span",{className:"text-gray-600",children:n.message})]})}),n.notes&&s.jsx("div",{className:"mb-3 bg-blue-50 p-2 rounded-md",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(P,{className:"h-4 w-4 text-blue-500 mt-0.5"}),s.jsx("span",{className:"text-gray-700",children:n.notes})]})}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 flex justify-end",children:s.jsxs(c,{size:"sm",className:"gap-1",onClick:function(e){e.stopPropagation(),se(n)},children:[s.jsx(D,{className:"h-4 w-4"}),e("Reply")]})})]},n.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(k,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:e("Click on a date to view appointments")})]})})]}),s.jsxs(o,{children:[s.jsx(d,{children:s.jsx(u,{children:e("Quick Stats")})}),s.jsx(m,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:e("Total Appointments")}),s.jsx("span",{className:"font-medium",children:T.length})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:e("Scheduled")}),s.jsx("span",{className:"font-medium text-blue-600",children:T.filter(function(e){return"scheduled"===e.status}).length})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:e("Confirmed")}),s.jsx("span",{className:"font-medium text-green-600",children:T.filter(function(e){return"confirmed"===e.status}).length})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:e("Completed")}),s.jsx("span",{className:"font-medium text-gray-600",children:T.filter(function(e){return"completed"===e.status}).length})]})]})})]})]})]})]}),s.jsx(N,{isOpen:W,onClose:function(){return Q(!1)},onSubmit:function(n){x.loading(e("Sending reply...")),g.post(route("appointments.reply",[G,$.id]),n,{onSuccess:function(){Q(!1),x.dismiss(),x.success(e("Reply sent successfully"))},onError:function(e){x.dismiss(),x.error("Failed to send reply: ".concat(Object.values(e).join(", ")))}})},appointment:$?t(t({},$),{},{appointment_date:$.date,appointment_time:$.time,business:$.business?{name:$.business}:null}):null}),s.jsx("style",{children:"\n        .fullcalendar-container .fc {\n          font-family: inherit;\n        }\n        \n        .fullcalendar-container .fc-toolbar {\n          margin-bottom: 1rem;\n        }\n        \n        .fullcalendar-container .fc-button {\n          background: none;\n          border: 1px solid #d1d5db;\n          color: #374151;\n          padding: 0.5rem;\n          border-radius: 0.375rem;\n          font-weight: 500;\n          text-transform: capitalize;\n        }\n        \n        .fullcalendar-container .fc-button:hover {\n          background-color: #f3f4f6 !important;\n          border-color: #9ca3af !important;\n        }\n        \n        .fullcalendar-container .fc-button:not(.fc-button-active):hover {\n          background-color: #f3f4f6 !important;\n          color: #374151 !important;\n        }\n        \n        .fullcalendar-container .fc-button:focus {\n          box-shadow: none;\n        }\n        \n        .fullcalendar-container .fc-button-primary {\n          background-color: #f3f4f6;\n        }\n        \n        .fullcalendar-container .fc-today-button {\n          background-color: var(--primary) !important;\n          border-color: var(--primary) !important;\n          color: white !important;\n          text-transform: capitalize;\n        }\n        \n        .fullcalendar-container .fc-today-button:hover {\n          background-color: var(--primary) !important;\n          border-color: var(--primary) !important;\n          color: white !important;\n          opacity: 0.9;\n        }\n        \n        .fullcalendar-container .fc-button-active {\n          background-color: var(--primary) !important;\n          border-color: var(--primary) !important;\n          color: white !important;\n        }\n        \n        .fullcalendar-container .fc-button-active:hover {\n          background-color: var(--primary) !important;\n          border-color: var(--primary) !important;\n          color: white !important;\n          opacity: 0.9;\n        }\n        \n        .fullcalendar-container .fc-daygrid-day {\n          cursor: pointer;\n        }\n        \n        .fullcalendar-container .fc-daygrid-day:hover {\n          background-color: #f9fafb;\n        }\n        \n        .fullcalendar-container .fc-daygrid-more-link {\n          background-color: #f3f4f6;\n          border-radius: 0.25rem;\n          padding: 0.125rem 0.375rem;\n          font-size: 0.75rem;\n          font-weight: 500;\n          color: #4b5563;\n        }\n        \n        .fullcalendar-container .fc-daygrid-more-link:hover {\n          background-color: #e5e7eb;\n          color: #111827;\n          text-decoration: none;\n        }\n        \n        .fullcalendar-container .fc-event {\n          border-radius: 0.25rem;\n          padding: 0.125rem 0.25rem;\n          font-size: 0.75rem;\n          border: none;\n        }\n        \n        .fullcalendar-container .fc-event-title {\n          font-weight: 500;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n        \n        .fullcalendar-container .fc-daygrid-event {\n          background-color: var(--fc-event-bg-color);\n          color: white;\n        }\n        \n        .fullcalendar-container .fc-daygrid-dot-event {\n          background-color: var(--fc-event-bg-color);\n        }\n        \n        .fullcalendar-container .fc-day-today {\n          background-color: rgba(99, 102, 241, 0.05) !important;\n        }\n        \n        /* Ensure all buttons have consistent styling */\n        .fullcalendar-container .fc-prev-button,\n        .fullcalendar-container .fc-next-button,\n        .fullcalendar-container .fc-dayGridMonth-button,\n        .fullcalendar-container .fc-timeGridWeek-button,\n        .fullcalendar-container .fc-timeGridDay-button {\n          text-transform: capitalize !important;\n        }\n        \n        .fullcalendar-container .fc-button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n        \n        .fullcalendar-container .fc-button:disabled:hover {\n          background-color: transparent !important;\n          border-color: #d1d5db !important;\n          color: #374151 !important;\n        }\n      "})]})})}}})}();

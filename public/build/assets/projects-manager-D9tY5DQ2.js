import{R as N,j as e}from"./ui-XtzbmeJx.js";import{u as v,n as ne,C as u,g,d as se,e as ae,B as f,m as ce,k as oe,L as c,I as m,i as Y,S as me,t as te}from"./app-BNDAg-x0.js";import{P as xe}from"./page-template-CFccWGHX.js";import{T as he}from"./textarea-BAxIzAY1.js";import{S as ue}from"./switch-BcnxnoGE.js";import{R as ge}from"./rocket-D77JGmrw.js";import{S as y}from"./sparkles-DpD6ndVc.js";import{B as le}from"./building-2-DMMUyCqJ.js";import{C as ie}from"./compass-Bprd_yd6.js";import{P as de,C as fe}from"./pencil-line-DRu4puQf.js";import{M as ye}from"./map-pin-96bacp2H.js";import{T as pe}from"./trash-2-DrQu6wJh.js";import"./vendor-CxtKjBZA.js";import"./utils-CCVAIzGD.js";import"./app-layout-CJ9aiUxz.js";import"./app-sidebar-layout-AHuSYAra.js";import"./select-CWuHpsTP.js";import"./index-C0g6bluz.js";import"./chevron-up-DUlTmMPd.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./loader-circle-CSHwA98f.js";import"./copy-DrIsvEfV.js";import"./chevron-right-Bd-0PcYb.js";import"./language-switcher-Sj0uA1nn.js";import"./globe-Wz67MOVh.js";import"./chart-column-c4hbpdne.js";import"./briefcase-BSRomG9M.js";import"./package-DifSoftz.js";import"./credit-card-DWMi5WDy.js";import"./dollar-sign-Cilvu6Pq.js";import"./mail-Dom0Io57.js";import"./users-dhNqMrnE.js";import"./settings-CPdYUYGM.js";import"./message-square-BWj-TB69.js";import"./calendar-Calahg4u.js";import"./wallet-BDuAFGuJ.js";import"./shopping-bag-CblcqTrH.js";import"./user-D1kIaiAN.js";import"./arrow-left-oLpbgumw.js";import"./use-favicon-B5hfZCZO.js";import"./cookie-consent-B_ejjwgp.js";const Z=t=>({title:"",slug:"",category:"",location:"",summary:"",description:"",cta_label:"",cta_link:"",is_featured:!0,order_index:t,meta:void 0}),Ne=t=>{if(t==null||t==="")return null;const s=typeof t=="number"?t:Number(t);return Number.isNaN(s)?null:s},ee=({businessId:t,project:s,defaultOrder:i,onFinish:r})=>{var b,w,j,k,C,_,P,D,S,$,E,T,F,B,A,R,L,I,M,z,H,O,q,U,G,J,K,Q,V;const{t:l}=v(),n=!!s,x=N.useCallback(d=>{if(typeof window>"u")return;const o={businessId:t,entity:"project",action:d};window.dispatchEvent(new CustomEvent("projects:updated",{detail:o})),window.dispatchEvent(new CustomEvent("catalog:updated",{detail:o}))},[t]),a=ce(s?{title:(b=s.title)!=null?b:"",slug:(w=s.slug)!=null?w:"",category:(j=s.category)!=null?j:"",location:(k=s.location)!=null?k:"",summary:(C=s.summary)!=null?C:"",description:(_=s.description)!=null?_:"",cta_label:(P=s.cta_label)!=null?P:"",cta_link:(D=s.cta_link)!=null?D:"",is_featured:!!s.is_featured,order_index:(S=s.order_index)!=null?S:"",meta:($=s.meta)!=null?$:void 0}:Z(i)),h=d=>{d.preventDefault(),a.transform(p=>{var W,X;return{...p,order_index:Ne(p.order_index),slug:(X=(W=p.slug)==null?void 0:W.trim())!=null?X:""}});const o={preserveScroll:!0,onSuccess:()=>{te.success(l(n?"Project updated successfully.":"Project created successfully.")),n?(x("update"),r==null||r()):(a.reset(),a.setData(Z(i)),x("create"))}};if(n&&s){a.put(route("vcard-builder.projects.update",[t,s.id]),o);return}a.post(route("vcard-builder.projects.store",t),o)},re=l(n?"Bring existing projects to life with vivid storytelling and proof points.":"Add your standout builds so every visitor sees the expertise behind your brand.");return e.jsx(u,{className:oe("border border-slate-200 shadow-lg shadow-blue-100/40"),children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs(se,{className:"space-y-2 border-b bg-slate-900/5",children:[e.jsxs(ae,{className:"flex items-center gap-2 text-lg font-semibold",children:[n?e.jsx(de,{className:"h-5 w-5 text-sky-600"}):e.jsx(fe,{className:"h-5 w-5 text-sky-600"}),l(n?"Update project showcase":"Add a new featured project")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:re})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"title-".concat((E=s==null?void 0:s.id)!=null?E:"new"),children:l("Project title")}),e.jsx(m,{id:"title-".concat((T=s==null?void 0:s.id)!=null?T:"new"),placeholder:l("Project Title"),value:a.data.title,onChange:d=>a.setData("title",d.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"category-".concat((F=s==null?void 0:s.id)!=null?F:"new"),children:l("Category")}),e.jsx(m,{id:"category-".concat((B=s==null?void 0:s.id)!=null?B:"new"),placeholder:l("Project category or type"),value:a.data.category,onChange:d=>a.setData("category",d.target.value)})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"location-".concat((A=s==null?void 0:s.id)!=null?A:"new"),children:l("Location")}),e.jsx(m,{id:"location-".concat((R=s==null?void 0:s.id)!=null?R:"new"),placeholder:l("Project location"),value:a.data.location,onChange:d=>a.setData("location",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"slug-".concat((L=s==null?void 0:s.id)!=null?L:"new"),children:l("Slug (optional)")}),e.jsx(m,{id:"slug-".concat((I=s==null?void 0:s.id)!=null?I:"new"),placeholder:l("url-friendly-identifier"),value:a.data.slug,onChange:d=>a.setData("slug",d.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"summary-".concat((M=s==null?void 0:s.id)!=null?M:"new"),children:l("Summary highlight")}),e.jsx(m,{id:"summary-".concat((z=s==null?void 0:s.id)!=null?z:"new"),placeholder:l("Brief project summary"),value:a.data.summary,onChange:d=>a.setData("summary",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description-".concat((H=s==null?void 0:s.id)!=null?H:"new"),children:l("Detailed description")}),e.jsx(he,{id:"description-".concat((O=s==null?void 0:s.id)!=null?O:"new"),placeholder:l("Detailed project description, challenges, and outcomes."),minRows:4,value:a.data.description,onChange:d=>a.setData("description",d.target.value)})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"cta_label-".concat((q=s==null?void 0:s.id)!=null?q:"new"),children:l("CTA label")}),e.jsx(m,{id:"cta_label-".concat((U=s==null?void 0:s.id)!=null?U:"new"),placeholder:l("Call to action text"),value:a.data.cta_label,onChange:d=>a.setData("cta_label",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"cta_link-".concat((G=s==null?void 0:s.id)!=null?G:"new"),children:l("CTA link")}),e.jsx(m,{id:"cta_link-".concat((J=s==null?void 0:s.id)!=null?J:"new"),placeholder:"https://",type:"url",value:a.data.cta_link,onChange:d=>a.setData("cta_link",d.target.value)})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-dashed border-sky-200/80 bg-sky-50/60 px-3 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:l("Spotlight this project")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l("Featured projects will be highlighted in the preview.")})]}),e.jsx(ue,{checked:a.data.is_featured,onCheckedChange:d=>a.setData("is_featured",d)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"order_index-".concat((K=s==null?void 0:s.id)!=null?K:"new"),children:l("Display order")}),e.jsx(m,{id:"order_index-".concat((Q=s==null?void 0:s.id)!=null?Q:"new"),type:"number",min:"0",value:(V=a.data.order_index)!=null?V:"",onChange:d=>{const o=d.target.value;a.setData("order_index",o===""?"":Number(o))}})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t bg-slate-50 px-6 py-4",children:[n&&e.jsx(f,{type:"button",variant:"ghost",onClick:r,disabled:a.processing,children:l("Cancel")}),e.jsx(f,{type:"submit",disabled:a.processing,children:l(n?"Save project":"Publish project showcase")})]})]})})},ve=({project:t,onEdit:s,onDelete:i})=>{var l;const{t:r}=v();return e.jsxs(u,{className:"relative overflow-hidden border border-slate-200/80 shadow-sm transition-all hover:-translate-y-0.5 hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-sky-500 via-cyan-400 to-emerald-400"}),e.jsxs(g,{className:"space-y-4 pt-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Y,{variant:"outline",className:"flex items-center gap-1 border-sky-200 bg-sky-50 text-sky-800",children:[e.jsx(le,{className:"h-3.5 w-3.5"}),t.category||r("No category")]}),t.is_featured&&e.jsxs(Y,{className:"bg-gradient-to-r from-violet-500 to-sky-500 text-white",children:[e.jsx(y,{className:"mr-1 h-3.5 w-3.5"}),r("Featured")]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ie,{className:"h-4 w-4"}),r("Order"),": ",(l=t.order_index)!=null?l:"—"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-start gap-2",children:e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t.title})}),t.location&&e.jsxs("p",{className:"flex items-center gap-1 text-sm text-slate-500",children:[e.jsx(ye,{className:"h-4 w-4"})," ",t.location]}),t.summary&&e.jsx("p",{className:"text-sm font-medium text-slate-700",children:t.summary}),t.description&&e.jsx("p",{className:"text-sm leading-relaxed text-slate-600 whitespace-pre-line",children:t.description})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:t.cta_label&&t.cta_link?e.jsxs("span",{children:[t.cta_label," ·"," ",e.jsx("a",{href:t.cta_link,target:"_blank",rel:"noreferrer",className:"text-sky-600 underline-offset-4 hover:underline",children:t.cta_link})]}):e.jsx("span",{children:r("No CTA configured yet.")})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(f,{variant:"outline",size:"sm",onClick:s,children:[e.jsx(de,{className:"mr-1 h-4 w-4"}),r("Edit")]}),e.jsxs(f,{variant:"destructive",size:"sm",onClick:i,children:[e.jsx(pe,{className:"mr-1 h-4 w-4"}),r("Remove")]})]})]})]})]})},cs=({business:t,projects:s})=>{const{t:i}=v(),[r,l]=N.useState(null),n=a=>{window.confirm(i("Remove “:title” from your featured projects?",{title:a.title}))&&me.delete(route("vcard-builder.projects.destroy",[t.id,a.id]),{preserveScroll:!0,onSuccess:()=>{if(typeof window<"u"){const h={businessId:t.id,entity:"project",action:"delete"};window.dispatchEvent(new CustomEvent("projects:updated",{detail:h})),window.dispatchEvent(new CustomEvent("catalog:updated",{detail:h}))}te.success(i("Project removed."))}})},x=N.useMemo(()=>{var a;return r&&(a=s.find(h=>h.id===r))!=null?a:null},[r,s]);return e.jsxs(xe,{children:[e.jsx(ne,{title:i("Featured Projects Manager")}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("section",{className:"relative overflow-hidden rounded-3xl border border-slate-200 bg-gradient-to-r from-slate-900 via-sky-900 to-slate-800 p-8 text-white shadow-xl",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 hidden w-1/2 skew-x-[-12deg] bg-white/10 blur-3xl lg:block"}),e.jsxs("div",{className:"relative z-10 grid gap-6 lg:grid-cols-[1.4fr,1fr] lg:items-center",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-sm",children:[e.jsx(ge,{className:"h-4 w-4"}),i("Position your builds front and centre")]}),e.jsxs("h1",{className:"text-3xl font-semibold leading-tight lg:text-4xl",children:[i("Featured Projects")," ",e.jsx("span",{className:"font-light text-sky-200",children:i("curated for your vCard")})]}),e.jsx("p",{className:"max-w-2xl text-base text-slate-200",children:i("Transform your projects into powerful proof. Capture a project, add its impact, and watch the preview update instantly—no design work required.")})]}),e.jsx(u,{className:"bg-white/95 text-slate-900 shadow-2xl",children:e.jsxs(g,{className:"flex h-full flex-col justify-between gap-4 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"h-6 w-6 text-sky-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:i("Projects showcased")}),e.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:s.length})]})]}),e.jsxs("div",{className:"grid gap-2 text-sm text-slate-500",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-sky-500"}),i("Business"),": ",t.name]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4 text-sky-500"}),i("Category"),": ",t.business_type||i("Not specified")]})]})]})})]})]}),e.jsxs("div",{className:"grid gap-8 xl:grid-cols-[1.1fr,1fr] xl:items-start",children:[e.jsxs("div",{className:"space-y-6",children:[x?e.jsx(ee,{businessId:t.id,project:x,defaultOrder:s.length,onFinish:()=>l(null)},x.id):e.jsx(ee,{businessId:t.id,defaultOrder:s.length}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:i("Project library")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i("These projects will appear in the Featured Projects section of your vCard.")})]})}),e.jsxs("div",{className:"grid gap-4",children:[s.length===0&&e.jsx(u,{className:"border border-dashed border-sky-200 bg-sky-50/80",children:e.jsxs(g,{className:"flex flex-col items-center gap-3 py-10 text-center",children:[e.jsx(y,{className:"h-8 w-8 text-sky-500"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-base font-semibold text-slate-800",children:i("Showcase your first project")}),e.jsx("p",{className:"text-sm text-slate-600",children:i("Add your first project to get started.")})]})]})}),s.map(a=>r===a.id?null:e.jsx(ve,{project:a,onEdit:()=>l(a.id),onDelete:()=>n(a)},a.id))]})]})]}),e.jsxs("aside",{className:"space-y-4",children:[e.jsxs(u,{className:"border border-slate-200/80 bg-white/70 backdrop-blur",children:[e.jsx(se,{children:e.jsxs(ae,{className:"flex items-center gap-2 text-slate-900",children:[e.jsx(y,{className:"h-5 w-5 text-sky-500"}),i("Helpful prompts")]})}),e.jsxs(g,{className:"space-y-4 text-sm text-slate-600",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[e.jsx("p",{className:"font-medium text-slate-800",children:i("Tell the story")}),e.jsx("p",{children:i("Explain the project, its impact, and the results.")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[e.jsx("p",{className:"font-medium text-slate-800",children:i("Add proof")}),e.jsx("p",{children:i("Include metrics, results, or testimonials that demonstrate value.")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[e.jsx("p",{className:"font-medium text-slate-800",children:i("Link to more")}),e.jsx("p",{children:i("Add a call-to-action to guide visitors to more information.")})]})]})]}),e.jsx(u,{className:"border border-slate-200/80 bg-gradient-to-br from-sky-500 via-sky-400 to-cyan-400 text-white",children:e.jsxs(g,{className:"space-y-3 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i("Need visuals?")}),e.jsx("p",{className:"text-sm text-sky-50",children:i("Add images to make your projects more engaging.")}),e.jsx(f,{variant:"secondary",className:"w-full bg-white text-sky-600 hover:bg-slate-100",children:i("Open media library")})]})})]})]})]})]})};export{cs as default};

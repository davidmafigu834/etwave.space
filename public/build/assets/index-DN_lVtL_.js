import{r as m,j as e}from"./ui-XtzbmeJx.js";import{P as me}from"./page-template-l6fMhetb.js";import{u as ge,K as xe,t as g,S as u,P as V,$ as N,i as $,B as x,x as v,y,z as b,C as ue}from"./app-CHRIhyY0.js";import{P as W}from"./pagination-ZAaySqLp.js";import{S as we}from"./search-and-filter-bar-DmOnKdus.js";import{D as fe,a as je,b as ve,c as _,d as ye}from"./language-switcher-DlUYSL3d.js";import{C as be}from"./CrudDeleteModal-B9EKR58Q.js";import{Q as Ne}from"./QRCodeModal-D94AhLbZ.js";import{S as _e}from"./ShareModal-TRJNO0UT.js";/* empty css                    */import{E as Y}from"./eye-_GBMIZ3h.js";import{S as T}from"./share-2-BNKjSkRX.js";import{S as q}from"./square-pen-Ds-5sx3m.js";import{T as K}from"./trash-2-DV11Ow7E.js";import{E as Se}from"./ellipsis-vertical-BkJiC_nr.js";import{L as Ce}from"./link-2-4ETswPfX.js";import{S as De}from"./store-y_sVMDwY.js";import{B as $e}from"./briefcase-DFRvW6SB.js";import"./vendor-CxtKjBZA.js";import"./app-layout-Bpd3XWn2.js";import"./app-sidebar-layout-DTBrRaJF.js";import"./textarea-aJ3buVnx.js";import"./select-DVebJzi_.js";import"./index-C0g6bluz.js";import"./chevron-up-CWYfEUVP.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./sparkles-CWM6veXP.js";import"./loader-circle-CU4vh_jx.js";import"./copy-_TD738Qf.js";import"./chevron-right-4OzdI5Hc.js";import"./chart-column-C3hnsquQ.js";import"./globe-DnSDzBxp.js";import"./package-CVcIKtJX.js";import"./credit-card-D2Mnc2f1.js";import"./dollar-sign-CEEAnrcL.js";import"./mail-uU9WM_iR.js";import"./users-DVhUqNZg.js";import"./settings-D1jKjqmC.js";import"./message-square-CzRq4BMj.js";import"./calendar-CuyjcLRJ.js";import"./wallet-B8MIIno5.js";import"./shopping-bag-DIpJi4I3.js";import"./user-UtdwWo_w.js";import"./arrow-left-hltsWyVL.js";import"./use-favicon-DDTtBI2L.js";import"./cookie-consent-KmXGJKj8.js";import"./utils-CCVAIzGD.js";import"./date-picker-DOMrxlTk.js";import"./filter-CrhjScrQ.js";import"./list-BPtcktuQ.js";import"./browser-VK1alZgc.js";import"./facebook-CTlg0zrj.js";import"./linkedin-C1W7pnrA.js";function Pr({bioLinks:s={data:[]},planLimits:d,filters:o={}}){var Q;const{t:a}=ge(),{flash:w}=xe().props,[l,f]=m.useState(o.search||""),[c,P]=m.useState(o.type||"all"),[h,G]=m.useState(()=>{try{return o.view||(typeof localStorage<"u"?localStorage.getItem("biolink-view"):null)||"list"}catch(r){return console.error("Error getting view preference:",r),"list"}});m.useEffect(()=>{w!=null&&w.success&&g.success(w.success),w!=null&&w.error&&g.error(w.error)},[w]),m.useEffect(()=>{try{typeof localStorage<"u"&&h&&localStorage.setItem("biolink-view",h)}catch(r){console.error("Error saving view preference:",r)}},[h]);const[H,M]=m.useState(!1),[J,C]=m.useState(!1),[X,B]=m.useState(!1),[Z,E]=m.useState(!1),[p,D]=m.useState(null),[R,U]=m.useState(""),L=["personal","business","portfolio","social"],k=r=>{D(r),C(!0)},ee=()=>{p&&(g.loading(a("Deleting bio link...")),u.delete(route("bio-link.destroy",p.id),{onSuccess:()=>{C(!1),g.dismiss(),g.success(a("Bio link deleted successfully"))},onError:r=>{g.dismiss(),g.error("Failed to delete bio link: ".concat(Object.values(r).join(", ")))}}))},O=r=>{const t=r.custom_domain?"https://".concat(r.custom_domain):"".concat(window.appSettings.baseUrl,"/").concat(r.url_prefix||"bio","/").concat(r.slug);(n=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(n);{const j=document.createElement("textarea");return j.value=n,j.style.position="fixed",j.style.left="-999999px",j.style.top="-999999px",document.body.appendChild(j),j.focus(),j.select(),new Promise((he,pe)=>{document.execCommand("copy")?(j.remove(),he()):(j.remove(),pe(new Error("Copy failed")))})}})(t).then(()=>{g.success(a("Link copied to clipboard"))}).catch(()=>{g.error(a("Failed to copy link"))})},z=r=>{D(r);const t=r.custom_domain?"https://".concat(r.custom_domain):"".concat(window.appSettings.baseUrl,"/").concat(r.url_prefix||"bio","/").concat(r.slug);U(t),B(!0)},F=r=>{D(r);const t=r.custom_domain?"https://".concat(r.custom_domain):"".concat(window.appSettings.baseUrl,"/").concat(r.url_prefix||"bio","/").concat(r.slug);U(t),E(!0)},re=()=>c!=="all"||l!=="",te=()=>(c!=="all"?1:0)+(l?1:0),ae=r=>{r.preventDefault(),A()},A=()=>{const r={page:1};l&&(r.search=l),c!=="all"&&(r.type=c),o.per_page&&(r.per_page=o.per_page),r.view=h,u.get(route("link-bio-builder.index"),r,{preserveState:!0,preserveScroll:!0})},se=r=>{P(r);const t={page:1};l&&(t.search=l),r!=="all"&&(t.type=r),o.per_page&&(t.per_page=o.per_page),t.view=h,u.get(route("link-bio-builder.index"),t,{preserveState:!0,preserveScroll:!0})},oe=()=>{P("all"),f(""),M(!1),u.get(route("link-bio-builder.index"),{page:1,per_page:o.per_page,view:h},{preserveState:!0,preserveScroll:!0})},le=r=>{switch(r.toLowerCase()){case"business":return e.jsx($e,{className:"h-5 w-5"});case"social":return e.jsx(T,{className:"h-5 w-5"});case"portfolio":return e.jsx(De,{className:"h-5 w-5"});default:return e.jsx(Ce,{className:"h-5 w-5"})}},ne=r=>{var i,n;const t=((i=r.config)==null?void 0:i.theme)||r.link_type||"personal";if((n=r.config)!=null&&n.background)return"bg-gradient-to-br";switch(t.toLowerCase()){case"business":return"bg-gradient-to-br from-blue-500 to-purple-600";case"portfolio":return"bg-gradient-to-br from-green-400 to-teal-600";case"social":return"bg-gradient-to-br from-pink-400 to-orange-500";case"personal":return"bg-gradient-to-br from-indigo-500 to-purple-600";default:return"bg-gradient-to-br from-gray-400 to-gray-600"}},ie=r=>{var i;switch((((i=r.config)==null?void 0:i.theme)||r.link_type||"personal").toLowerCase()){case"business":return"bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[length:20px_20px]";case"portfolio":return"bg-[linear-gradient(0deg,rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[length:20px_20px]";case"social":return"bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.15)_2px,transparent_2px)] bg-[length:24px_24px]";case"personal":return"bg-[linear-gradient(45deg,rgba(255,255,255,0.1)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.1)_50%,rgba(255,255,255,0.1)_75%,transparent_75%,transparent)] bg-[length:10px_10px]";default:return""}},S=!d||d.can_create,ce=[{label:d&&!S?a("Bio Link Limit Reached ({{current}}/{{max}})",{current:d.current_biolinks,max:d.max_biolinks}):a("Create New Bio Link"),icon:e.jsx(V,{className:"h-4 w-4 mr-2"}),variant:S?"default":"outline",onClick:S?()=>u.get(route("link-bio-builder.create")):()=>g.error(a("Bio link limit exceeded. Your plan allows maximum {{max}} bio links. Please upgrade your plan.",{max:d==null?void 0:d.max_biolinks})),disabled:!S}],de=[{title:a("Dashboard"),href:route("dashboard")},{title:a("Bio Links")}],I=[{key:"name",label:a("Bio Link"),sortable:!0,render:(r,t)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center text-gray-600",children:le(t.link_type)}),e.jsxs("div",{className:"ml-4",children:[e.jsx(N,{href:route("link-bio-builder.edit",t.id),className:"hover:underline",children:e.jsx("div",{className:"text-sm font-medium text-primary cursor-pointer hover:text-primary/80",children:t.name})}),e.jsx("div",{className:"text-sm text-gray-500",children:t.slug})]})]})},{key:"link_type",label:a("Type"),render:r=>e.jsx($,{variant:"outline",className:"capitalize",children:r})},{key:"created_at",label:a("Created"),sortable:!0,render:(r,t)=>{var i;return e.jsxs("div",{className:"flex items-center",children:[(i=window.appSettings)!=null&&i.formatDateTime?window.appSettings.formatDateTime(r,!1):new Date(r).toLocaleDateString(),new Date(r)>new Date(Date.now()-30*24*60*60*1e3)&&e.jsx($,{className:"ml-2 bg-green-500",children:"New"})]})}}];return e.jsxs(me,{title:a("Bio Link Builder"),url:route("link-bio-builder.index"),actions:ce,breadcrumbs:de,noPadding:!0,children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow mb-4 p-4",children:e.jsx(we,{searchTerm:l,onSearchChange:f,onSearch:ae,filters:[{name:"type",label:a("Link Type"),type:"select",value:c,onChange:se,options:[{value:"all",label:a("All Types")},...L.map(r=>({value:r,label:r.charAt(0).toUpperCase()+r.slice(1)}))]}],showFilters:H,setShowFilters:M,hasActiveFilters:re,activeFilterCount:te,onResetFilters:oe,onApplyFilters:A,currentPerPage:((Q=o.per_page)==null?void 0:Q.toString())||"10",onPerPageChange:r=>{const t={page:1,per_page:parseInt(r)};l&&(t.search=l),c!=="all"&&(t.type=c),t.view=h,u.get(route("link-bio-builder.index"),t,{preserveState:!0,preserveScroll:!0})},showViewToggle:!0,activeView:h,onViewChange:r=>{try{G(r);const t={view:r};l&&(t.search=l),c!=="all"&&(t.type=c),o.per_page&&(t.per_page=o.per_page),o.page&&(t.page=o.page),u.get(route("link-bio-builder.index"),t,{preserveState:!0,preserveScroll:!0})}catch(t){console.error("Error in view change handler:",t)}}})}),!s||!s.data||s.data.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:a("You haven't created any bio links yet.")}),e.jsx(N,{href:route("link-bio-builder.create"),children:e.jsxs(x,{children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),a("Create Your First Bio Link")]})})]}):h==="list"?e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[I.map(r=>e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-500",onClick:()=>r.sortable&&Te(r.key),children:e.jsxs("div",{className:"flex items-center",children:[r.label,r.sortable&&e.jsx("span",{className:"ml-1",children:o.sort_field===r.key?o.sort_direction==="asc"?"↑":"↓":""})]})},r.key)),e.jsx("th",{className:"px-4 py-3 text-right font-medium text-gray-500",children:a("Actions")})]})}),e.jsx("tbody",{children:s.data.map(r=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[I.map(t=>e.jsx("td",{className:"px-4 py-3",children:t.render?t.render(r[t.key],r):r[t.key]},"".concat(r.id,"-").concat(t.key))),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx("a",{href:r.custom_domain?"https://".concat(r.custom_domain):"".concat(window.appSettings.baseUrl,"/").concat(r.url_prefix||"bio","/").concat(r.slug),target:"_blank",rel:"noopener noreferrer",children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",children:e.jsx(Y,{className:"h-4 w-4"})})})}),e.jsx(b,{children:a("Preview")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:t=>{t.preventDefault(),F(r)},children:e.jsx(T,{className:"h-4 w-4"})})}),e.jsx(b,{children:a("Share")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:t=>{t.preventDefault(),O(r)},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})}),e.jsx(b,{children:a("Copy Link")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-indigo-500 hover:text-indigo-700",onClick:t=>{t.preventDefault(),z(r)},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"16",rx:"1"})]})})}),e.jsx(b,{children:a("QR Code")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(N,{href:route("link-bio-builder.analytics",r.id),children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-green-500 hover:text-green-700",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})})})}),e.jsx(b,{children:a("Analytics")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(N,{href:route("link-bio-builder.edit",r.id),children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-amber-500 hover:text-amber-700",children:e.jsx(q,{className:"h-4 w-4"})})})}),e.jsx(b,{children:a("Edit")})]}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>k(r),children:e.jsx(K,{className:"h-4 w-4"})})}),e.jsx(b,{children:a("Delete")})]})]})})]},r.id))})]})}),e.jsx(W,{from:(s==null?void 0:s.from)||0,to:(s==null?void 0:s.to)||0,total:(s==null?void 0:s.total)||0,links:s==null?void 0:s.links,entityName:a("bio links"),onPageChange:r=>{if(r)try{const n={page:new URL(r,window.location.origin).searchParams.get("page"),view:h};l&&(n.search=l),c!=="all"&&(n.type=c),o.per_page&&(n.per_page=o.per_page),u.get(route("link-bio-builder.index"),n,{preserveState:!0})}catch(t){console.error("Error parsing pagination URL:",t)}}})]}):e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.data.map(r=>{var t,i;return e.jsxs(ue,{className:"group bg-white overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"h-30 relative overflow-hidden bg-gray-100 group",children:[e.jsx("div",{className:"absolute inset-0 ".concat(ne(r)," ").concat(ie(r)," transition-all duration-500 group-hover:scale-105"),style:(t=r.config)!=null&&t.background?{background:r.config.background.type==="image"?"url(".concat(r.config.background.image,") center/cover"):r.config.background.type==="gradient"?r.config.background.gradient:r.config.background.color}:void 0}),e.jsxs("div",{className:"absolute inset-0 opacity-30 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-[10%] left-[20%] w-12 h-12 rounded-full bg-white/20 animate-float-slow"}),e.jsx("div",{className:"absolute bottom-[30%] right-[15%] w-8 h-8 rounded-full bg-white/10 animate-float-medium"}),e.jsx("div",{className:"absolute top-[40%] right-[25%] w-6 h-6 rounded-full bg-white/15 animate-float-fast"})]}),new Date(r.created_at)>new Date(Date.now()-30*24*60*60*1e3)&&e.jsx("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-semibold py-1 px-3 rounded-full shadow-lg z-10",children:a("New")}),e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsxs(fe,{children:[e.jsx(je,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full bg-black/20 hover:bg-black/30 p-0",children:e.jsx(Se,{className:"h-4 w-4 text-white"})})}),e.jsxs(ve,{align:"end",className:"w-56",sideOffset:5,children:[e.jsxs(_,{onClick:()=>{r.custom_domain?"https://".concat(r.custom_domain):"".concat(window.appSettings.baseUrl,"/").concat(r.url_prefix||"bio","/").concat(r.slug),O(r),g.success(a("Link copied to clipboard"))},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-blue-500",children:[e.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),e.jsx("span",{children:a("Copy Link")})]}),e.jsxs(_,{onClick:()=>F(r),children:[e.jsx(T,{className:"h-4 w-4 mr-2 text-blue-500"}),e.jsx("span",{children:a("Share")})]}),e.jsxs(_,{onClick:()=>z(r),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-indigo-500",children:[e.jsx("rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"16",rx:"1"})]}),e.jsx("span",{children:a("QR Code")})]}),e.jsxs(_,{onClick:()=>u.get(route("link-bio-builder.analytics",r.id)),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-green-500",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),e.jsx("span",{children:a("Analytics")})]}),e.jsx(ye,{}),e.jsxs(_,{onClick:()=>k(r),className:"text-red-600",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:a("Delete")})]})]})]})}),e.jsxs("div",{className:"absolute bottom-3 left-4 right-4 z-10",children:[e.jsx(N,{href:route("link-bio-builder.edit",r.id),children:e.jsx("h3",{className:"text-lg font-bold text-white truncate drop-shadow-md hover:underline cursor-pointer hover:text-primary-foreground",children:r.name})}),e.jsx("p",{className:"text-sm text-white/80 truncate",children:r.link_type})]})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx($,{variant:"outline",className:"capitalize font-medium",children:r.link_type})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a("Created")," ",(i=window.appSettings)!=null&&i.formatDateTime?window.appSettings.formatDateTime(r.created_at,!1):new Date(r.created_at).toLocaleDateString()]})]})}),e.jsx("div",{className:"border-t border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 p-3",children:[e.jsx(N,{href:route("link-bio-builder.edit",r.id),className:"col-span-1",children:e.jsxs(x,{variant:"default",className:"w-full h-9 bg-amber-500 hover:bg-amber-600",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),a("Edit")]})}),e.jsx("a",{href:r.custom_domain?"https://".concat(r.custom_domain):"".concat(window.appSettings.baseUrl,"/").concat(r.url_prefix||"bio","/").concat(r.slug),target:"_blank",rel:"noopener noreferrer",className:"col-span-1",children:e.jsxs(x,{variant:"outline",className:"w-full h-9 border-blue-500 text-blue-600 hover:bg-blue-50",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),a("Preview")]})})]})})]},r.id)})}),e.jsx("div",{className:"mt-6 bg-white dark:bg-gray-900 rounded-lg shadow overflow-hidden",children:e.jsx(W,{from:(s==null?void 0:s.from)||0,to:(s==null?void 0:s.to)||0,total:(s==null?void 0:s.total)||0,links:s==null?void 0:s.links,entityName:a("bio links"),onPageChange:r=>{if(r)try{const n={page:new URL(r,window.location.origin).searchParams.get("page"),view:h};l&&(n.search=l),c!=="all"&&(n.type=c),o.per_page&&(n.per_page=o.per_page),u.get(route("link-bio-builder.index"),n,{preserveState:!0})}catch(t){console.error("Error parsing pagination URL:",t)}}})})]}),e.jsx(be,{isOpen:J,onClose:()=>C(!1),onConfirm:ee,itemName:(p==null?void 0:p.name)||"",entityName:"bio link"}),e.jsx(Ne,{isOpen:X,onClose:()=>B(!1),url:R,title:(p==null?void 0:p.name)||"Bio Link"}),e.jsx(_e,{isOpen:Z,onClose:()=>E(!1),url:R,title:(p==null?void 0:p.name)||"Bio Link"})]})}function Te(s){try{const d=new URL(window.location.href).searchParams.get("sort_field"),o=new URL(window.location.href).searchParams.get("sort_direction"),a=new URL(window.location.href).searchParams.get("view")||localStorage.getItem("biolink-view")||"list",l={sort_field:s,sort_direction:d===s&&o==="asc"?"desc":"asc",view:a},f=new URL(window.location.href).searchParams;f.get("search")&&(l.search=f.get("search")),f.get("type")&&f.get("type")!=="all"&&(l.type=f.get("type")),f.get("per_page")&&(l.per_page=f.get("per_page")),u.get(route("link-bio-builder.index"),l,{preserveState:!0})}catch(d){console.error("Error handling sort:",d)}}export{Pr as default};

import{r as i,j as e}from"./ui-XtzbmeJx.js";import{P as Be}from"./page-template-_w_TezBb.js";import{u as We,W as Ie,K as Te,s as Ee,H as Ue,p as Ge,B as ue,k as Ae,av as Me,J as Ze,U as De}from"./app--U2u_Nco.js";import{S as He}from"./scroll-area-B8_vnZCV.js";import Le from"./system-settings-CEBvv69A.js";import Fe from"./currency-settings-CFek03DX.js";import Ye from"./email-settings-D2Lbgv8-.js";import $e from"./push-notification-settings-BJZurhLk.js";import ze from"./payment-settings-CsbTdQnA.js";import Oe from"./storage-settings-BdFkoRJL.js";import Ve from"./recaptcha-settings-CV6mlbp9.js";import qe from"./chatgpt-settings-B09-3pU0.js";import Je from"./cookie-settings-DtEMsyar.js";import Ke from"./seo-settings-DyYxyA7M.js";import Qe from"./cache-settings-anr-5bhu.js";import Xe from"./webhook-settings-DvkB5qnY.js";import _e from"./google-calendar-settings-CI42BgPg.js";import es from"./google-wallet-settings-OvnKaTr_.js";import{T as ss}from"./toaster-m2lfzJ9u.js";import{S as ts}from"./settings-DvHmCXCi.js";import{D as is}from"./dollar-sign-iDXPpovF.js";import{M as ns}from"./mail-CeMU5Fvk.js";import{C as rs}from"./credit-card-BnHKQyNb.js";import{H as fe}from"./hard-drive-CUmwktYJ.js";import{S as as}from"./shield-B_IGYjvT.js";import{B as os}from"./bot-CKHtHJ0g.js";import{a as ms}from"./cookie-consent-CREhfCi9.js";import{C as ls}from"./calendar-BvntvMDr.js";import{W as cs}from"./wallet-BJ9Z1Mvd.js";import{Z as he}from"./zap-DxDsyCFD.js";import{W as gs}from"./webhook-DIU3Iulc.js";import"./vendor-CxtKjBZA.js";import"./app-layout-2q3qeuPG.js";import"./app-sidebar-layout-B8sCBDfP.js";import"./textarea-DI5KsTzY.js";import"./select-DPTsfyZo.js";import"./index-C0g6bluz.js";import"./chevron-up-Cb1PVDjg.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./sparkles-CjzlGYDC.js";import"./loader-circle-sCJ-o5H7.js";import"./copy-C3tPhgbj.js";import"./chevron-right-BNDDuqe9.js";import"./language-switcher-CoqxIfsY.js";import"./globe-D7cjKJp0.js";import"./chart-column-I-WbOlTU.js";import"./briefcase-D8uqggDK.js";import"./package-sLSwB21j.js";import"./users-DAfK_cju.js";import"./message-square-PGEHhf8N.js";import"./shopping-bag-D4ViwlKW.js";import"./user-Cz4gw8yj.js";import"./arrow-left-DKs6FA6H.js";import"./use-favicon-8c0NNY31.js";import"./utils-CCVAIzGD.js";import"./switch-DN11QdvS.js";import"./alert-QWE4c3kv.js";import"./server-KY-nNMY5.js";import"./lock-YIRZP2wJ.js";import"./send-DBm1eEDF.js";import"./bell-ring-CqDTHAeg.js";import"./eye-off-CVQgGE_V.js";import"./eye-B7sLO0GV.js";import"./radio-group-CggSXQ4F.js";import"./circle-Bnj1hOb8.js";import"./indian-rupee-BUAcgcni.js";import"./banknote-DVu7QDeG.js";import"./tabs-CUnSuE_W.js";import"./checkbox-DmooSyS7.js";import"./download-qOMTGgoX.js";import"./trash-2-CioPUL_a.js";import"./table-h_a0ORMR.js";import"./CrudDeleteModal-CdzYgijM.js";import"./link-2-DjODzqyP.js";import"./square-pen-PWqrLshg.js";import"./external-link-B0R81TS6.js";function Gt(){var G,A,M,Z,D,H,L,F,Y,$,z,O,V,q,J,K,Q,X,_,ee,se,te,ie,ne,re,ae,oe,me,le,ce,ge;const{t}=We(),{position:h}=Ie(),{systemSettings:a={},cacheSize:xe="0.00",timezones:je={},dateFormats:ye={},timeFormats:Se={},paymentSettings:be={},webhooks:Ne=[],auth:s={}}=Te().props,[we,d]=i.useState("system-settings"),[Re,x]=i.useState(!1),j=[{title:t("System Settings"),href:"#system-settings",icon:e.jsx(ts,{className:"h-4 w-4 mr-2"}),permission:"manage-system-settings"},{title:t("Brand Settings"),href:"#brand-settings",icon:e.jsx(Ee,{className:"h-4 w-4 mr-2"}),permission:"manage-brand-settings"},{title:t("Currency Settings"),href:"#currency-settings",icon:e.jsx(is,{className:"h-4 w-4 mr-2"}),permission:"manage-currency-settings"},{title:t("Email Settings"),href:"#email-settings",icon:e.jsx(ns,{className:"h-4 w-4 mr-2"}),permission:"manage-email-settings"},{title:t("Web Push Notifications"),href:"#push-notification-settings",icon:e.jsx(Ue,{className:"h-4 w-4 mr-2"}),permission:"settings"},{title:t("Payment Settings"),href:"#payment-settings",icon:e.jsx(rs,{className:"h-4 w-4 mr-2"}),permission:"manage-payment-settings"},{title:t("Storage Settings"),href:"#storage-settings",icon:e.jsx(fe,{className:"h-4 w-4 mr-2"}),permission:"manage-storage-settings"},{title:t("ReCaptcha Settings"),href:"#recaptcha-settings",icon:e.jsx(as,{className:"h-4 w-4 mr-2"}),permission:"manage-recaptcha-settings"},{title:t("Chat GPT Settings"),href:"#chatgpt-settings",icon:e.jsx(os,{className:"h-4 w-4 mr-2"}),permission:"manage-chatgpt-settings"},{title:t("Cookie Settings"),href:"#cookie-settings",icon:e.jsx(ms,{className:"h-4 w-4 mr-2"}),permission:"manage-cookie-settings"},{title:t("SEO Settings"),href:"#seo-settings",icon:e.jsx(Ge,{className:"h-4 w-4 mr-2"}),permission:"manage-seo-settings"},{title:t("Cache Settings"),href:"#cache-settings",icon:e.jsx(fe,{className:"h-4 w-4 mr-2"}),permission:"manage-cache-settings"},{title:t("Google Calendar Settings"),href:"#google-calendar-settings",icon:e.jsx(ls,{className:"h-4 w-4 mr-2"}),permission:"settings"},{title:t("Google Wallet Settings"),href:"#google-wallet-settings",icon:e.jsx(cs,{className:"h-4 w-4 mr-2"}),permission:"settings"},{title:t("System Upgrade"),href:"#system-upgrade",icon:e.jsx(he,{className:"h-4 w-4 mr-2"}),permission:"superadmin"}];((G=s.user)==null?void 0:G.type)!=="superadmin"&&j.push({title:t("Webhook Settings"),href:"#webhook-settings",icon:e.jsx(gs,{className:"h-4 w-4 mr-2"}),permission:"manage-webhook-settings"});const ve=j.filter(n=>{var r;return!n.permission||s.permissions&&s.permissions.includes(n.permission)||n.permission==="superadmin"&&((r=s.user)==null?void 0:r.type)==="superadmin"?!0:s.user&&s.user.type==="company"?["manage-system-settings","manage-email-settings","manage-brand-settings","manage-webhook-settings","settings"].includes(n.permission):!1}),y=i.useRef(null),S=i.useRef(null),b=i.useRef(null),N=i.useRef(null),w=i.useRef(null),R=i.useRef(null),v=i.useRef(null),k=i.useRef(null),C=i.useRef(null),P=i.useRef(null),B=i.useRef(null),W=i.useRef(null),I=i.useRef(null),T=i.useRef(null),E=i.useRef(null),U=i.useRef(null);i.useEffect(()=>{const n=()=>{var de;const l=window.scrollY+100,g=[{id:"system-settings",ref:y},{id:"brand-settings",ref:S},{id:"currency-settings",ref:b},{id:"email-settings",ref:N},{id:"push-notification-settings",ref:w},{id:"payment-settings",ref:R},{id:"storage-settings",ref:v},{id:"recaptcha-settings",ref:k},{id:"chatgpt-settings",ref:C},{id:"cookie-settings",ref:P},{id:"seo-settings",ref:B},{id:"cache-settings",ref:W},{id:"google-calendar-settings",ref:T},{id:"google-wallet-settings",ref:E},{id:"system-upgrade",ref:U},{id:"webhook-settings",ref:I}].filter(o=>o.ref.current);let f=((de=g[0])==null?void 0:de.id)||"system-settings";for(const o of g){const p=o.ref.current;if(p){const Ce=p.getBoundingClientRect(),Pe=window.scrollY+Ce.top;l>=Pe&&(f=o.id)}}const c=g[g.length-1];if(c!=null&&c.ref.current){const o=c.ref.current.getBoundingClientRect(),p=window.scrollY+o.bottom;l>=p-300&&(f=c.id)}Re||d(f)};let r=!1,m;const pe=()=>{r||(requestAnimationFrame(()=>{n(),r=!1}),r=!0),clearTimeout(m),m=setTimeout(()=>{x(!1)},150)};window.addEventListener("scroll",pe),n();const u=window.location.hash.replace("#","");return u&&setTimeout(()=>{const l=document.getElementById(u);l&&(l.scrollIntoView({behavior:"smooth"}),d(u))},100),()=>{window.removeEventListener("scroll",pe)}},[]);const ke=n=>{const r=n.replace("#","");x(!0),d(r);const m=document.getElementById(r);m&&m.scrollIntoView({behavior:"smooth"})};return e.jsxs(Be,{title:t("Settings"),url:"/settings",breadcrumbs:[{title:t("Dashboard"),href:route("dashboard")},{title:t("Settings")}],children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 ".concat(h==="right"?"md:flex-row-reverse":""),children:[e.jsx("div",{className:"md:w-64 flex-shrink-0",children:e.jsx("div",{className:"sticky top-20",children:e.jsx(He,{className:"h-[calc(100vh-5rem)]",children:e.jsx("div",{className:"space-y-1 ".concat(h==="right"?"pl-4":"pr-4"),children:ve.map(n=>e.jsxs(ue,{variant:"ghost",className:Ae("w-full justify-start",{"bg-muted font-medium":we===n.href.replace("#","")}),onClick:()=>ke(n.href),children:[n.icon,n.title]},n.href))})})})}),e.jsxs("div",{className:"flex-1",children:[(((A=s.permissions)==null?void 0:A.includes("manage-system-settings"))||((M=s.user)==null?void 0:M.type)==="superadmin"||((Z=s.user)==null?void 0:Z.type)==="company")&&e.jsx("section",{id:"system-settings",ref:y,className:"mb-8",children:e.jsx(Le,{settings:a,timezones:je,dateFormats:ye,timeFormats:Se})}),(((D=s.permissions)==null?void 0:D.includes("manage-brand-settings"))||((H=s.user)==null?void 0:H.type)==="superadmin")&&e.jsx("section",{id:"brand-settings",ref:S,className:"mb-8",children:e.jsx(Me,{})}),(((L=s.permissions)==null?void 0:L.includes("manage-currency-settings"))||((F=s.user)==null?void 0:F.type)==="superadmin")&&e.jsx("section",{id:"currency-settings",ref:b,className:"mb-8",children:e.jsx(Fe,{})}),(((Y=s.permissions)==null?void 0:Y.includes("manage-email-settings"))||(($=s.user)==null?void 0:$.type)==="superadmin")&&e.jsx("section",{id:"email-settings",ref:N,className:"mb-8",children:e.jsx(Ye,{})}),e.jsx("section",{id:"push-notification-settings",ref:w,className:"mb-8",children:e.jsx($e,{})}),(((z=s.permissions)==null?void 0:z.includes("manage-payment-settings"))||((O=s.user)==null?void 0:O.type)==="superadmin")&&e.jsx("section",{id:"payment-settings",ref:R,className:"mb-8",children:e.jsx(ze,{settings:be})}),(((V=s.permissions)==null?void 0:V.includes("manage-storage-settings"))||((q=s.user)==null?void 0:q.type)==="superadmin")&&e.jsx("section",{id:"storage-settings",ref:v,className:"mb-8",children:e.jsx(Oe,{settings:a})}),(((J=s.permissions)==null?void 0:J.includes("manage-recaptcha-settings"))||((K=s.user)==null?void 0:K.type)==="superadmin")&&e.jsx("section",{id:"recaptcha-settings",ref:k,className:"mb-8",children:e.jsx(Ve,{settings:a})}),(((Q=s.permissions)==null?void 0:Q.includes("manage-chatgpt-settings"))||((X=s.user)==null?void 0:X.type)==="superadmin")&&e.jsx("section",{id:"chatgpt-settings",ref:C,className:"mb-8",children:e.jsx(qe,{settings:a})}),(((_=s.permissions)==null?void 0:_.includes("manage-cookie-settings"))||((ee=s.user)==null?void 0:ee.type)==="superadmin")&&e.jsx("section",{id:"cookie-settings",ref:P,className:"mb-8",children:e.jsx(Je,{settings:a})}),(((se=s.permissions)==null?void 0:se.includes("manage-seo-settings"))||((te=s.user)==null?void 0:te.type)==="superadmin")&&e.jsx("section",{id:"seo-settings",ref:B,className:"mb-8",children:e.jsx(Ke,{settings:a})}),(((ie=s.permissions)==null?void 0:ie.includes("manage-cache-settings"))||((ne=s.user)==null?void 0:ne.type)==="superadmin")&&e.jsx("section",{id:"cache-settings",ref:W,className:"mb-8",children:e.jsx(Qe,{cacheSize:xe})}),(((re=s.permissions)==null?void 0:re.includes("settings"))||((ae=s.user)==null?void 0:ae.type)==="company")&&e.jsx("section",{id:"google-calendar-settings",ref:T,className:"mb-8",children:e.jsx(_e,{settings:a})}),(((oe=s.permissions)==null?void 0:oe.includes("settings"))||((me=s.user)==null?void 0:me.type)==="company")&&e.jsx("section",{id:"google-wallet-settings",ref:E,className:"mb-8",children:e.jsx(es,{settings:a})}),((le=s.permissions)==null?void 0:le.includes("manage-webhook-settings"))&&((ce=s.user)==null?void 0:ce.type)!=="superadmin"&&e.jsx("section",{id:"webhook-settings",ref:I,className:"mb-8",children:e.jsx(Xe,{webhooks:Ne})}),((ge=s.user)==null?void 0:ge.type)==="superadmin"&&e.jsx("section",{id:"system-upgrade",ref:U,className:"mb-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(he,{className:"h-6 w-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t("System Upgrade")})]}),e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:t("Upload and apply system upgrades to update your application. Create a ZIP file containing the updated files and upload it here.")}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:t("How to Create Upgrade Packages")}),e.jsxs("ol",{className:"list-decimal list-inside text-blue-800 space-y-1 text-sm",children:[e.jsx("li",{children:t("Make your updates to the local codebase")}),e.jsx("li",{children:t("Test the changes thoroughly")}),e.jsx("li",{children:t("Create a ZIP file containing the updated files (maintain the same directory structure as your Laravel app)")}),e.jsx("li",{children:t("Upload the ZIP file using the button below")}),e.jsx("li",{children:t("Apply the upgrade to update your system")})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ze,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-red-900 mb-1",children:t("Warning")}),e.jsx("p",{className:"text-red-800 text-sm",children:t("Applying this upgrade will overwrite existing files. Make sure you have a backup before proceeding. Only upload trusted upgrade packages.")})]})]})}),e.jsx("div",{className:"flex gap-3",children:e.jsx(ue,{asChild:!0,children:e.jsxs("a",{href:route("upgrade.index"),className:"inline-flex items-center gap-2",children:[e.jsx(De,{className:"h-4 w-4"}),t("Go to Upgrade Page")]})})})]})]})})]})]}),e.jsx(ss,{})]})}export{Gt as default};

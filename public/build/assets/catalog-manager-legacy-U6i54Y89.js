!function(){function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}function a(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,s,n,l,i=[],c=!0,o=!1;try{if(n=(r=r.call(e)).next,0===a){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=n.call(r)).done)&&(i.push(t.value),i.length!==a);c=!0);}catch(e){o=!0,s=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(o)throw s}}return i}}(e,a)||function(e,a){if(e){if("string"==typeof e)return r(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,a){(null==a||a>e.length)&&(a=e.length);for(var r=0,t=Array(a);r<a;r++)t[r]=e[r];return t}function t(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,t)}return r}function s(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?t(Object(r),!0).forEach(function(a){n(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function n(a,r,t){return(r=function(a){var r=function(a,r){if("object"!=e(a)||!a)return a;var t=a[Symbol.toPrimitive];if(void 0!==t){var s=t.call(a,r||"default");if("object"!=e(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(a)}(a,"string");return"symbol"==e(r)?r:r+""}(r))in a?Object.defineProperty(a,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[r]=t,a}System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ct73uABr.js","./page-template-legacy-et8O2PIf.js","./textarea-legacy-DhpF_zd4.js","./switch-legacy-t_Z_CqVY.js","./pencil-line-legacy-C-iBrfpN.js","./trash-2-legacy-ZzhgHTxS.js","./package-legacy-BXVFs7qu.js","./sparkles-legacy-DXvM6dmp.js","./layers-legacy-B_4hYWjh.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js","./app-layout-legacy-BbvocKkk.js","./app-sidebar-layout-legacy-DjGq5XwB.js","./select-legacy-DJ7KqnGK.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-C3cU62dz.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./loader-circle-legacy-BAWBSNTr.js","./copy-legacy-CyY0zsNU.js","./chevron-right-legacy-D5fLjpJA.js","./language-switcher-legacy-BfnK_KLk.js","./globe-legacy-D167FJxM.js","./chart-column-legacy-xaxxIszB.js","./briefcase-legacy-fFmYMQCB.js","./credit-card-legacy-oVK_vO6r.js","./dollar-sign-legacy-De4_eAPE.js","./mail-legacy-DchUy0NJ.js","./users-legacy-CIHfY2gt.js","./settings-legacy-BXGYMxCJ.js","./message-square-legacy-CVHCr5Dt.js","./calendar-legacy-DdDaxKxU.js","./wallet-legacy-DOeLcv8c.js","./shopping-bag-legacy-BRpvr-V3.js","./building-2-legacy-Dj3cFBKu.js","./user-legacy-cMI1gv9J.js","./arrow-left-legacy-CqQR3bfj.js","./use-favicon-legacy-CbpIBPd5.js","./cookie-consent-legacy-BD_speLP.js"],function(e,r){"use strict";var t,n,l,i,c,o,u,d,m,p,g,h,v,f,x,y,j,b,_,N,k,w,C,S,D,P;return{setters:[function(e){t=e.R,n=e.j},function(e){l=e.u,i=e.S,c=e.t,o=e.n,u=e.C,d=e.g,m=e.m,p=e.k,g=e.d,h=e.e,v=e.L,f=e.I,x=e.M,y=e.B,j=e.i},function(e){b=e.P},function(e){_=e.T},function(e){N=e.S},function(e){k=e.P,w=e.C},function(e){C=e.T},function(e){S=e.P},function(e){D=e.S},function(e){P=e.L},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var r=function(e){if(null==e||""===e)return null;var a="number"==typeof e?e:Number(e);return Number.isNaN(a)?null:a},O=function(e){if(null==e||""===e)return null;var a="number"==typeof e?e:Number(e);return Number.isNaN(a)?null:a},E=function(e){var a,o,j,b,S,D,P,E,A,I,F,B,M,T,U,L,R=e.businessId,z=e.service,q=e.defaultOrder,V=e.onFinish,X=l().t,$=Boolean(z),G=t.useCallback(function(e){"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("catalog:updated",{detail:{businessId:R,entity:"service",action:e}}))},[R]),H=m(z?{name:null!==(a=z.name)&&void 0!==a?a:"",slug:null!==(o=z.slug)&&void 0!==o?o:"",summary:null!==(j=z.summary)&&void 0!==j?j:"",description:null!==(b=z.description)&&void 0!==b?b:"",category:null!==(S=z.category)&&void 0!==S?S:"",price_type:null!==(D=z.price_type)&&void 0!==D?D:"",price_amount:null!==(P=z.price_amount)&&void 0!==P?P:"",price_currency:null!==(E=z.price_currency)&&void 0!==E?E:"",duration_label:null!==(A=z.duration_label)&&void 0!==A?A:"",is_featured:null!==(I=z.is_featured)&&void 0!==I&&I,order_index:null!==(F=z.order_index)&&void 0!==F?F:null,meta_image:null!==(B=null!==(M=z.meta_image)&&void 0!==M?M:null===(T=z.meta)||void 0===T?void 0:T.image)&&void 0!==B?B:""}:{name:"",slug:"",summary:"",description:"",category:"",price_type:"",price_amount:"",price_currency:"",duration_label:"",is_featured:!1,order_index:q,meta_image:""}),J=X($?"Refine the details so prospects know exactly how this service delivers value.":"Spotlight the services that define your craft—perfect for construction, consulting, and more.");return n.jsx(u,{className:p("border border-slate-200 shadow-lg shadow-orange-100/40"),children:n.jsxs("form",{onSubmit:function(e){e.preventDefault(),H.transform(function(e){return s(s({},e),{},{price_amount:O(e.price_amount),order_index:r(e.order_index),meta_image:"string"==typeof e.meta_image?e.meta_image.trim():""})});var a={preserveScroll:!0,onSuccess:function(){c.success(X($?"Service updated successfully.":"Service created successfully.")),$?(G("update"),null==V||V()):(H.reset(),G("create"))}};$?H.put(route("vcard-builder.catalog.services.update",{business:R,service:z.id}),a):H.post(route("vcard-builder.catalog.services.store",R),a)},className:"space-y-6",children:[n.jsxs(g,{className:"space-y-2 border-b bg-slate-900/5",children:[n.jsxs(h,{className:"flex items-center gap-2 text-lg font-semibold",children:[$?n.jsx(k,{className:"h-5 w-5 text-orange-500"}):n.jsx(w,{className:"h-5 w-5 text-orange-500"}),X($?"Update service offering":"Add a new service")]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:J})]}),n.jsxs(d,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:$?"service-name-".concat(z.id):"service-name-new",children:X("Service name")}),n.jsx(f,{id:$?"service-name-".concat(z.id):"service-name-new",placeholder:X("Service Name"),value:H.data.name,onChange:function(e){return H.setData("name",e.target.value)},required:!0}),H.errors.name&&n.jsx("p",{className:"text-xs text-red-500",children:H.errors.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:$?"service-slug-".concat(z.id):"service-slug-new",children:X("Slug (optional)")}),n.jsx(f,{id:$?"service-slug-".concat(z.id):"service-slug-new",placeholder:X("electrical-installation"),value:H.data.slug,onChange:function(e){return H.setData("slug",e.target.value)}}),H.errors.slug&&n.jsx("p",{className:"text-xs text-red-500",children:H.errors.slug})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:X("Summary highlight")}),n.jsx(f,{placeholder:X("Brief description of this service."),value:H.data.summary,onChange:function(e){return H.setData("summary",e.target.value)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:X("Detailed description")}),n.jsx(_,{placeholder:X("Detailed description of what this service includes and how it benefits customers."),rows:4,value:H.data.description,onChange:function(e){return H.setData("description",e.target.value)}})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:X("Category")}),n.jsx(f,{placeholder:X("Service category or type"),value:H.data.category,onChange:function(e){return H.setData("category",e.target.value)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:X("Duration label")}),n.jsx(f,{placeholder:X("Estimated time to complete"),value:H.data.duration_label,onChange:function(e){return H.setData("duration_label",e.target.value)}})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:X("Cover image")}),n.jsx(x,{value:H.data.meta_image,onChange:function(e){return H.setData("meta_image",e)},placeholder:X("Select an image to represent this service")}),n.jsx("p",{className:"text-xs text-muted-foreground",children:X("Add an image that represents this service.")})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:X("Price type")}),n.jsx(f,{placeholder:X("Fixed, hourly, project-based..."),value:H.data.price_type,onChange:function(e){return H.setData("price_type",e.target.value)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:X("Price amount")}),n.jsx(f,{type:"number",min:"0",step:"0.01",value:null!==(U=H.data.price_amount)&&void 0!==U?U:"",onChange:function(e){return H.setData("price_amount",""===e.target.value?"":Number(e.target.value))}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:X("Currency")}),n.jsx(f,{placeholder:"USD",maxLength:10,value:H.data.price_currency,onChange:function(e){return H.setData("price_currency",e.target.value)}})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-dashed border-orange-200/70 bg-orange-50/70 px-3 py-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:X("Feature this service")}),n.jsx("p",{className:"text-xs text-muted-foreground",children:X("Pinned services are prioritised in the Services section of your preview.")})]}),n.jsx(N,{checked:H.data.is_featured,onCheckedChange:function(e){return H.setData("is_featured",e)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:X("Display order")}),n.jsx(f,{type:"number",min:"0",value:null!==(L=H.data.order_index)&&void 0!==L?L:"",onChange:function(e){return H.setData("order_index",""===e.target.value?"":Number(e.target.value))}})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 border-t bg-slate-50 px-6 py-4",children:[$&&n.jsx(y,{type:"button",variant:"ghost",onClick:V,disabled:H.processing,children:X("Cancel")}),$&&n.jsxs(y,{type:"button",variant:"destructive",onClick:function(){z&&confirm(X("Are you sure you want to remove this service?"))&&i.delete(route("vcard-builder.catalog.services.destroy",{business:R,service:z.id}),{preserveScroll:!0,onSuccess:function(){c.success(X("Service removed successfully.")),G("delete"),null==V||V()}})},disabled:H.processing,children:[n.jsx(C,{className:"mr-1 h-4 w-4"}),X("Remove service")]}),n.jsx(y,{type:"submit",disabled:H.processing,children:X($?"Save service":"Publish service")})]})]})]})})},A=function(e){var a=e.service,r=e.onEdit,s=e.onDelete,i=l().t,c=t.useMemo(function(){return null!==a.price_amount&&void 0!==a.price_amount&&""!==a.price_amount?"".concat(a.price_amount).concat(a.price_currency?" ".concat(a.price_currency):""):a.price_currency?a.price_currency:null},[a.price_amount,a.price_currency]),o=t.useMemo(function(){return[a.category,a.duration_label,a.price_type,c].filter(Boolean).join(" • ")},[c,a.category,a.duration_label,a.price_type]);return n.jsx(u,{className:"border border-border/60",children:n.jsxs(d,{className:"flex flex-col gap-3 py-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-semibold",children:a.name}),a.summary&&n.jsx("p",{className:"text-xs text-muted-foreground",children:a.summary}),o&&n.jsx("p",{className:"text-xs text-muted-foreground",children:o})]}),n.jsxs("div",{className:"flex gap-2 self-end sm:self-auto",children:[n.jsx(y,{variant:"outline",size:"sm",onClick:r,children:i("Edit")}),n.jsx(y,{type:"button",variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:s,children:i("Delete")})]})]})})},I=function(e){var o,x,j,b,S,D,P,E,A,I,F,B,M,T,U,L,R,z,q,V,X,$,G,H,J=e.businessId,K=e.package,Q=e.defaultOrder,W=e.onFinish,Y=l().t,Z=Boolean(K),ee=t.useCallback(function(e){"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("catalog:updated",{detail:{businessId:J,entity:"package",action:e}}))},[J]),ae=K?{name:null!==(o=K.name)&&void 0!==o?o:"",slug:null!==(x=K.slug)&&void 0!==x?x:"",headline:null!==(j=K.headline)&&void 0!==j?j:"",description:null!==(b=K.description)&&void 0!==b?b:"",price_display:null!==(S=K.price_display)&&void 0!==S?S:"",price_amount:null!==(D=K.price_amount)&&void 0!==D?D:"",price_currency:null!==(P=K.price_currency)&&void 0!==P?P:"",duration_label:null!==(E=K.duration_label)&&void 0!==E?E:"",cta_label:null!==(A=K.cta_label)&&void 0!==A?A:"",cta_link:null!==(I=K.cta_link)&&void 0!==I?I:"",is_featured:null!==(F=K.is_featured)&&void 0!==F&&F,order_index:null!==(B=K.order_index)&&void 0!==B?B:null,features:null!==(M=K.features)&&void 0!==M?M:[],meta_image:null!==(T=null!==(U=K.meta_image)&&void 0!==U?U:null===(L=K.meta)||void 0===L?void 0:L.image)&&void 0!==T?T:""}:{name:"",slug:"",headline:"",description:"",price_display:"",price_amount:"",price_currency:"",duration_label:"",cta_label:"",cta_link:"",is_featured:!1,order_index:Q,features:[],meta_image:""},re=m(ae),te=a(t.useState((null!==(R=null==K?void 0:K.features)&&void 0!==R?R:[]).join("\n")),2),se=te[0],ne=te[1];t.useEffect(function(){if(K&&!re.isDirty){var e,a,r=(null!==(e=K.features)&&void 0!==e?e:[]).join("\n");ne(r),re.setData("features",null!==(a=K.features)&&void 0!==a?a:[])}},[K]);var le=Y(Z?"Fine-tune pricing, timelines, and features to close projects faster.":"Create compelling packages with clear deliverables, ideal for construction, design, or consulting.");return n.jsx(u,{className:p("border border-slate-200 shadow-lg shadow-blue-100/40"),children:n.jsxs("form",{onSubmit:function(e){e.preventDefault(),re.transform(function(e){var a,t;return s(s({},e),{},{price_amount:O(e.price_amount),order_index:r(e.order_index),cta_link:null!==(a=e.cta_link)&&void 0!==a&&a.trim()?e.cta_link.trim():null,features:null!==(t=e.features)&&void 0!==t?t:[],meta_image:"string"==typeof e.meta_image?e.meta_image.trim():""})});var a={preserveScroll:!0,onSuccess:function(){c.success(Y(Z?"Package updated successfully.":"Package created successfully.")),Z?(ee("update"),null==W||W()):(re.reset(),ne(""),ee("create"))}};Z&&K?re.put(route("vcard-builder.catalog.packages.update",{business:J,package:K.id}),a):re.post(route("vcard-builder.catalog.packages.store",J),a)},className:"space-y-6",children:[n.jsxs(g,{className:"space-y-2 border-b bg-slate-900/5",children:[n.jsxs(h,{className:"flex items-center gap-2 text-lg font-semibold",children:[Z?n.jsx(k,{className:"h-5 w-5 text-sky-500"}):n.jsx(w,{className:"h-5 w-5 text-sky-500"}),Y(Z?"Update package offer":"Add a new package")]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:le})]}),n.jsxs(d,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:Z?"package-name-".concat(null!==(z=null==K?void 0:K.id)&&void 0!==z?z:"edit"):"package-name-new",children:Y("Package name")}),n.jsx(f,{id:Z?"package-name-".concat(null!==(q=null==K?void 0:K.id)&&void 0!==q?q:"edit"):"package-name-new",placeholder:Y("Package Name"),value:re.data.name,onChange:function(e){return re.setData("name",e.target.value)},required:!0}),re.errors.name&&n.jsx("p",{className:"text-xs text-red-500",children:re.errors.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:Z?"package-slug-".concat(null!==(V=null==K?void 0:K.id)&&void 0!==V?V:"edit"):"package-slug-new",children:Y("Slug (optional)")}),n.jsx(f,{id:Z?"package-slug-".concat(null!==(X=null==K?void 0:K.id)&&void 0!==X?X:"edit"):"package-slug-new",placeholder:Y("premium-construction"),value:re.data.slug,onChange:function(e){return re.setData("slug",e.target.value)}}),re.errors.slug&&n.jsx("p",{className:"text-xs text-red-500",children:re.errors.slug})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("Headline")}),n.jsx(f,{placeholder:Y("Brief overview of what this package offers."),value:re.data.headline,onChange:function(e){return re.setData("headline",e.target.value)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("Description")}),n.jsx(_,{placeholder:Y("Detailed description of what this package includes and its benefits."),rows:4,value:re.data.description,onChange:function(e){return re.setData("description",e.target.value)}})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("Price display")}),n.jsx(f,{placeholder:Y("Price range or starting price"),value:re.data.price_display,onChange:function(e){return re.setData("price_display",e.target.value)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("Numeric price amount")}),n.jsx(f,{type:"number",min:"0",step:"0.01",value:null!==($=re.data.price_amount)&&void 0!==$?$:"",onChange:function(e){return re.setData("price_amount",""===e.target.value?"":Number(e.target.value))}})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("Currency")}),n.jsx(f,{placeholder:"USD",maxLength:10,value:re.data.price_currency,onChange:function(e){return re.setData("price_currency",e.target.value)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("Duration label")}),n.jsx(f,{placeholder:Y("Estimated time to deliver"),value:re.data.duration_label,onChange:function(e){return re.setData("duration_label",e.target.value)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("CTA label")}),n.jsx(f,{placeholder:Y("Call to action text"),value:re.data.cta_label,onChange:function(e){return re.setData("cta_label",e.target.value)}})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("CTA link")}),n.jsx(f,{placeholder:"https://",value:null!==(G=re.data.cta_link)&&void 0!==G?G:"",onChange:function(e){return re.setData("cta_link",e.target.value)}}),re.errors.cta_link&&n.jsx("p",{className:"text-xs text-red-500",children:re.errors.cta_link})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("Included features")}),n.jsx(_,{placeholder:Y("List key features or deliverables, one per line."),rows:5,value:se,onChange:function(e){return function(e){ne(e);var a=e.split("\n").map(function(e){return e.trim()}).filter(Boolean);re.setData("features",a)}(e.target.value)}})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-dashed border-sky-200/70 bg-sky-50/70 px-3 py-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:Y("Feature this package")}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Y("Keep flagship offers front-and-centre in your Packages section.")})]}),n.jsx(N,{checked:re.data.is_featured,onCheckedChange:function(e){return re.setData("is_featured",e)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{children:Y("Display order")}),n.jsx(f,{type:"number",min:"0",value:null!==(H=re.data.order_index)&&void 0!==H?H:"",onChange:function(e){return re.setData("order_index",""===e.target.value?"":Number(e.target.value))}})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 border-t bg-slate-50 px-6 py-4",children:[Z&&n.jsx(y,{type:"button",variant:"ghost",onClick:W,disabled:re.processing,children:Y("Cancel")}),Z&&n.jsxs(y,{type:"button",variant:"destructive",onClick:function(){K&&confirm(Y("Are you sure you want to remove this package?"))&&i.delete(route("vcard-builder.catalog.packages.destroy",{business:J,package:K.id}),{preserveScroll:!0,onSuccess:function(){c.success(Y("Package removed successfully.")),ee("delete"),null==W||W()}})},disabled:re.processing,children:[n.jsx(C,{className:"mr-1 h-4 w-4"}),Y("Remove package")]}),n.jsx(y,{type:"submit",disabled:re.processing,children:Y(Z?"Save package":"Publish package")})]})]})})},F=function(e){var a,r=e.package,s=e.onEdit,i=e.onDelete,c=l().t,o=t.useMemo(function(){return r.price_display?r.price_display:null!==r.price_amount&&void 0!==r.price_amount&&""!==r.price_amount?"".concat(r.price_amount).concat(r.price_currency?" ".concat(r.price_currency):""):r.price_currency?r.price_currency:null},[r.price_amount,r.price_currency,r.price_display]),m=t.useMemo(function(){return[o,r.duration_label].filter(Boolean).join(" • ")},[r.duration_label,o]),p=t.useMemo(function(){return r.features&&0!==r.features.length?c("{{count}} feature",{count:r.features.length,defaultValue:1===r.features.length?c("1 feature"):c("{{count}} features",{count:r.features.length})}):null},[r.features,c]);return n.jsxs(u,{className:"relative overflow-hidden border border-slate-200/80 shadow-sm transition-all hover:-translate-y-0.5 hover:shadow-lg",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-sky-500 via-indigo-400 to-purple-400"}),n.jsxs(d,{className:"space-y-4 pt-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(j,{variant:"outline",className:"flex items-center gap-1 border-sky-200 bg-sky-50 text-sky-800",children:[n.jsx(S,{className:"h-3.5 w-3.5"}),o||c("Custom pricing")]}),r.is_featured&&n.jsxs(j,{className:"bg-gradient-to-r from-violet-500 to-sky-500 text-white",children:[n.jsx(D,{className:"mr-1 h-3.5 w-3.5"}),c("Featured")]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(P,{className:"h-4 w-4"}),c("Order"),": ",null!==(a=r.order_index)&&void 0!==a?a:"—"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:r.name}),r.headline&&n.jsx("p",{className:"text-sm font-medium text-slate-700",children:r.headline}),m&&n.jsx("p",{className:"text-sm text-slate-500",children:m}),r.description&&n.jsx("p",{className:"text-sm leading-relaxed text-slate-600 whitespace-pre-line",children:r.description}),p&&n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:p})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:r.cta_label&&r.cta_link?n.jsxs("span",{children:[r.cta_label," ·"," ",n.jsx("a",{href:r.cta_link,target:"_blank",rel:"noreferrer",className:"text-sky-600 underline-offset-4 hover:underline",children:r.cta_link})]}):n.jsx("span",{children:c("No CTA configured yet.")})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(y,{variant:"outline",size:"sm",onClick:s,children:[n.jsx(k,{className:"mr-1 h-4 w-4"}),c("Edit")]}),n.jsxs(y,{variant:"destructive",size:"sm",onClick:i,children:[n.jsx(C,{className:"mr-1 h-4 w-4"}),c("Remove")]})]})]})]})]})};e("default",function(e){var r=e.business,s=e.services,m=e.packages,p=l().t,g=a(t.useState(null),2),h=g[0],v=g[1],f=a(t.useState(null),2),x=f[0],y=f[1],j=t.useMemo(function(){return[{title:p("Dashboard"),href:route("dashboard")},{title:p("vCard Builder"),href:route("vcard-builder.index")},{title:r.name,href:route("vcard-builder.edit",r.id)},{title:p("Services & Packages")}]},[r.id,r.name,p]),_=t.useCallback(function(e){confirm(p("Are you sure you want to remove this service?"))&&i.delete(route("vcard-builder.catalog.services.destroy",{business:r.id,service:e.id}),{preserveScroll:!0,onSuccess:function(){c.success(p("Service removed successfully.")),v(function(a){return a===e.id?null:a})}})},[r.id,p]),N=t.useCallback(function(e){confirm(p("Are you sure you want to remove this package?"))&&i.delete(route("vcard-builder.catalog.packages.destroy",{business:r.id,package:e.id}),{preserveScroll:!0,onSuccess:function(){c.success(p("Package removed successfully.")),y(function(a){return a===e.id?null:a})}})},[r.id,p]);return n.jsxs(b,{title:p("Services & Packages"),description:p("Manage the catalog content that powers your vCard template. Changes sync automatically to the builder and live preview."),url:route("vcard-builder.catalog.manage",r.id),breadcrumbs:j,children:[n.jsx(o,{title:"".concat(r.name," • ").concat(p("Services & Packages"))}),n.jsxs("div",{className:"space-y-10",children:[n.jsxs("section",{className:"space-y-4",children:[n.jsxs("header",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:p("Services")}),n.jsx("p",{className:"text-sm text-muted-foreground",children:p("Add or arrange the services that should appear on this vCard.")})]}),n.jsx(E,{businessId:r.id,defaultOrder:s.length}),n.jsxs("div",{className:"grid gap-4",children:[0===s.length&&n.jsx(u,{className:"border border-dashed",children:n.jsx(d,{className:"py-8 text-center text-sm text-muted-foreground",children:p("No services captured yet. Use the form above to create your first service.")})}),s.map(function(e){return h===e.id?n.jsx(E,{businessId:r.id,service:e,defaultOrder:s.length,onFinish:function(){return v(null)}},e.id):n.jsx(A,{service:e,onEdit:function(){return v(e.id)},onDelete:function(){return _(e)}},e.id)})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("header",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:p("Packages")}),n.jsx("p",{className:"text-sm text-muted-foreground",children:p("Create pricing packages or bundles for your offerings.")})]}),n.jsx(I,{businessId:r.id,defaultOrder:m.length}),n.jsxs("div",{className:"grid gap-4",children:[0===m.length&&n.jsx(u,{className:"border border-dashed",children:n.jsx(d,{className:"py-8 text-center text-sm text-muted-foreground",children:p("No packages captured yet. Use the form above to add your first package.")})}),m.map(function(e){return x===e.id?n.jsx(I,{businessId:r.id,package:e,defaultOrder:m.length,onFinish:function(){return y(null)}},e.id):n.jsx(F,{package:e,onEdit:function(){return y(e.id)},onDelete:function(){return N(e)}},e.id)})]})]})]})]})})}}})}();

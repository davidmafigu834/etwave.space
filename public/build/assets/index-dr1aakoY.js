import{r as g,j as e}from"./ui-XtzbmeJx.js";import{P as Cs}from"./page-template-l6fMhetb.js";import{S as ks}from"./switch-Bs9N4aMe.js";import{u as A,t as k,S as Z,L as Y,I as W,B as _,C as O,g as S,o as re,d as L,e as q,r as je,J as D,f as bs,i as Ns,D as Es,a as Fs,b as Ts,c as Ms,K as As,ag as oe,P as zs,X as ws}from"./app-CHRIhyY0.js";import{T as Os,a as Ss,b as gs}from"./tabs-CV5-k-Un.js";import{C as Rs}from"./CrudDeleteModal-B9EKR58Q.js";import{l as Bs,E as Ds,u as Is,a as $s,C as vs}from"./react-stripe.esm-E3Y2wpD6.js";import{L as $}from"./loader-circle-CU4vh_jx.js";import{C as Ls}from"./copy-_TD738Qf.js";import{C as Ne}from"./circle-check-big-Blx2zDWr.js";import{C as F}from"./credit-card-D2Mnc2f1.js";import{E as V}from"./external-link-DvDG2v64.js";import{W as ye}from"./wallet-B8MIIno5.js";import{A as R,a as B}from"./alert-B2TN2SSz.js";import{C as be,H as qs,I as he}from"./indian-rupee-BXNmJzqj.js";import{T as Ks}from"./tag-bNpMbCjn.js";import{G as xe}from"./globe-DnSDzBxp.js";import{B as Ys}from"./bot-DV7yW1VL.js";import{C as pe}from"./circle-check-Cb_RhFjb.js";import{S as _s}from"./sparkles-CWM6veXP.js";import{C as fe,B as Xs}from"./crown-DTa4wx44.js";import{P as Us}from"./pencil-RcfWZfGo.js";import{T as Ws}from"./trash-2-DV11Ow7E.js";import{B as Ps}from"./banknote-zbYUgUmm.js";import{A as Hs}from"./arrow-up-right-BQkvu4qX.js";import{Z as Js}from"./zap-DA8HZ38f.js";import{C as Gs}from"./clock-krPbraWS.js";import{H as Vs}from"./hard-drive-CJPy9Bj8.js";import{U as Zs}from"./users-DVhUqNZg.js";import{S as Qs}from"./store-y_sVMDwY.js";import"./vendor-CxtKjBZA.js";import"./app-layout-Bpd3XWn2.js";import"./app-sidebar-layout-DTBrRaJF.js";import"./textarea-aJ3buVnx.js";import"./select-DVebJzi_.js";import"./index-C0g6bluz.js";import"./chevron-up-CWYfEUVP.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./chevron-right-4OzdI5Hc.js";import"./language-switcher-DlUYSL3d.js";import"./chart-column-C3hnsquQ.js";import"./briefcase-DFRvW6SB.js";import"./package-CVcIKtJX.js";import"./dollar-sign-CEEAnrcL.js";import"./mail-uU9WM_iR.js";import"./settings-D1jKjqmC.js";import"./message-square-CzRq4BMj.js";import"./calendar-CuyjcLRJ.js";import"./shopping-bag-DIpJi4I3.js";import"./user-UtdwWo_w.js";import"./arrow-left-hltsWyVL.js";import"./use-favicon-DDTtBI2L.js";import"./cookie-consent-KmXGJKj8.js";import"./utils-CCVAIzGD.js";function de(r={}){const{t:w}=A(),[h,d]=g.useState(!1),u=async(t,s)=>{d(!0);const c={stripe:"stripe.payment",paypal:"paypal.payment",bank:"bank.payment",razorpay:"razorpay.payment",mercadopago:"mercadopago.payment",paystack:"paystack.payment",flutterwave:"flutterwave.payment"}[t];if(!c){k.error(w("Invalid payment method")),d(!1);return}const n=v(t,s);Z.post(route(c),n,{onSuccess:i=>{var f,j,y;(j=(f=i.props)==null?void 0:f.flash)!=null&&j.success?k.success(i.props.flash.success):k.success(w("Payment successful")),(y=r.onSuccess)==null||y.call(r)},onError:i=>{var j;const f=(i==null?void 0:i.message)||(i==null?void 0:i.error)||w("Payment failed");k.error(f),(j=r.onError)==null||j.call(r,f)},onFinish:()=>{d(!1)}})},p=(t,s)=>{const c={stripe:["payment_method_id","cardholder_name"],paypal:["order_id","payment_id"],bank:["amount"],razorpay:["payment_id","order_id","signature"],mercadopago:["payment_id","status"],paystack:["payment_id"],flutterwave:["payment_id"]}[t]||[];for(const n of c)if(!s[n])return k.error(w("".concat(n," is required"))),!1;return!0},v=(t,s)=>({plan_id:s.planId,billing_cycle:s.billingCycle,coupon_code:s.couponCode||"",...s});return{processing:h,processPayment:u,validatePaymentData:p,formatPaymentData:v}}const ea=({planId:r,couponCode:w,billingCycle:h,onSuccess:d,onCancel:u})=>{const{t:p}=A(),v=Is(),t=$s(),[s,o]=g.useState(""),{processing:c,processPayment:n}=de({onSuccess:d,onError:j=>k.error(j)}),i=async j=>{if(j.preventDefault(),!v||!t||!s.trim()){k.error(p("Please fill in all required fields"));return}const y=t.getElement(vs);if(!y)return;const{error:l,paymentMethod:x}=await v.createPaymentMethod({type:"card",card:y,billing_details:{name:s}});if(l){k.error(l.message||p("Payment failed"));return}n("stripe",{planId:r,billingCycle:h,couponCode:w,payment_method_id:x.id,cardholder_name:s})},f={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"cardholder-name",children:p("Name on card")}),e.jsx(W,{id:"cardholder-name",type:"text",value:s,onChange:j=>o(j.target.value),placeholder:p("Enter cardholder name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:p("Card details")}),e.jsx("div",{className:"p-3 border rounded-md",children:e.jsx(vs,{options:f})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:u,disabled:c,className:"flex-1",children:p("Cancel")}),e.jsx(_,{type:"submit",disabled:!v||c,className:"flex-1",children:c?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-4 w-4 mr-2 animate-spin"}),p("Processing...")]}):p("Pay Now")})]})]})};function sa({planId:r,couponCode:w,billingCycle:h,stripeKey:d,onSuccess:u,onCancel:p}){const{t:v}=A(),[t,s]=g.useState(null);return g.useEffect(()=>{d&&d.startsWith("pk_")&&s(Bs(d))},[d]),t?e.jsx(Ds,{stripe:t,children:e.jsx(ea,{planId:r,couponCode:w,billingCycle:h,onSuccess:u,onCancel:p})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:v("Stripe not configured properly")})}function aa({planId:r,planPrice:w,couponCode:h,billingCycle:d,paypalClientId:u,currency:p,onSuccess:v,onCancel:t}){const{t:s}=A(),o=g.useRef(null),{processPayment:c}=de({onSuccess:v,onError:n=>k.error(n)});return g.useEffect(()=>{if(!u||!o.current)return;const n=document.createElement("script");return n.src="https://www.paypal.com/sdk/js?client-id=".concat(u,"&currency=").concat(p.toUpperCase(),"&disable-funding=credit,card"),n.async=!0,n.onload=()=>{window.paypal&&o.current&&window.paypal.Buttons({createOrder:(i,f)=>f.order.create({purchase_units:[{amount:{value:w.toString(),currency_code:p.toUpperCase()}}]}),onApprove:(i,f)=>f.order.capture().then(j=>{c("paypal",{planId:r,billingCycle:d,couponCode:h,order_id:i.orderID,payment_id:j.id})}),onError:i=>{console.error("PayPal error:",i),i.message&&i.message.includes("declined")?k.error(s("Card was declined. Please try a different payment method.")):k.error(s("Payment failed. Please try again."))},onCancel:()=>{t()}}).render(o.current)},document.head.appendChild(n),()=>{document.head.contains(n)&&document.head.removeChild(n)}},[u,r,d,h,p]),u?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{ref:o})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("PayPal not configured")})}function ra({planId:r,planPrice:w,couponCode:h,billingCycle:d,bankDetails:u,onSuccess:p,onCancel:v}){const{t}=A(),[s,o]=g.useState(!1),c=i=>{(j=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(j);{const y=document.createElement("textarea");return y.value=j,y.style.position="fixed",y.style.left="-999999px",y.style.top="-999999px",document.body.appendChild(y),y.focus(),y.select(),new Promise((l,x)=>{document.execCommand("copy")?(y.remove(),l()):(y.remove(),x(new Error("Copy failed")))})}})(i).then(()=>{k.success(t("Amount copied to clipboard"))}).catch(()=>{k.error(t("Failed to copy amount"))})},n=()=>{o(!0),Z.post(route("bank.payment"),{plan_id:r,billing_cycle:d,coupon_code:h,amount:w},{onSuccess:()=>{p()},onError:()=>{k.error(t("Failed to submit payment request"))},onFinish:()=>{o(!1)}})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(O,{children:e.jsxs(S,{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:t("Bank Transfer Details")}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("div",{className:"whitespace-pre-line",children:u}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("span",{className:"font-medium",children:[t("Amount"),": $",w]}),e.jsxs(_,{variant:"outline",size:"sm",onClick:()=>c("$".concat(w)),children:[e.jsx(Ls,{className:"h-3 w-3 mr-1"}),t("Copy")]})]})]})]})}),e.jsx(O,{className:"border-orange-200 bg-orange-50",children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ne,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:t("Important Instructions")}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsxs("li",{children:["• ",t("Transfer the exact amount shown above")]}),e.jsxs("li",{children:["• ",t("Include your order reference in the transfer description")]}),e.jsxs("li",{children:["• ",t("Your plan will be activated after payment verification")]}),e.jsxs("li",{children:["• ",t("Verification may take 1-3 business days")]})]})]})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:v,className:"flex-1",children:t("Cancel")}),e.jsx(_,{onClick:n,disabled:s,className:"flex-1",children:t(s?"Processing...":"I have made the payment")})]})]})}function ta({planId:r,planPrice:w,couponCode:h,billingCycle:d,razorpayKey:u,currency:p,onSuccess:v,onCancel:t}){const{t:s}=A();g.useEffect(()=>{if(window&&window.Razorpay)return;const c=document.createElement("script");return c.src="https://checkout.razorpay.com/v1/checkout.js",c.async=!0,c.onerror=()=>{k.error(s("Failed to load Razorpay checkout. Please try again."))},document.body.appendChild(c),()=>{document.body.contains(c)&&document.body.removeChild(c)}},[]);const o=async()=>{var c,n;try{const i=await re.post(route("razorpay.create-order"),{plan_id:r,billing_cycle:d,coupon_code:h});if(i.data.error){k.error(i.data.error);return}const{order_id:f,amount:j}=i.data;if(!f||!j){k.error(s("Invalid response from server"));return}const y={key:u,amount:j,currency:p,name:"vCard",description:"Plan Subscription",order_id:f,handler:function(x){re.post(route("razorpay.verify-payment"),{razorpay_payment_id:x.razorpay_payment_id,razorpay_order_id:x.razorpay_order_id,razorpay_signature:x.razorpay_signature,plan_id:r,billing_cycle:d,coupon_code:h}).then(()=>{v()}).catch(b=>{var m,P;const N=((P=(m=b.response)==null?void 0:m.data)==null?void 0:P.error)||s("Payment verification failed");k.error(N)})},prefill:{name:"",email:"",contact:""},theme:{color:"#3B82F6"},modal:{ondismiss:t}};if(!window.Razorpay){k.error(s("Razorpay SDK not loaded"));return}new window.Razorpay(y).open()}catch(i){const f=((n=(c=i.response)==null?void 0:c.data)==null?void 0:n.error)||s("Failed to initialize payment");k.error(f),console.error("Razorpay error:",i)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to Razorpay to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:o,className:"flex-1",children:s("Pay with Razorpay")})]})]})}function na({planId:r,planPrice:w,couponCode:h,billingCycle:d,accessToken:u,currency:p="BRL",onSuccess:v,onCancel:t}){const{t:s}=A(),[o,c]=g.useState(!1),n=async()=>{var i,f;try{c(!0);const j=await re.post(route("mercadopago.create-preference"),{plan_id:r,billing_cycle:d,coupon_code:h||void 0},{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});j.data.redirect_url?window.location.href=j.data.redirect_url:(k.error(s("Failed to create payment preference")),c(!1))}catch(j){const y=((f=(i=j.response)==null?void 0:i.data)==null?void 0:f.error)||j.message||s("Failed to create payment preference");k.error(y),c(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to MercadoPago to complete your payment.")}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(_,{variant:"outline",onClick:t,className:"flex-1",disabled:o,children:s("Cancel")}),e.jsx(_,{onClick:n,className:"flex-1",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-4 w-4 mr-2 animate-spin"}),s("Processing...")]}):s("Pay with MercadoPago")})]})]})}function la({planId:r,planPrice:w,couponCode:h,billingCycle:d,paystackKey:u,currency:p,onSuccess:v,onCancel:t}){var n;const{t:s}=A(),o=g.useRef(!1),{processPayment:c}=de({onSuccess:v,onError:i=>k.error(i)});return g.useEffect(()=>{if(!u||o.current)return;const i=document.createElement("script");return i.src="https://js.paystack.co/v1/inline.js",i.async=!0,i.onload=()=>{o.current=!0;const f=document.querySelector("[data-radix-dialog-overlay]");f&&(f.style.display="none"),window.PaystackPop.setup({key:u,email:"user@example.com",amount:Math.round(Number(w)*100),currency:p.toUpperCase(),callback:function(y){f&&(f.style.display=""),c("paystack",{planId:r,billingCycle:d,couponCode:h,payment_id:y.reference})},onClose:function(){f&&(f.style.display=""),t()}}).openIframe()},document.head.appendChild(i),()=>{document.head.contains(i)&&document.head.removeChild(i)}},[u,r,d,h,p]),u?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{children:s("Redirecting to Paystack...")}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[s("Amount"),": ",(n=window.appSettings)!=null&&n.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)]})]}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Paystack not configured")})}function ia({planId:r,planPrice:w,couponCode:h,billingCycle:d,flutterwaveKey:u,currency:p,onSuccess:v,onCancel:t}){const{t:s}=A(),o=g.useRef(!1),{processPayment:c}=de({onSuccess:v,onError:n=>k.error(n)});return g.useEffect(()=>{if(!u||o.current)return;const n=document.createElement("script");return n.src="https://checkout.flutterwave.com/v3.js",n.async=!0,n.onload=()=>{o.current=!0,window.FlutterwaveCheckout({public_key:u,tx_ref:"plan_".concat(r,"_").concat(Date.now()),amount:w,currency:p.toUpperCase(),payment_options:"card,mobilemoney,ussd",customer:{email:"user@example.com",phone_number:"",name:"Customer"},customizations:{title:"Plan Subscription",description:"Payment for subscription plan",logo:""},callback:function(i){i.status==="successful"?c("flutterwave",{planId:r,billingCycle:d,couponCode:h,payment_id:i.transaction_id,tx_ref:i.tx_ref}):(k.error(s("Payment was not completed")),t())},onclose:function(){t()}})},document.head.appendChild(n),()=>{document.head.contains(n)&&document.head.removeChild(n)}},[u,r,d,h,p]),u?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Flutterwave...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Flutterwave not configured")})}function ca({planId:r,couponCode:w,billingCycle:h,planPrice:d,paytabsClientKey:u,currency:p,onSuccess:v,onCancel:t}){var i,f;const{t:s}=A(),[o,c]=g.useState(!1),n=async()=>{var j,y,l,x,b,N;c(!0);try{const m={plan_id:r,billing_cycle:h,coupon_code:w||null,payment_id:"pt_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),transaction_id:"txn_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),_token:(j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content")},P=await re.post(route("paytabs.payment"),m,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e4});if(P.data.success&&P.data.redirect_url)k.success(s("Redirecting to PayTabs payment page...")),setTimeout(()=>{window.location.href=P.data.redirect_url},1e3);else throw new Error(P.data.message||"Payment initialization failed")}catch(m){console.error("PayTabs payment error:",m);let P=s("Payment failed. Please try again.");((y=m.response)==null?void 0:y.status)===400?P=((l=m.response.data)==null?void 0:l.message)||s("Invalid payment request. Please check your details."):((x=m.response)==null?void 0:x.status)===500?P=s("Server error. Please try again later."):(N=(b=m.response)==null?void 0:b.data)!=null&&N.message?P=m.response.data.message:m.message?P=m.message:m.code==="ECONNABORTED"&&(P=s("Request timeout. Please try again.")),k.error(P),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTabs Payment")]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:s("Secure Payment with PayTabs")}),e.jsx("p",{className:"text-sm text-blue-700",children:s("You will be redirected to PayTabs secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Plan"),":"]}),e.jsx("span",{className:"text-sm text-gray-900",children:s("Subscription Plan")})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Billing Cycle"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:h})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:(i=window.appSettings)!=null&&i.formatCurrency?window.appSettings.formatCurrency(d,{showSymbol:!0}):"".concat(p," ").concat(d)})]}),w&&e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t",children:[e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[s("Coupon Applied"),":"]}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:w})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:t,className:"flex-1",disabled:o,children:s("Cancel")}),e.jsx(_,{type:"button",onClick:n,disabled:o,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay {{amount}}",{amount:(f=window.appSettings)!=null&&f.formatCurrency?window.appSettings.formatCurrency(d,{showSymbol:!0}):"".concat(p," ").concat(d)})]})})]})]})})]})}function oa({planId:r,couponCode:w,billingCycle:h,planPrice:d,skrillMerchantId:u,currency:p,onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(""),f=async y=>{if(y.preventDefault(),!n){k.error(s("Please enter your email address"));return}c(!0);try{const l={plan_id:r,billing_cycle:h,coupon_code:w||null,payment_id:"skrill_".concat(Date.now()),transaction_id:"txn_".concat(Date.now()),email:n};Z.post(route("skrill.payment"),l,{onSuccess:()=>{k.success(s("Payment successful!")),v()},onError:x=>{console.error("Skrill payment error:",x),k.error(s("Payment failed. Please try again."))},onFinish:()=>{c(!1)}})}catch(l){console.error("Skrill payment error:",l),k.error(s("Payment failed. Please try again.")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-5 w-5"}),s("Skrill Payment")]})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:s("Email Address")}),e.jsx(W,{id:"email",type:"email",value:n,onChange:y=>i(y.target.value),placeholder:s("Enter your email address"),required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Skrill to complete the payment")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:o,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(d,{showSymbol:!0}):"".concat(p," ").concat(d)})})]})]})})]})}function da({planId:r,couponCode:w,billingCycle:h,planPrice:d,currency:u,onSuccess:p,onCancel:v}){var n;const{t}=A(),[s,o]=g.useState(!1),c=i=>{var l;i.preventDefault(),o(!0);const f=document.createElement("form");f.method="POST",f.action=route("coingate.payment");const j=(l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content");if(j){const x=document.createElement("input");x.type="hidden",x.name="_token",x.value=j,f.appendChild(x)}Object.entries({plan_id:r,billing_cycle:h,coupon_code:w||"",crypto_currency:"BTC"}).forEach(([x,b])=>{const N=document.createElement("input");N.type="hidden",N.name=x,N.value=String(b),f.appendChild(N)}),document.body.appendChild(f),f.submit()};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5 text-orange-500"}),t("CoinGate Cryptocurrency Payment")]})}),e.jsxs(S,{children:[e.jsxs(R,{className:"mb-4",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx(B,{children:t("You will be redirected to CoinGate to complete your cryptocurrency payment securely.")})]}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:t("Plan")}),e.jsxs("span",{className:"text-sm",children:[t(h)," ",t("billing")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:t("Amount")}),e.jsx("span",{className:"text-lg font-bold",children:((n=window.appSettings)==null?void 0:n.formatCurrency(d,{showSymbol:!0}))||"₦".concat(d.toFixed(2))})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t("Final cryptocurrency amount will be calculated at checkout based on current exchange rates")})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(je,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:t("Payment Process:")}),e.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[e.jsx("li",{children:t('Click "Pay with Crypto" to proceed to CoinGate')}),e.jsx("li",{children:t("Complete payment using your selected cryptocurrency")}),e.jsx("li",{children:t("You will be redirected back after payment completion")})]})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:v,className:"flex-1",disabled:s,children:t("Cancel")}),e.jsx(_,{type:"submit",disabled:s,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:s?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),t("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),t("Pay with Crypto")]})})]})]})]})]})}function ma({planId:r,couponCode:w,billingCycle:h,planPrice:d,payfastMerchantId:u,currency:p,onSuccess:v,onCancel:t}){var x,b,N;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState({firstName:"",lastName:"",email:""}),[f,j]=g.useState({}),y=()=>{const m={};return n.firstName.trim()||(m.firstName=s("First name is required")),n.lastName.trim()||(m.lastName=s("Last name is required")),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(m.email=s("Please enter a valid email address")):m.email=s("Email is required"),m},l=async m=>{var M;m.preventDefault();const P=y();if(j(P),Object.keys(P).length>0){k.error(s("Please fix the errors below"));return}if(d<5){k.error(s("Minimum payment amount is R5.00"));return}c(!0);try{const I=await(await fetch(route("payfast.payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((M=document.querySelector('meta[name="csrf-token"]'))==null?void 0:M.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:h,coupon_code:w,customer_details:n})})).json();if(I.success){const X=document.createElement("form");X.method="POST",X.action=I.action,X.innerHTML=I.inputs,document.body.appendChild(X),X.submit()}else k.error(I.error||s("Payment failed")),c(!1)}catch(z){console.error("PayFast payment error:",z),k.error(s("Payment failed. Please try again.")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Payfast Payment")]})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:r}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:h}),e.jsx("input",{type:"hidden",name:"coupon_code",value:w||""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"firstName",children:s("First Name")}),e.jsx(W,{id:"firstName",name:"customer_details[firstName]",value:n.firstName,onChange:m=>{i(P=>({...P,firstName:m.target.value})),f.firstName&&j(P=>({...P,firstName:""}))},placeholder:s("Enter first name"),className:f.firstName?"border-red-500":"",required:!0}),f.firstName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(W,{id:"lastName",name:"customer_details[lastName]",value:n.lastName,onChange:m=>{i(P=>({...P,lastName:m.target.value})),f.lastName&&j(P=>({...P,lastName:""}))},placeholder:s("Enter last name"),className:f.lastName?"border-red-500":"",required:!0}),f.lastName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.lastName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:s("Email Address")}),e.jsx(W,{id:"email",name:"customer_details[email]",type:"email",value:n.email,onChange:m=>{i(P=>({...P,email:m.target.value})),f.email&&j(P=>({...P,email:""}))},placeholder:s("Enter email address"),className:f.email?"border-red-500":"",required:!0}),f.email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.email}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Payfast to complete the payment")})]}),d<5&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("PayFast requires a minimum payment of R5.00. Current amount: {{currency}} {{amount}}",{currency:p,amount:d})})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:s("Amount")}),e.jsx("span",{className:"text-sm font-bold",children:((b=window.appSettings)==null?void 0:b.formatCurrency(d,{showSymbol:!0}))||"₦".concat(d.toFixed(2))})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Secure payment processing via PayFast")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:o||d<5,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:((N=window.appSettings)==null?void 0:N.formatCurrency(d,{showSymbol:!0}))||"₦".concat(d.toFixed(2))})})]})]})})]})}function ua({planId:r,couponCode:w,billingCycle:h,planPrice:d,toyyibpayCategoryCode:u,currency:p,onSuccess:v,onCancel:t}){var b;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState({name:"",email:"",phone:""}),[f,j]=g.useState({}),y=()=>{const N={};return n.name.trim()||(N.name=s("Full name is required")),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(N.email=s("Please enter a valid email address")):N.email=s("Email address is required"),n.phone.trim()?n.phone.length<10&&(N.phone=s("Please enter a valid Malaysian phone number")):N.phone=s("Phone number is required"),j(N),Object.keys(N).length===0},l=async N=>{var m;if(N.preventDefault(),!y()){k.error(s("Please fix the form errors"));return}c(!0),j({});try{const P={plan_id:r,billing_cycle:h,coupon_code:w||"",billName:"Plan Subscription - ".concat(r),billDescription:"".concat(h," subscription for ").concat(n.name),billAmount:d,billTo:n.name.trim(),billEmail:n.email.trim(),billPhone:n.phone.trim()},M=document.createElement("form");M.method="POST",M.action=route("toyyibpay.payment");const z=document.createElement("input");z.type="hidden",z.name="_token",z.value=((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.getAttribute("content"))||"",M.appendChild(z),Object.entries(P).forEach(([I,X])=>{const K=document.createElement("input");K.type="hidden",K.name=I,K.value=X.toString(),M.appendChild(K)}),document.body.appendChild(M),M.submit()}catch(P){console.error("ToyyibPay payment error:",P),k.error(s("Payment failed. Please try again.")),c(!1)}},x=N=>{const m=N.replace(/[^0-9]/g,"");return m.startsWith("60")?m.slice(0,12):m.startsWith("0")?"60"+m.slice(1,11):"60"+m.slice(0,10)};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("toyyibPay Payment")]})}),e.jsxs(S,{children:[e.jsxs(R,{className:"mb-4",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to toyyibPay to complete your payment securely via FPX (Malaysian Online Banking)")})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(W,{id:"name",value:n.name,onChange:N=>{i(m=>({...m,name:N.target.value})),f.name&&j(m=>({...m,name:""}))},placeholder:s("Enter your full name"),className:f.name?"border-red-500":"",required:!0}),f.name&&e.jsx("p",{className:"text-sm text-red-500",children:f.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(W,{id:"email",type:"email",value:n.email,onChange:N=>{i(m=>({...m,email:N.target.value})),f.email&&j(m=>({...m,email:""}))},placeholder:s("Enter your email address"),className:f.email?"border-red-500":"",required:!0}),f.email&&e.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(W,{id:"phone",value:n.phone,onChange:N=>{const m=x(N.target.value);i(P=>({...P,phone:m})),f.phone&&j(P=>({...P,phone:""}))},placeholder:"60123456789",className:f.phone?"border-red-500":"",maxLength:12,required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Malaysian format: 60123456789 (numbers only)")}),f.phone&&e.jsx("p",{className:"text-sm text-red-500",children:f.phone})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:s("Payment Method: FPX (Online Banking)")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Secure payment via Malaysian banks including Maybank, CIMB, Public Bank, RHB, and more")})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s("Total Amount"),":"]}),e.jsx("span",{className:"text-lg font-bold",children:(b=window.appSettings)!=null&&b.formatCurrency?window.appSettings.formatCurrency(d,{showSymbol:!0}):"".concat(p," ").concat(d)})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{type:"button",variant:"outline",onClick:t,className:"flex-1",disabled:o,children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:o,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay Now")]})})]})]})]})]})]})}function ha({planId:r,couponCode:w,billingCycle:h,planPrice:d,paytrMerchantId:u,currency:p,onSuccess:v,onCancel:t}){var N;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(!1),[f,j]=g.useState(""),y=g.useRef(null),[l,x]=g.useState({name:"",email:"",phone:"",address:""});g.useEffect(()=>{const m=P=>{P.origin==="https://www.paytr.com"&&(P.data==="success"?(i(!1),v()):P.data==="fail"&&(i(!1),k.error(s("Payment failed"))))};return window.addEventListener("message",m),()=>window.removeEventListener("message",m)},[v,s]);const b=async m=>{var P,M;if(m.preventDefault(),!l.name||!l.email||!l.phone){k.error(s("Please fill in required customer details"));return}c(!0);try{const z=await re.post(route("paytr.create-token"),{plan_id:r,billing_cycle:h,coupon_code:w,user_name:l.name,user_email:l.email,user_phone:l.phone,user_address:l.address});if(z.data.success)j(z.data.iframe_url),i(!0);else throw new Error(z.data.error||"Token creation failed")}catch(z){console.error("PayTR payment error:",z),k.error(((M=(P=z.response)==null?void 0:P.data)==null?void 0:M.error)||s("Payment failed. Please try again."))}finally{c(!1)}};return n?e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTR Payment")]}),e.jsx(_,{variant:"outline",size:"sm",onClick:()=>i(!1),children:s("Back")})]})}),e.jsxs(S,{children:[e.jsx("div",{className:"w-full h-[600px] border rounded-lg overflow-hidden",children:e.jsx("iframe",{ref:y,src:f,width:"100%",height:"100%",frameBorder:"0",scrolling:"auto",title:"PayTR Payment"})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:s("Complete your payment in the secure PayTR iframe above")})]})]}):e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTR Payment")]})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(W,{id:"name",value:l.name,onChange:m=>x(P=>({...P,name:m.target.value})),placeholder:s("Enter full name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(W,{id:"email",type:"email",value:l.email,onChange:m=>x(P=>({...P,email:m.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(W,{id:"phone",value:l.phone,onChange:m=>x(P=>({...P,phone:m.target.value})),placeholder:"+905xxxxxxxxx",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Turkish phone number format: +905xxxxxxxxx")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"address",children:s("Address")}),e.jsx(W,{id:"address",value:l.address,onChange:m=>x(P=>({...P,address:m.target.value})),placeholder:s("Enter address (optional)")})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:s("Secure Payment via PayTR")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Credit Card, Debit Card - Real-time payment processing")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:o,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:(N=window.appSettings)!=null&&N.formatCurrency?window.appSettings.formatCurrency(d,{showSymbol:!0}):"".concat(p," ").concat(d)})})]})]})})]})}function xa({planId:r,couponCode:w,billingCycle:h,planPrice:d,mollieApiKey:u,currency:p,onSuccess:v,onCancel:t}){var j,y;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState({firstName:"",lastName:"",email:""}),f=l=>{if(!n.firstName||!n.lastName||!n.email){l.preventDefault(),alert(s("Please fill in all customer details"));return}c(!0)};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Mollie Payment")]})}),e.jsx(S,{children:e.jsxs("form",{action:route("mollie.payment"),method:"POST",onSubmit:f,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:r}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:h}),e.jsx("input",{type:"hidden",name:"coupon_code",value:w||""}),e.jsx("input",{type:"hidden",name:"payment_id",value:"mollie_".concat(Date.now())}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"firstName",children:s("First Name")}),e.jsx(W,{id:"firstName",name:"customer_details[firstName]",value:n.firstName,onChange:l=>i(x=>({...x,firstName:l.target.value})),placeholder:s("Enter first name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(W,{id:"lastName",name:"customer_details[lastName]",value:n.lastName,onChange:l=>i(x=>({...x,lastName:l.target.value})),placeholder:s("Enter last name"),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:s("Email Address")}),e.jsx(W,{id:"email",name:"customer_details[email]",type:"email",value:n.email,onChange:l=>i(x=>({...x,email:l.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:o,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:(y=window.appSettings)!=null&&y.formatCurrency?window.appSettings.formatCurrency(d,{showSymbol:!0}):"".concat(p," ").concat(d)})})]})]})})]})}function pa({planId:r,planPrice:w,couponCode:h,billingCycle:d,cashfreeAppId:u,mode:p="sandbox",currency:v,onSuccess:t,onCancel:s}){const{t:o}=A();g.useEffect(()=>{if(window&&window.Cashfree)return;const n=document.createElement("script");return n.src="https://sdk.cashfree.com/js/v3/cashfree.js",n.async=!0,n.onerror=()=>{k.error(o("Failed to load Cashfree SDK. Please try again."))},document.body.appendChild(n),()=>{document.body.contains(n)&&document.body.removeChild(n)}},[p]);const c=async()=>{var n,i,f;try{const j=await re.post(route("cashfree.create-session"),{plan_id:r,billing_cycle:d,coupon_code:h,_token:(n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content")});if(j.data.error){k.error(j.data.error);return}const{payment_session_id:y,order_id:l,amount:x,mode:b}=j.data;if(!y||!l){k.error(o("Invalid response from server"));return}if(!b){k.error(o("Payment mode not configured"));return}if(!window.Cashfree){k.error(o("Cashfree SDK not loaded"));return}const N=b==="production"?"PROD":"SANDBOX";try{const M=window.Cashfree({mode:N})}catch(M){k.error("Failed to initialize Cashfree: "+M.message);return}const m=window.Cashfree({mode:N}),P={paymentSessionId:y,returnUrl:window.appSettings.baseUrl+route("dashboard"),redirectTarget:"_modal",mode:N,style:{zIndex:99999}};m.checkout(P).then(M=>{var z,I;if(M.error){k.error(M.error.message||o("Payment failed"));return}M.paymentDetails?re.post(route("cashfree.verify-payment"),{order_id:l,cf_payment_id:(z=M.paymentDetails)==null?void 0:z.paymentId,plan_id:r,billing_cycle:d,coupon_code:h,_token:(I=document.querySelector('meta[name="csrf-token"]'))==null?void 0:I.getAttribute("content")}).then(X=>{t()}).catch(X=>{var Q,J;const K=((J=(Q=X.response)==null?void 0:Q.data)==null?void 0:J.error)||o("Payment verification failed");k.error(K)}):k.error(o("Payment status unclear"))}).catch(M=>{k.error(M.message||o("Payment initialization failed"))})}catch(j){const y=((f=(i=j.response)==null?void 0:i.data)==null?void 0:f.error)||o("Failed to initialize payment");k.error(y)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:o("You will be redirected to Cashfree to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:s,className:"flex-1",children:o("Cancel")}),e.jsx(_,{onClick:c,className:"flex-1",children:o("Pay with Cashfree")})]})]})}function fa({planId:r,planPrice:w,couponCode:h,billingCycle:d,iyzipayPublicKey:u,currency:p="USD",onSuccess:v,onCancel:t}){var l;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),[f,j]=g.useState(null),y=async()=>{var x;if(!u){i(s("Iyzipay configuration is missing"));return}c(!0),i(null);try{const N=await(await fetch(route("iyzipay.create-form"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(N.success)window.location.href=N.redirect_url;else throw new Error(N.error||s("Failed to create payment form"))}catch(b){console.error("Iyzipay payment error:",b),i(b instanceof Error?b.message:s("Payment initialization failed"))}finally{c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Iyzipay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(l=window.appSettings)!=null&&l.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),o?e.jsxs("div",{className:"text-center py-8",children:[e.jsx($,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:s("Redirecting to payment page...")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to Iyzipay secure payment page to complete your payment.")})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:y,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Iyzipay")]})})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Iyzipay - Secure payment processing")})]})]})}function ja({planId:r,planPrice:w,couponCode:h,billingCycle:d,benefitPublicKey:u,currency:p="BHD",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("Benefit payment configuration is missing"));return}c(!0),i(null);try{const x=await(await fetch(route("benefit.create-session"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Failed to create payment session"))}catch(l){console.error("Benefit payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Benefit Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to Benefit to complete your payment securely. Benefit is the leading payment gateway in Bahrain.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Benefit Debit Cards")]}),e.jsxs("li",{children:["• ",s("Visa Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Mastercard Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Benefit Pay Mobile Wallet")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Benefit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Benefit - Bahrain's trusted payment gateway")})]})]})}function ya({planId:r,planPrice:w,couponCode:h,billingCycle:d,ozowSiteKey:u,currency:p="ZAR",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("Ozow not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("ozow.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Ozow payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Ozow Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to Ozow to complete your payment securely. Ozow is South Africa's trusted instant payment gateway.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Banks")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Standard Bank")]}),e.jsxs("li",{children:["• ",s("FNB")]}),e.jsxs("li",{children:["• ",s("ABSA")]}),e.jsxs("li",{children:["• ",s("Nedbank")]}),e.jsxs("li",{children:["• ",s("Capitec Bank")]}),e.jsxs("li",{children:["• ",s("And more South African banks")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Ozow")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Ozow - South Africa's instant payment gateway")})]})]})}function ba({planId:r,planPrice:w,couponCode:h,billingCycle:d,easebuzzMerchantKey:u,currency:p="INR",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("Easebuzz not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("easebuzz.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Easebuzz payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Easebuzz Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to Easebuzz to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Net Banking")]}),e.jsxs("li",{children:["• ",s("UPI")]}),e.jsxs("li",{children:["• ",s("Wallets")]}),e.jsxs("li",{children:["• ",s("EMI Options")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Easebuzz")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Easebuzz - Secure payment processing")})]})]})}function Na({planId:r,planPrice:w,couponCode:h,billingCycle:d,khaltiPublicKey:u,currency:p="NPR",onSuccess:v,onCancel:t}){var x;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var b;if(!u){i(s("Khalti not configured"));return}c(!0),i(null);try{const m=await(await fetch(route("khalti.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((b=document.querySelector('meta[name="csrf-token"]'))==null?void 0:b.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(m.success)j(m);else throw new Error(m.error||s("Payment creation failed"))}catch(N){console.error("Khalti payment error:",N),i(N instanceof Error?N.message:s("Payment initialization failed")),c(!1)}},j=b=>{if(window.KhaltiCheckout)y(b);else{const N=document.createElement("script");N.src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js",N.onload=()=>{y(b)},document.head.appendChild(N)}},y=b=>{const N={publicKey:b.public_key,productIdentity:b.product_identity,productName:b.product_name,productUrl:b.product_url,paymentPreference:["KHALTI","EBANKING","MOBILE_BANKING","CONNECT_IPS","SCT"],eventHandler:{onSuccess(P){l(P.token,P.amount)},onError(P){console.error("Khalti payment error:",P),i(s("Payment failed")),c(!1)},onClose(){c(!1)}}};new window.KhaltiCheckout(N).show({amount:b.amount})},l=(b,N)=>{Z.post(route("khalti.payment"),{plan_id:r,billing_cycle:d,coupon_code:h,token:b,amount:N/100},{onSuccess:()=>{k.success(s("Payment successful")),v()},onError:m=>{console.error("Payment processing error:",m),i(Object.values(m).flat().join(", ")),c(!1)}})};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Khalti Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(x=window.appSettings)!=null&&x.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("Khalti is Nepal's most popular digital wallet and payment gateway.")})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Khalti Wallet")]}),e.jsxs("li",{children:["• ",s("eBanking")]}),e.jsxs("li",{children:["• ",s("Mobile Banking")]}),e.jsxs("li",{children:["• ",s("Connect IPS")]}),e.jsxs("li",{children:["• ",s("SCT Cards")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Khalti")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Khalti - Nepal's digital wallet")})]})]})}function wa({planId:r,planPrice:w,couponCode:h,billingCycle:d,authorizenetMerchantId:u,currency:p="USD",isSandbox:v=!1,supportedCountries:t=["US","CA","GB","AU"],supportedCurrencies:s=["USD","CAD","CHF","DKK","EUR","GBP","NOK","PLN","SEK","AUD","NZD"],onSuccess:o,onCancel:c}){var C;const{t:n}=A(),[i,f]=g.useState(!1),[j,y]=g.useState(null),[l,x]=g.useState({}),[b,N]=g.useState({card_number:"",expiry_month:"",expiry_year:"",cvv:"",cardholder_name:""}),m=T=>{const U=T.replace(/\s/g,"");return/^[0-9]{13,19}$/.test(U)},P=T=>/^(0[1-9]|1[0-2])$/.test(T),M=T=>{if(!/^[0-9]{2}$/.test(T))return!1;const U=new Date().getFullYear()%100,G=parseInt(T);return G>=U&&G<=U+20},z=T=>/^[0-9]{3,4}$/.test(T),I=T=>T.trim().length>=2&&T.trim().length<=50,X=T=>{const U=T.replace(/\s/g,""),G=U.match(/.{1,4}/g);return G?G.join(" "):U},K=(T,U)=>{let G=U;T==="card_number"?G=X(U.replace(/\s/g,"").slice(0,19)):T==="expiry_month"?G=U.replace(/\D/g,"").slice(0,2):T==="expiry_year"?G=U.replace(/\D/g,"").slice(0,2):T==="cvv"&&(G=U.replace(/\D/g,"").slice(0,4)),N(se=>({...se,[T]:G})),l[T]&&x(se=>({...se,[T]:""}))},Q=()=>{const T={};return m(b.card_number)||(T.card_number=n("Please enter a valid card number (13-19 digits)")),P(b.expiry_month)||(T.expiry_month=n("Please enter a valid month (01-12)")),M(b.expiry_year)||(T.expiry_year=n("Please enter a valid year (current year or later)")),z(b.cvv)||(T.cvv=n("Please enter a valid CVV (3-4 digits)")),I(b.cardholder_name)||(T.cardholder_name=n("Please enter a valid cardholder name (2-50 characters)")),x(T),Object.keys(T).length===0},J=async()=>{if(!u){y(n("AuthorizeNet not configured"));return}if(!Q()){y(n("Please correct the errors below"));return}f(!0),y(null),Z.post(route("authorizenet.payment"),{plan_id:r,billing_cycle:d,coupon_code:h,...b},{onSuccess:()=>{k.success(n("Payment successful")),o()},onError:T=>{console.error("Payment processing error:",T),y(Object.values(T).flat().join(", ")),f(!1)}})};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),n("AuthorizeNet Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[j&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:j})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:n("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:((C=window.appSettings)==null?void 0:C.formatCurrency(w,{showSymbol:!0}))||"₦".concat(w.toFixed(2))})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[n("Billing Cycle"),": ",n(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[n("Coupon Applied"),": ",h]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"cardholder_name",children:n("Cardholder Name")}),e.jsx(W,{id:"cardholder_name",value:b.cardholder_name,onChange:T=>K("cardholder_name",T.target.value),placeholder:n("Enter cardholder name"),className:l.cardholder_name?"border-red-500":""}),l.cardholder_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.cardholder_name})]}),e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"card_number",children:n("Card Number")}),e.jsx(W,{id:"card_number",value:b.card_number,onChange:T=>K("card_number",T.target.value),placeholder:"1234 5678 9012 3456",maxLength:23,className:l.card_number?"border-red-500":""}),l.card_number&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.card_number})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"expiry_month",children:n("Month")}),e.jsx(W,{id:"expiry_month",value:b.expiry_month,onChange:T=>K("expiry_month",T.target.value),placeholder:"MM",maxLength:2,className:l.expiry_month?"border-red-500":""}),l.expiry_month&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.expiry_month})]}),e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"expiry_year",children:n("Year")}),e.jsx(W,{id:"expiry_year",value:b.expiry_year,onChange:T=>K("expiry_year",T.target.value),placeholder:"YY",maxLength:2,className:l.expiry_year?"border-red-500":""}),l.expiry_year&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.expiry_year})]}),e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"cvv",children:n("CVV")}),e.jsx(W,{id:"cvv",value:b.cvv,onChange:T=>K("cvv",T.target.value),placeholder:"123",maxLength:4,className:l.cvv?"border-red-500":""}),l.cvv&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.cvv})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:c,disabled:i,className:"flex-1",children:n("Cancel")}),e.jsx(_,{onClick:J,disabled:i||!u,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),n("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),n("Pay with AuthorizeNet")]})})]}),e.jsxs("div",{className:"space-y-2",children:[v&&e.jsxs(R,{children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx(B,{children:n("Test Mode: This is a sandbox transaction. No real money will be charged.")})]}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ne,{className:"h-3 w-3 text-green-500"}),n("Powered by AuthorizeNet - Secure payment processing")]}),e.jsxs("div",{children:[n("Supported currencies"),": ",s.join(", ")]}),e.jsxs("div",{children:[n("Supported countries"),": ",t.join(", ")]})]})]})]})]})}function ga({planId:r,planPrice:w,couponCode:h,billingCycle:d,fedapayPublicKey:u,currency:p="XOF",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("FedaPay not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("fedapay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("FedaPay payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("FedaPay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to FedaPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Mobile Money (MTN, Moov, Orange)")]}),e.jsxs("li",{children:["• ",s("Visa/Mastercard")]}),e.jsxs("li",{children:["• ",s("Bank Transfers")]}),e.jsxs("li",{children:["• ",s("Digital Wallets")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with FedaPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by FedaPay - West Africa's payment gateway")})]})]})}function va({planId:r,planPrice:w,couponCode:h,billingCycle:d,payhereMerchantId:u,currency:p="LKR",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("PayHere not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("payhere.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success){const b=document.createElement("form");b.method="POST",b.action=x.payment_url,Object.keys(x.payment_data).forEach(N=>{const m=document.createElement("input");m.type="hidden",m.name=N,m.value=x.payment_data[N],b.appendChild(m)}),document.body.appendChild(b),b.submit()}else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("PayHere payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayHere Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to PayHere to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Visa/Mastercard")]}),e.jsxs("li",{children:["• ",s("Lanka QR")]}),e.jsxs("li",{children:["• ",s("eZ Cash")]}),e.jsxs("li",{children:["• ",s("mCash")]}),e.jsxs("li",{children:["• ",s("Bank Transfers")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with PayHere")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by PayHere - Sri Lanka's payment gateway")})]})]})}function _a({planId:r,planPrice:w,couponCode:h,billingCycle:d,cinetpaySiteId:u,currency:p="XOF",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("CinetPay not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("cinetpay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success){const b=document.createElement("form");b.method="POST",b.action=x.payment_url,Object.keys(x.payment_data).forEach(N=>{const m=document.createElement("input");m.type="hidden",m.name=N,m.value=x.payment_data[N],b.appendChild(m)}),document.body.appendChild(b),b.submit()}else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("CinetPay payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("CinetPay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to CinetPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Mobile Money (Orange, MTN, Moov)")]}),e.jsxs("li",{children:["• ",s("Visa/Mastercard")]}),e.jsxs("li",{children:["• ",s("Bank Transfers")]}),e.jsxs("li",{children:["• ",s("Digital Wallets")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with CinetPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by CinetPay - African payment gateway")})]})]})}function Pa({planId:r,planPrice:w,couponCode:h,billingCycle:d,paiementMerchantId:u,currency:p="XOF",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("Paiement Pro not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("paiement.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success){const b=document.createElement("form");b.method="POST",b.action=x.payment_url,Object.keys(x.payment_data).forEach(N=>{const m=document.createElement("input");m.type="hidden",m.name=N,m.value=x.payment_data[N],b.appendChild(m)}),document.body.appendChild(b),b.submit()}else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Paiement Pro payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Paiement Pro Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Mobile Money")]}),e.jsxs("li",{children:["• ",s("Bank Cards")]}),e.jsxs("li",{children:["• ",s("Bank Transfers")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Paiement Pro")]})})]})]})]})}function Ca({planId:r,planPrice:w,couponCode:h,billingCycle:d,nepalstePublicKey:u,currency:p="NPR",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("Nepalste not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("nepalste.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success){const b=document.createElement("form");b.method="POST",b.action=x.payment_url,Object.keys(x.payment_data).forEach(N=>{const m=document.createElement("input");m.type="hidden",m.name=N,m.value=typeof x.payment_data[N]=="object"?JSON.stringify(x.payment_data[N]):x.payment_data[N],b.appendChild(m)}),document.body.appendChild(b),b.submit()}else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Nepalste payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Nepalste Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("eSewa")]}),e.jsxs("li",{children:["• ",s("Khalti")]}),e.jsxs("li",{children:["• ",s("IME Pay")]}),e.jsxs("li",{children:["• ",s("Bank Transfers")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Nepalste")]})})]})]})]})}function ka({planId:r,planPrice:w,couponCode:h,billingCycle:d,yookassaShopId:u,currency:p="RUB",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("YooKassa not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("yookassa.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("YooKassa payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("YooKassa Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Bank Cards")]}),e.jsxs("li",{children:["• ",s("YooMoney")]}),e.jsxs("li",{children:["• ",s("Qiwi")]}),e.jsxs("li",{children:["• ",s("Sberbank Online")]}),e.jsxs("li",{children:["• ",s("Alfa-Click")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with YooKassa")]})})]})]})]})}function Ea({planId:r,planPrice:w,couponCode:h,billingCycle:d,aamarpayStoreId:u,currency:p,onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("Aamarpay not configured"));return}c(!0),i(null);try{const l=document.createElement("form");l.method="POST",l.action=route("aamarpay.create-payment");const x=document.createElement("input");x.type="hidden",x.name="_token",x.value=((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||"",l.appendChild(x);const b=document.createElement("input");b.type="hidden",b.name="plan_id",b.value=r.toString(),l.appendChild(b);const N=document.createElement("input");if(N.type="hidden",N.name="billing_cycle",N.value=d,l.appendChild(N),h){const m=document.createElement("input");m.type="hidden",m.name="coupon_code",m.value=h,l.appendChild(m)}document.body.appendChild(l),l.submit()}catch(l){console.error("Aamarpay payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Aamarpay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("bKash")]}),e.jsxs("li",{children:["• ",s("Nagad")]}),e.jsxs("li",{children:["• ",s("Rocket")]}),e.jsxs("li",{children:["• ",s("Bank Cards")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Aamarpay")]})})]})]})]})}function Fa({planId:r,planPrice:w,couponCode:h,billingCycle:d,midtransSecretKey:u,currency:p="IDR",onSuccess:v,onCancel:t}){var x;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var b;if(!u){i(s("Midtrans not configured"));return}c(!0),i(null);try{const m=await(await fetch(route("midtrans.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((b=document.querySelector('meta[name="csrf-token"]'))==null?void 0:b.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(m.success)j(m.snap_token,m.order_id);else throw new Error(m.error||s("Payment creation failed"))}catch(N){console.error("Midtrans payment error:",N),i(N instanceof Error?N.message:s("Payment initialization failed")),c(!1)}},j=(b,N)=>{if(window.snap)y(b,N);else{const m=document.createElement("script");m.src="https://app.sandbox.midtrans.com/snap/snap.js",m.setAttribute("data-client-key",u),m.onload=()=>{y(b,N)},m.onerror=()=>{i(s("Failed to load Midtrans script")),c(!1)},document.head.appendChild(m)}},y=(b,N)=>{window.snap.pay(b,{onSuccess:m=>{l(m,N)},onPending:m=>{c(!1)},onError:m=>{i(s("Payment failed")),c(!1)},onClose:()=>{c(!1)}})},l=(b,N)=>{Z.post(route("midtrans.payment"),{plan_id:r,billing_cycle:d,coupon_code:h,transaction_status:b.transaction_status,order_id:N},{onSuccess:()=>{v()},onError:m=>{console.error("Payment processing error:",m),i(Object.values(m).flat().join(", ")),c(!1)}})};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Midtrans Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(x=window.appSettings)!=null&&x.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Bank Transfer")]}),e.jsxs("li",{children:["• ",s("E-Wallets (GoPay, OVO, DANA)")]}),e.jsxs("li",{children:["• ",s("Convenience Stores")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Midtrans")]})})]})]})]})}function Ta({planId:r,planPrice:w,couponCode:h,billingCycle:d,paymentwallPublicKey:u,currency:p,onSuccess:v,onCancel:t}){var N,m;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),[f,j]=g.useState(!1),[y,l]=g.useState(null),x=g.useRef(null);g.useEffect(()=>{(()=>{if(window.Brick){j(!0);return}const M=document.createElement("script");M.src="https://api.paymentwall.com/brick/build/brick-default.1.5.0.min.js",M.async=!0,M.onload=()=>{j(!0)},M.onerror=()=>{i(s("Failed to load PaymentWall payment form"))},document.head.appendChild(M)})()},[s]),g.useEffect(()=>{f&&u&&!y&&b()},[f,u,y]);const b=async()=>{var P;try{const z=await(await fetch(route("paymentwall.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((P=document.querySelector('meta[name="csrf-token"]'))==null?void 0:P.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(z.success&&z.brick_config){const I=z.brick_config,X=new window.Brick({public_key:I.public_key,amount:I.amount,currency:I.currency,container:"paymentwall-form-container",action:route("paymentwall.process"),form:{merchant:"PaymentWall",product:I.plan_name,pay_button:s("Pay Now"),show_zip:!0,show_cardholder:!0}});X.showPaymentForm(K=>{v()},K=>{console.error("Payment error:",K),K&&K.length>0?i(K[0].message||s("Payment failed")):i(s("Payment failed")),c(!1)}),l(X)}else throw new Error(z.error||s("Failed to initialize payment form"))}catch(M){console.error("PaymentWall initialization error:",M),i(M instanceof Error?M.message:s("Payment initialization failed"))}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PaymentWall Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(N=window.appSettings)!=null&&N.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{id:"paymentwall-form-container",ref:x,className:"min-h-[300px]",children:!f&&e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx($,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{children:s("Loading payment form...")})]})}),e.jsxs("form",{id:"brick-form",style:{display:"none"},children:[e.jsx("input",{type:"hidden",name:"plan_id",value:r}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:d}),e.jsx("input",{type:"hidden",name:"coupon_code",value:h||""}),e.jsx("input",{type:"hidden",name:"_token",value:((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.getAttribute("content"))||""})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Secure Payment")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("SSL Encrypted & PCI DSS Compliant")]}),e.jsxs("li",{children:["• ",s("Multiple Payment Methods Supported")]}),e.jsxs("li",{children:["• ",s("Powered by PaymentWall")]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),!f&&e.jsxs(_,{disabled:!0,className:"flex-1",children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Loading...")]})]})]})]})}function Ma({planId:r,planPrice:w,couponCode:h,billingCycle:d,sspaySecretKey:u,currency:p="MYR",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("SSPay not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("sspay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success){const b=document.createElement("form");b.method="POST",b.action=x.payment_url,Object.keys(x.payment_data).forEach(N=>{const m=document.createElement("input");m.type="hidden",m.name=N,m.value=x.payment_data[N],b.appendChild(m)}),document.body.appendChild(b),b.submit()}else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("SSPay payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("SSPay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[e.jsx("h4",{className:"font-medium text-teal-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-teal-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Online Banking")]}),e.jsxs("li",{children:["• ",s("Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("E-Wallets")]}),e.jsxs("li",{children:["• ",s("FPX")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with SSPay")]})})]})]})]})}function Aa({planId:r,planPrice:w,couponCode:h,billingCycle:d,tapSecretKey:u,currency:p="USD",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("Tap not configured"));return}c(!0),i(null);try{const l=document.createElement("form");l.method="POST",l.action=route("tap.create-payment");const x=document.createElement("input");x.type="hidden",x.name="_token",x.value=((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||"",l.appendChild(x);const b=document.createElement("input");b.type="hidden",b.name="plan_id",b.value=r.toString(),l.appendChild(b);const N=document.createElement("input");if(N.type="hidden",N.name="billing_cycle",N.value=d,l.appendChild(N),h){const m=document.createElement("input");m.type="hidden",m.name="coupon_code",m.value=h,l.appendChild(m)}document.body.appendChild(l),l.submit()}catch(l){console.error("Tap payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Tap Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to Tap to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Apple Pay")]}),e.jsxs("li",{children:["• ",s("Google Pay")]}),e.jsxs("li",{children:["• ",s("KNET")]}),e.jsxs("li",{children:["• ",s("Benefit Pay")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Tap")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Tap - Secure payment processing")})]})]})}function za({planId:r,planPrice:w,couponCode:h,billingCycle:d,xenditApiKey:u,currency:p="PHP",onSuccess:v,onCancel:t}){var j;const{t:s}=A(),[o,c]=g.useState(!1),[n,i]=g.useState(null),f=async()=>{var y;if(!u){i(s("Xendit not configured"));return}c(!0),i(null);try{const x=await(await fetch(route("xendit.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:d,coupon_code:h})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Xendit payment error:",l),i(l instanceof Error?l.message:s("Payment initialization failed")),c(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Xendit Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[n&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:(j=window.appSettings)!=null&&j.formatCurrency?window.appSettings.formatCurrency(w,{showSymbol:!0}):"".concat(p," ").concat(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(d)]}),h&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",h]})]}),e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:s("You will be redirected to Xendit to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Bank Transfer")]}),e.jsxs("li",{children:["• ",s("E-Wallets (OVO, DANA, LinkAja)")]}),e.jsxs("li",{children:["• ",s("Virtual Accounts")]}),e.jsxs("li",{children:["• ",s("Retail Outlets")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:f,disabled:o||!u,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Xendit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Xendit - Secure payment processing")})]})]})}function Oa({formData:r,onSuccess:w,onError:h,processing:d=!1}){const{t:u}=A(),[p,v]=g.useState(!1),[t,s]=g.useState(!1),o=async c=>{var n,i,f;c.preventDefault(),s(!0);try{const j=typeof route<"u"?route("manual.payment"):"/payments/manual",y={plan_id:r.planId,billing_cycle:r.billingCycle,coupon_code:r.couponCode||null},l=await fetch(j,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))||""},body:JSON.stringify(y)}),x=await l.json();if(l.ok&&x.success)v(!0),k.success(x.message||u("Order created successfully")),w(x);else{const b=x.message||((f=(i=x.errors)==null?void 0:i.subscription)==null?void 0:f[0])||u("Failed to create manual payment order");console.error("Manual payment error:",b,x),h(b)}}catch(j){console.error("Manual payment error:",j),h(u("An error occurred while processing your request"))}finally{s(!1)}};return p?e.jsxs(O,{children:[e.jsxs(L,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Ne,{className:"h-6 w-6 text-green-600"})}),e.jsx(q,{className:"text-green-600",children:u("Order Created Successfully")}),e.jsx(bs,{children:u("Your order has been created and is pending approval")})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:u("Your order is now pending manual approval. You will receive an email confirmation once your payment has been verified and your subscription is activated.")})]}),e.jsx("div",{className:"text-center",children:e.jsx(_,{onClick:()=>window.location.href=route("dashboard"),className:"w-full",children:u("Go to Dashboard")})})]})]}):e.jsxs(O,{children:[e.jsxs(L,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(qs,{className:"h-6 w-6 text-blue-600"})}),e.jsx(q,{children:u("Manual Payment")}),e.jsx(bs,{children:u("Submit your order for manual processing")})]}),e.jsx(S,{children:e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:u("By submitting this order, you agree to pay manually. Your subscription will be activated after payment verification by our team.")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:u("Order Summary")}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[u("Plan"),":"]}),e.jsxs("span",{className:"font-medium",children:["Plan #",r.planId]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[u("Billing Cycle"),":"]}),e.jsx("span",{className:"font-medium capitalize",children:r.billingCycle})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[u("Amount"),":"]}),e.jsx("span",{className:"font-medium",children:window.appSettings.formatCurrency(r.planPrice)})]}),r.couponCode&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[u("Coupon"),":"]}),e.jsx("span",{className:"font-medium",children:r.couponCode})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:u("Next Steps")}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[e.jsx("li",{children:u("Submit your order using the button below")}),e.jsx("li",{children:u("You will receive an email with payment instructions")}),e.jsx("li",{children:u("Complete the payment using the provided details")}),e.jsx("li",{children:u("Your subscription will be activated after verification")})]})]}),e.jsx(_,{type:"submit",className:"w-full",disabled:d||t,onClick:c=>{c.preventDefault(),o(c)},children:u(d||t?"Processing...":"Submit Order")})]})})]})}function Sa({planId:r,planPrice:w,billingCycle:h,couponCode:d,onSuccess:u,onCancel:p}){var N,m,P;const{t:v}=A(),[t,s]=g.useState(!1),[o,c]=g.useState(null),[n,i]=g.useState(""),[f,j]=g.useState(null),[y,l]=g.useState(null),x=(P=(m=(N=window.appSettings)==null?void 0:N.formatCurrency)==null?void 0:m.call(N,w,{showSymbol:!0}))!=null?P:w.toFixed(2),b=async()=>{var M,z,I,X,K,Q;c(null),s(!0);try{const J=await fetch("/api/paynow/create-payment",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((M=document.querySelector('meta[name="csrf-token"]'))==null?void 0:M.getAttribute("content"))||""},credentials:"include",body:JSON.stringify({plan_id:r,amount:w,billing_cycle:h,coupon_code:d||null,email:n||((I=(z=window.appSettings)==null?void 0:z.user)==null?void 0:I.email)||"",description:"".concat(((Q=(K=(X=window.appSettings)==null?void 0:X.plans)==null?void 0:K.find(T=>T.id===r))==null?void 0:Q.name)||"Plan"," - ").concat(h)})}),C=await J.json();if(!J.ok||!C.success)throw new Error((C==null?void 0:C.error)||v("Failed to create Paynow payment"));j(C.payment_link),l(C.reference)}catch(J){c((J==null?void 0:J.message)||v("An unexpected error occurred while creating payment."))}finally{s(!1)}};return e.jsxs(O,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),v("Paynow Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[o&&e.jsxs(R,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(B,{children:o})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v("Click the button below to complete your payment using Paynow. You will be redirected to the Paynow website to complete your payment.")}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:v("Amount")}),e.jsx("span",{className:"text-sm font-semibold",children:x})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[v("Billing cycle"),": ",v(h)]}),d&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[v("Coupon applied"),": ",d]})]}),f?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:v("Click the button below to complete your payment. After payment, please return to this page to confirm your subscription.")}),e.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:e.jsx("img",{src:"https://www.paynow.co.zw/Content/Buttons/Medium_buttons/button_pay-now_medium.png",alt:"Paynow",className:"border-0"})}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[v("Reference"),": ",y]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:p,className:"flex-1",children:v("Cancel")}),e.jsx(_,{onClick:async()=>{var M;try{const z=await fetch("/api/paynow/complete-payment?reference=".concat(y),{method:"GET",headers:{Accept:"application/json","X-CSRF-TOKEN":((M=document.querySelector('meta[name="csrf-token"]'))==null?void 0:M.getAttribute("content"))||""}}),I=await z.json();if(!z.ok||!I.success)throw new Error((I==null?void 0:I.error)||v("Failed to complete payment"));u()}catch(z){c((z==null?void 0:z.message)||v("Failed to complete payment"))}},className:"flex-1",children:v("I have completed the payment")})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"paynow-email",children:v("Email")}),e.jsx(W,{id:"paynow-email",value:n,onChange:M=>i(M.target.value),placeholder:v("Enter your email address"),type:"email"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v("This email will be used for payment notifications.")})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:p,className:"flex-1",disabled:t,children:v("Cancel")}),e.jsx(_,{onClick:b,className:"flex-1",type:"button",disabled:t||!n.trim(),children:t?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),v("Creating Payment...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),v("Create Paynow Payment")]})})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:v("After confirming payment, return to this window. Your subscription will update automatically once you confirm payment completion.")})]})]})}function Ra({plan:r,billingCycle:w,paymentMethods:h,onSuccess:d,onCancel:u}){var Q,J;const{t:p}=A(),[v,t]=g.useState(""),[s,o]=g.useState(""),[c,n]=g.useState(null),[i,f]=g.useState(!1),[j,y]=g.useState(!1),l=Number(r.price)||0,x=c?c.type==="percentage"?l*(Number(c.value)||0)/100:Number(c.value)||0:0,b=Math.max(0,l-x),N=b<=0,m=async()=>{var C;if(!s.trim()){k.error(p("Please enter a coupon code"));return}f(!0);try{const T=await fetch(route("coupons.validate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((C=document.querySelector('meta[name="csrf-token"]'))==null?void 0:C.getAttribute("content"))||""},body:JSON.stringify({coupon_code:s,plan_id:r.id,amount:l})}),U=await T.json();T.ok&&U.valid?(n(U.coupon),k.success(p("Coupon applied successfully"))):(k.error(U.message||p("Invalid coupon code")),n(null))}catch(T){k.error(p("Failed to validate coupon")),n(null)}finally{f(!1)}},P=()=>{n(null),o("")},M=()=>{if(N){y(!0);return}if(!v){k.error(p("Please select a payment method"));return}y(!0)},z=()=>{y(!1),t("")},I=h.filter(C=>C.enabled),X=I.some(C=>C.id==="paynow"),K=()=>{var T,U,G,se,ne,le,ie,ee,a,E,H,ae,te,we,ge,ve,_e,Pe,Ce,ke,Ee,Fe,Te,Me,Ae,ze,Oe,Se,Re,Be,De,Ie,$e,Le,qe,Ke,Ye,Xe,Ue,We,He,Je,Ge,Ve,Ze,Qe,es,ss,as,rs,ts,ns,ls,is,cs,os,ds,ms,us,hs,xs,ps,fs,js;const C={planId:r.id,couponCode:s,billingCycle:w,onSuccess:d,onCancel:z};if(N&&v){const me=async()=>{var ys;try{const ue=await fetch(route("free-plan.subscribe"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((ys=document.querySelector('meta[name="csrf-token"]'))==null?void 0:ys.getAttribute("content"))||""},body:JSON.stringify({plan_id:r.id,billing_cycle:w,coupon_code:(c==null?void 0:c.code)||null})}),ce=await ue.json();ue.ok&&ce.success?(k.success(ce.message||p("Free plan activated successfully")),Z.visit(window.location.href),d(ce)):k.error(ce.message||p("Failed to activate free plan"))}catch(ue){k.error(p("An error occurred while activating your free plan"))}};return e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-green-800",children:p("Ready to Activate Free Plan")}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:p("Click the button below to activate your free plan instantly")})]}),e.jsx(_,{onClick:me,className:"w-full",children:p("Activate Free Plan")})]})}switch(v){case"manually":return e.jsx(Oa,{formData:{planId:r.id,planPrice:b,billingCycle:w,couponCode:c==null?void 0:c.code},onSuccess:d,onError:me=>k.error(me)});case"stripe":return e.jsx(sa,{...C,stripeKey:((T=r.paymentMethods)==null?void 0:T.stripe_key)||""});case"paypal":return e.jsx(aa,{...C,planPrice:Number(r.price),paypalClientId:((U=r.paymentMethods)==null?void 0:U.paypal_client_id)||"",currency:((G=r.paymentMethods)==null?void 0:G.defaultCurrency)||"USD"});case"bank":return e.jsx(ra,{...C,planPrice:Number(r.price),bankDetails:((se=r.paymentMethods)==null?void 0:se.bank_detail)||""});case"razorpay":return e.jsx(ta,{...C,planPrice:Number(r.price),razorpayKey:((ne=r.paymentMethods)==null?void 0:ne.razorpay_key)||"",currency:((le=r.paymentMethods)==null?void 0:le.defaultCurrency)||"INR"});case"mercadopago":return e.jsx(na,{...C,planPrice:Number(r.price),accessToken:((ie=r.paymentMethods)==null?void 0:ie.mercadopago_access_token)||"",currency:((ee=r.paymentMethods)==null?void 0:ee.defaultCurrency)||"BRL"});case"paystack":return e.jsx(la,{...C,planPrice:Number(r.price),paystackKey:((a=r.paymentMethods)==null?void 0:a.paystack_public_key)||"",currency:((E=r.paymentMethods)==null?void 0:E.defaultCurrency)||"NGN"});case"flutterwave":return e.jsx(ia,{...C,planPrice:Number(r.price),flutterwaveKey:((H=r.paymentMethods)==null?void 0:H.flutterwave_public_key)||"",currency:((ae=r.paymentMethods)==null?void 0:ae.defaultCurrency)||"NGN"});case"paytabs":return e.jsx(ca,{...C,planPrice:Number(r.price),paytabsClientKey:"",currency:((te=r.paymentMethods)==null?void 0:te.defaultCurrency)||"USD"});case"skrill":return e.jsx(oa,{...C,planPrice:Number(r.price),skrillMerchantId:((we=r.paymentMethods)==null?void 0:we.skrill_merchant_id)||"",currency:((ge=r.paymentMethods)==null?void 0:ge.defaultCurrency)||"USD"});case"coingate":return e.jsx(da,{...C,planPrice:Number(r.price),coinGateApiToken:((ve=r.paymentMethods)==null?void 0:ve.coingate_api_token)||"",currency:((_e=r.paymentMethods)==null?void 0:_e.defaultCurrency)||"USD"});case"payfast":return e.jsx(ma,{...C,planPrice:Number(r.price),payfastMerchantId:((Pe=r.paymentMethods)==null?void 0:Pe.payfast_merchant_id)||"",currency:((Ce=r.paymentMethods)==null?void 0:Ce.defaultCurrency)||"ZAR"});case"toyyibpay":return e.jsx(ua,{...C,planPrice:Number(r.price),toyyibpayCategoryCode:((ke=r.paymentMethods)==null?void 0:ke.toyyibpay_category_code)||"",currency:((Ee=r.paymentMethods)==null?void 0:Ee.defaultCurrency)||"MYR"});case"paynow":return e.jsx(Sa,{...C,planPrice:Number(r.price)});case"paytr":return e.jsx(ha,{...C,planPrice:Number(r.price),paytrMerchantId:((Fe=r.paymentMethods)==null?void 0:Fe.paytr_merchant_id)||"",currency:((Te=r.paymentMethods)==null?void 0:Te.defaultCurrency)||"TRY"});case"mollie":return e.jsx(xa,{...C,planPrice:Number(r.price),mollieApiKey:((Me=r.paymentMethods)==null?void 0:Me.mollie_api_key)||"",currency:((Ae=r.paymentMethods)==null?void 0:Ae.defaultCurrency)||"EUR"});case"cashfree":return e.jsx(pa,{...C,planPrice:Number(r.price),cashfreeAppId:((ze=r.paymentMethods)==null?void 0:ze.cashfree_public_key)||"",mode:((Oe=r.paymentMethods)==null?void 0:Oe.cashfree_mode)||"sandbox",currency:((Se=r.paymentMethods)==null?void 0:Se.defaultCurrency)||"INR"});case"iyzipay":return e.jsx(fa,{...C,planPrice:Number(r.price),iyzipayPublicKey:((Re=r.paymentMethods)==null?void 0:Re.iyzipay_public_key)||"",currency:((Be=r.paymentMethods)==null?void 0:Be.defaultCurrency)||"USD"});case"benefit":return e.jsx(ja,{...C,planPrice:Number(r.price),benefitPublicKey:((De=r.paymentMethods)==null?void 0:De.benefit_public_key)||"",currency:((Ie=r.paymentMethods)==null?void 0:Ie.defaultCurrency)||"BHD"});case"ozow":return e.jsx(ya,{...C,planPrice:Number(r.price),ozowSiteKey:(($e=r.paymentMethods)==null?void 0:$e.ozow_site_key)||"",currency:((Le=r.paymentMethods)==null?void 0:Le.defaultCurrency)||"ZAR"});case"easebuzz":return e.jsx(ba,{...C,planPrice:Number(r.price),easebuzzMerchantKey:((qe=r.paymentMethods)==null?void 0:qe.easebuzz_merchant_key)||"",currency:((Ke=r.paymentMethods)==null?void 0:Ke.defaultCurrency)||"INR"});case"khalti":return e.jsx(Na,{...C,planPrice:Number(r.price),khaltiPublicKey:((Ye=r.paymentMethods)==null?void 0:Ye.khalti_public_key)||"",currency:((Xe=r.paymentMethods)==null?void 0:Xe.defaultCurrency)||"NPR"});case"authorizenet":return e.jsx(wa,{...C,planPrice:Number(r.price),authorizenetMerchantId:((Ue=r.paymentMethods)==null?void 0:Ue.authorizenet_merchant_id)||"",currency:((We=r.paymentMethods)==null?void 0:We.defaultCurrency)||"USD"});case"fedapay":return e.jsx(ga,{...C,planPrice:Number(r.price),fedapayPublicKey:((He=r.paymentMethods)==null?void 0:He.fedapay_public_key)||"",currency:((Je=r.paymentMethods)==null?void 0:Je.defaultCurrency)||"XOF"});case"payhere":return e.jsx(va,{...C,planPrice:Number(r.price),payhereMerchantId:((Ge=r.paymentMethods)==null?void 0:Ge.payhere_merchant_id)||"",currency:((Ve=r.paymentMethods)==null?void 0:Ve.defaultCurrency)||"LKR"});case"cinetpay":return e.jsx(_a,{...C,planPrice:Number(r.price),cinetpaySiteId:((Ze=r.paymentMethods)==null?void 0:Ze.cinetpay_site_id)||"",currency:((Qe=r.paymentMethods)==null?void 0:Qe.defaultCurrency)||"XOF"});case"paiement":return e.jsx(Pa,{...C,planPrice:Number(r.price),paiementMerchantId:((es=r.paymentMethods)==null?void 0:es.paiement_merchant_id)||"",currency:((ss=r.paymentMethods)==null?void 0:ss.defaultCurrency)||"XOF"});case"nepalste":return e.jsx(Ca,{...C,planPrice:Number(r.price),nepalstePublicKey:((as=r.paymentMethods)==null?void 0:as.nepalste_public_key)||"",currency:((rs=r.paymentMethods)==null?void 0:rs.defaultCurrency)||"NPR"});case"yookassa":return e.jsx(ka,{...C,planPrice:Number(r.price),yookassaShopId:((ts=r.paymentMethods)==null?void 0:ts.yookassa_shop_id)||"",currency:((ns=r.paymentMethods)==null?void 0:ns.defaultCurrency)||"RUB"});case"aamarpay":return e.jsx(Ea,{...C,planPrice:Number(r.price),aamarpayStoreId:((ls=r.paymentMethods)==null?void 0:ls.aamarpay_store_id)||"",currency:((is=r.paymentMethods)==null?void 0:is.defaultCurrency)||"BDT"});case"midtrans":return e.jsx(Fa,{...C,planPrice:Number(r.price),midtransSecretKey:((cs=r.paymentMethods)==null?void 0:cs.midtrans_secret_key)||"",currency:((os=r.paymentMethods)==null?void 0:os.defaultCurrency)||"IDR"});case"paymentwall":return e.jsx(Ta,{...C,planPrice:Number(r.price),paymentwallPublicKey:((ds=r.paymentMethods)==null?void 0:ds.paymentwall_public_key)||"",currency:((ms=r.paymentMethods)==null?void 0:ms.defaultCurrency)||"USD"});case"sspay":return e.jsx(Ma,{...C,planPrice:Number(r.price),sspaySecretKey:((us=r.paymentMethods)==null?void 0:us.sspay_secret_key)||"",currency:((hs=r.paymentMethods)==null?void 0:hs.defaultCurrency)||"MYR"});case"tap":return e.jsx(Aa,{...C,planPrice:Number(r.price),tapSecretKey:((xs=r.paymentMethods)==null?void 0:xs.tap_secret_key)||"",currency:((ps=r.paymentMethods)==null?void 0:ps.defaultCurrency)||"USD"});case"xendit":return e.jsx(za,{...C,planPrice:Number(r.price),xenditApiKey:((fs=r.paymentMethods)==null?void 0:fs.xendit_api_key)||"",currency:((js=r.paymentMethods)==null?void 0:js.defaultCurrency)||"PHP"});default:return null}};return j?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:p("Complete Payment")}),e.jsx(_,{variant:"outline",size:"sm",onClick:z,children:p("Back")})]}),K()]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(O,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:r.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[p(w)," ",p("subscription")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:window.appSettings.formatCurrency(r.price)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["/",p(r.duration.toLowerCase())]})]})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Y,{children:p("Select Payment Method")}),I.length===0?e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:p("No payment methods available")}),X&&e.jsx("p",{className:"text-xs",children:p("Paynow is enabled for this plan. Select Paynow from the list to continue.")})]}):e.jsx("div",{className:"space-y-2",children:I.map((C,T)=>C.id==="paynow"?e.jsx(O,{className:"cursor-pointer transition-colors ".concat(v===C.id?"border-primary bg-primary/5":"hover:border-gray-300"),onClick:()=>t(C.id),children:e.jsx(S,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-primary",children:C.icon}),e.jsx("span",{className:"font-medium",children:C.name}),e.jsx(Ns,{variant:"secondary",className:"ml-auto",children:p("Mobile Express Only")})]})})},"".concat(C.id,"-").concat(T)):e.jsx(O,{className:"cursor-pointer transition-colors ".concat(v===C.id?"border-primary bg-primary/5":"hover:border-gray-300"),onClick:()=>t(C.id),children:e.jsx(S,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-primary",children:C.icon}),e.jsx("span",{className:"font-medium",children:C.name}),v===C.id&&e.jsx(Ns,{variant:"secondary",className:"ml-auto",children:p("Selected")})]})})},"".concat(C.id,"-").concat(T)))}),N&&v&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-3",children:e.jsx("p",{className:"text-sm text-green-700",children:p("This plan is free! You can activate it instantly.")})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Y,{htmlFor:"coupon",children:[p("Coupon Code")," (",p("Optional"),")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(W,{id:"coupon",value:s,onChange:C=>o(C.target.value),placeholder:p("Enter coupon code"),className:"pr-10",disabled:!!c}),e.jsx(Ks,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),c?e.jsx(_,{type:"button",variant:"outline",onClick:P,children:p("Remove")}):e.jsx(_,{type:"button",variant:"outline",onClick:m,disabled:!s.trim()||i,children:i?e.jsx($,{className:"h-4 w-4 animate-spin"}):p("Apply")})]}),c&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-green-700 font-medium",children:[p("Coupon Applied"),": ",c.code]}),e.jsxs("span",{className:"text-green-600",children:["-",c.type==="percentage"?"".concat(c.value,"%"):"".concat(((J=(Q=window==null?void 0:window.appSettings)==null?void 0:Q.currencySettings)==null?void 0:J.currencySymbol)||"$").concat(c.value)]})]})})]}),e.jsx(O,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:p("Subtotal")}),e.jsx("span",{children:window.appSettings.formatCurrency(Number(l)||0)})]}),c&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:p("Discount")}),e.jsx("span",{children:window.appSettings.formatCurrency(Number(x)||0)})]}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:p("Total")}),e.jsx("span",{children:window.appSettings.formatCurrency(Number(b)||0)})]})})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:u,className:"flex-1",children:p("Cancel")}),e.jsx(_,{onClick:C=>{C.preventDefault(),M()},disabled:!N&&I.length===0,className:"flex-1",type:"button",children:N?p("Activate Free Plan"):"".concat(p("Pay")," ").concat(window.appSettings.formatCurrency(Number(b)||0))})]})]})}function Ba({isOpen:r,onClose:w,plan:h,billingCycle:d,paymentMethods:u}){const{t:p}=A(),v=()=>{w()};return e.jsx(Es,{open:r,onOpenChange:w,children:e.jsxs(Fs,{className:"max-w-md max-h-[90vh] flex flex-col",children:[e.jsx(Ts,{className:"flex-shrink-0",children:e.jsx(Ms,{children:p("Subscribe to {{planName}}",{planName:h.name})})}),e.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:e.jsx(Ra,{plan:h,billingCycle:d,paymentMethods:u,onSuccess:v,onCancel:w})})]})})}function Ir({plans:r,billingCycle:w="monthly",hasDefaultPlan:h,isAdmin:d=!1,currentPlan:u,userTrialUsed:p,paymentMethods:v=[]}){const{t}=A(),{flash:s}=As().props,[o,c]=g.useState(r),[n,i]=g.useState(w),[f,j]=g.useState(!1),[y,l]=g.useState(null),[x,b]=g.useState(!1),[N,m]=g.useState(null),[P,M]=g.useState(!1),z=a=>{var E;if(typeof window<"u"&&((E=window.appSettings)!=null&&E.formatCurrency)){const H=typeof a=="number"?a:parseFloat(a);return window.appSettings.formatCurrency(H,{showSymbol:!0})}return a};g.useEffect(()=>{c(r)},[r]),g.useEffect(()=>{s!=null&&s.error&&k.error(s.error),s!=null&&s.success&&k.success(s.success)},[s]);const I=a=>{i(a),Z.get(route("plans.index"),{billing_cycle:a},{preserveState:!0})},X=a=>{M(!0),Z.post(route("plans.request"),{plan_id:a,billing_cycle:n},{onFinish:()=>M(!1)})},K=a=>{Z.post(route("plans.cancel-request"),{request_id:a})},Q=a=>{M(!0),Z.post(route("plans.trial"),{plan_id:a},{onFinish:()=>M(!1)})},J=async a=>{const E=o.find(H=>H.id===a);if(E)try{const ae=await(await fetch(route("payment.methods",{user_id:(u==null?void 0:u.user_id)||void 0}))).json();m({...E,paymentMethods:ae}),b(!0)}catch(H){k.error(t("Failed to load payment methods"))}},C=a=>{const E=[];return((a==null?void 0:a.is_manually_enabled)===!0||(a==null?void 0:a.is_manually_enabled)==="1")&&E.push({id:"manually",name:t("Manual Payment"),icon:e.jsx(Ps,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_bank_enabled)===!0||(a==null?void 0:a.is_bank_enabled)==="1")&&E.push({id:"bank",name:t("Bank Transfer"),icon:e.jsx(Ps,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_stripe_enabled)===!0||(a==null?void 0:a.is_stripe_enabled)==="1")&&E.push({id:"stripe",name:t("Stripe"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paypal_enabled)===!0||(a==null?void 0:a.is_paypal_enabled)==="1")&&E.push({id:"paypal",name:t("PayPal"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_razorpay_enabled)===!0||(a==null?void 0:a.is_razorpay_enabled)==="1")&&E.push({id:"razorpay",name:t("Razorpay"),icon:e.jsx(he,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_mercadopago_enabled)===!0||(a==null?void 0:a.is_mercadopago_enabled)==="1")&&(a!=null&&a.mercadopago_access_token)&&E.push({id:"mercadopago",name:t("MercadoPago"),icon:e.jsx(ye,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paystack_enabled)===!0||(a==null?void 0:a.is_paystack_enabled)==="1")&&E.push({id:"paystack",name:t("Paystack"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_flutterwave_enabled)===!0||(a==null?void 0:a.is_flutterwave_enabled)==="1")&&E.push({id:"flutterwave",name:t("Flutterwave"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paytabs_enabled)===!0||(a==null?void 0:a.is_paytabs_enabled)==="1")&&E.push({id:"paytabs",name:t("PayTabs"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_skrill_enabled)===!0||(a==null?void 0:a.is_skrill_enabled)==="1")&&E.push({id:"skrill",name:t("Skrill"),icon:e.jsx(ye,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_coingate_enabled)===!0||(a==null?void 0:a.is_coingate_enabled)==="1")&&E.push({id:"coingate",name:t("CoinGate"),icon:e.jsx(be,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_payfast_enabled)===!0||(a==null?void 0:a.is_payfast_enabled)==="1")&&E.push({id:"payfast",name:t("Payfast"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_tap_enabled)===!0||(a==null?void 0:a.is_tap_enabled)==="1")&&E.push({id:"tap",name:t("Tap"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_xendit_enabled)===!0||(a==null?void 0:a.is_xendit_enabled)==="1")&&E.push({id:"xendit",name:t("Xendit"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paytr_enabled)===!0||(a==null?void 0:a.is_paytr_enabled)==="1")&&E.push({id:"paytr",name:t("PayTR"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_mollie_enabled)===!0||(a==null?void 0:a.is_mollie_enabled)==="1")&&E.push({id:"mollie",name:t("Mollie"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_toyyibpay_enabled)===!0||(a==null?void 0:a.is_toyyibpay_enabled)==="1")&&E.push({id:"toyyibpay",name:t("toyyibPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_cashfree_enabled)===!0||(a==null?void 0:a.is_cashfree_enabled)==="1")&&E.push({id:"cashfree",name:t("Cashfree"),icon:e.jsx(he,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_khalti_enabled)===!0||(a==null?void 0:a.is_khalti_enabled)==="1")&&E.push({id:"khalti",name:t("Khalti"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_iyzipay_enabled)===!0||(a==null?void 0:a.is_iyzipay_enabled)==="1")&&E.push({id:"iyzipay",name:t("Iyzipay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_benefit_enabled)===!0||(a==null?void 0:a.is_benefit_enabled)==="1")&&E.push({id:"benefit",name:t("Benefit"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_ozow_enabled)===!0||(a==null?void 0:a.is_ozow_enabled)==="1")&&E.push({id:"ozow",name:t("Ozow"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_easebuzz_enabled)===!0||(a==null?void 0:a.is_easebuzz_enabled)==="1")&&E.push({id:"easebuzz",name:t("Easebuzz"),icon:e.jsx(he,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_authorizenet_enabled)===!0||(a==null?void 0:a.is_authorizenet_enabled)==="1")&&E.push({id:"authorizenet",name:t("AuthorizeNet"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_fedapay_enabled)===!0||(a==null?void 0:a.is_fedapay_enabled)==="1")&&E.push({id:"fedapay",name:t("FedaPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_payhere_enabled)===!0||(a==null?void 0:a.is_payhere_enabled)==="1")&&E.push({id:"payhere",name:t("PayHere"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_cinetpay_enabled)===!0||(a==null?void 0:a.is_cinetpay_enabled)==="1")&&E.push({id:"cinetpay",name:t("CinetPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paiement_enabled)===!0||(a==null?void 0:a.is_paiement_enabled)==="1")&&E.push({id:"paiement",name:t("Paiement Pro"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_nepalste_enabled)===!0||(a==null?void 0:a.is_nepalste_enabled)==="1")&&E.push({id:"nepalste",name:t("Nepalste"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_yookassa_enabled)===!0||(a==null?void 0:a.is_yookassa_enabled)==="1")&&E.push({id:"yookassa",name:t("YooKassa"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_aamarpay_enabled)===!0||(a==null?void 0:a.is_aamarpay_enabled)==="1")&&E.push({id:"aamarpay",name:t("Aamarpay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_midtrans_enabled)===!0||(a==null?void 0:a.is_midtrans_enabled)==="1")&&E.push({id:"midtrans",name:t("Midtrans"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paymentwall_enabled)===!0||(a==null?void 0:a.is_paymentwall_enabled)==="1")&&E.push({id:"paymentwall",name:t("PaymentWall"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_sspay_enabled)===!0||(a==null?void 0:a.is_sspay_enabled)==="1")&&E.push({id:"sspay",name:t("SSPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paynow_enabled)===!0||(a==null?void 0:a.is_paynow_enabled)==="1")&&E.push({id:"paynow",name:t("Paynow (Zimbabwe)"),icon:e.jsx(Hs,{className:"h-5 w-5"}),enabled:!0}),E},T=a=>u&&u.id===a.id&&u.expires_at&&new Date(u.expires_at)>new Date?e.jsxs(_,{disabled:!0,className:"w-full bg-green-100 text-green-800 border-green-200",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),t("Already Subscribed")]}):a.is_current?e.jsxs(_,{disabled:!0,className:"w-full",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),t("Current Plan")]}):a.is_trial_available&&!p?e.jsxs("div",{className:"space-y-2",children:[e.jsxs(_,{onClick:E=>{E.preventDefault(),Q(a.id)},disabled:P,variant:"outline",className:"w-full",type:"button",children:[e.jsx(Js,{className:"h-4 w-4 mr-2"}),t("Start {{days}} Day Trial",{days:a.trial_days})]}),e.jsx(_,{onClick:E=>{E.preventDefault(),J(a.id)},disabled:P,className:"w-full",type:"button",children:t("Subscribe Now")})]}):e.jsxs("div",{className:"space-y-2",children:[a.has_pending_request?e.jsxs(_,{onClick:()=>K(a.request_id),disabled:P,variant:"outline",className:"w-full border-red-200 text-red-600 hover:bg-red-50",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),t("Cancel Request")]}):e.jsxs(_,{onClick:()=>X(a.id),disabled:P,variant:"outline",className:"w-full",children:[e.jsx(Gs,{className:"h-4 w-4 mr-2"}),t("Request Plan")]}),e.jsx(_,{onClick:()=>J(a.id),disabled:P||u&&u.id===a.id&&u.expires_at&&new Date(u.expires_at)>new Date,className:"w-full",children:u&&u.id===a.id&&u.expires_at&&new Date(u.expires_at)>new Date?t("Already Subscribed"):t("Subscribe Now")})]}),U=(a,E)=>Array.isArray(a.features)?E==="Template Sections"?a.features.some(H=>H.startsWith(t("Template Sections"))):a.features.includes(E):typeof a.features=="object"&&a.features!==null?a.features[E]===!0:!1,G=a=>Array.isArray(a.features)&&a.features.find(H=>H.startsWith(t("Template Sections")))||"Template Sections",se=a=>{Z.post(route("plans.toggle-status",a),{},{preserveState:!0,onSuccess:()=>{c(o.map(E=>E.id===a?{...E,status:!E.status}:E))}})},ne=a=>{l(a),j(!0)},le=()=>{y&&Z.delete(route("plans.destroy",y.id),{onSuccess:()=>{j(!1),l(null)}})},ie=[{key:"Custom Domain",label:t("Custom Domain"),icon:e.jsx(xe,{className:"h-4 w-4"})},{key:"Subdomain",label:t("Custom Subdomain"),icon:e.jsx(xe,{className:"h-4 w-4"})},{key:"PWA",label:t("PWA Support"),icon:e.jsx(oe,{className:"h-4 w-4"})},{key:"AI Integration",label:t("AI Integration"),icon:e.jsx(Ys,{className:"h-4 w-4"})},{key:"Password Protection",label:t("Password Protection"),icon:e.jsx(pe,{className:"h-4 w-4"})},{key:"Template Sections",label:t("Template Sections"),icon:e.jsx(oe,{className:"h-4 w-4"})}],ee={businesses:e.jsx(Qs,{className:"h-5 w-5"}),users:e.jsx(Zs,{className:"h-5 w-5"}),storage:e.jsx(Vs,{className:"h-5 w-5"}),templates:e.jsx(oe,{className:"h-5 w-5"}),bio_links:e.jsx(xe,{className:"h-5 w-5"}),bio_links_templates:e.jsx(oe,{className:"h-5 w-5"})};return e.jsx(Cs,{title:t("Plans"),description:t("Manage subscription plans for your customers"),url:"/plans",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:t(d?"Subscription Plans":"Choose Your Plan")}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:t(d?"Create and manage subscription plans to offer different service tiers to your customers.":"Select the perfect plan for your business needs")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx(Os,{value:n,onValueChange:a=>I(a),className:"w-full sm:w-[400px]",children:e.jsxs(Ss,{className:"grid w-full grid-cols-2",children:[e.jsx(gs,{value:"monthly",children:t("Monthly")}),e.jsx(gs,{value:"yearly",children:t("Yearly")})]})}),d&&e.jsxs(_,{className:"w-full sm:w-auto",onClick:()=>Z.get(route("plans.create")),children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),t("Add Plan")]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map(a=>{var E;return e.jsxs("div",{className:"group relative h-full flex flex-col ".concat(a.recommended?"z-10 scale-[1.02]":""),children:[e.jsxs("div",{className:"\n                absolute inset-0 rounded-2xl \n                ".concat(a.recommended?"bg-gradient-to-br from-primary/20 via-primary/10 to-transparent border-primary/30":"bg-gradient-to-br from-gray-100/80 via-gray-50/50 to-transparent border-gray-200/80"," \n                border shadow-lg transition-all duration-300 \n                group-hover:shadow-xl group-hover:shadow-primary/5\n                overflow-hidden\n              "),children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full -mr-16 -mt-16 opacity-70"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-primary/10 to-transparent rounded-full -ml-12 -mb-12 opacity-50"})]}),a.recommended&&e.jsx("div",{className:"absolute -top-4 left-0 right-0 flex justify-center z-20",children:e.jsxs("div",{className:"bg-primary text-primary-foreground px-4 py-1.5 rounded-full shadow-lg flex items-center gap-1.5 text-sm font-medium",children:[e.jsx(_s,{className:"h-4 w-4"}),t("Recommended")]})}),d&&e.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[a.is_default&&e.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:t("Default")}),e.jsxs("div",{className:"\n                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium\n                    ".concat(a.status?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700","\n                  "),children:[e.jsx("span",{className:"\n                      w-2 h-2 rounded-full \n                      ".concat(a.status?"bg-emerald-500":"bg-red-500","\n                    ")}),a.status?t("Active"):t("Inactive")]})]}),!d&&a.is_current&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:[e.jsx(fe,{className:"h-3 w-3"}),t("Current")]})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full p-6 pt-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"\n                    text-2xl font-bold mb-2 \n                    ".concat(a.recommended?"text-primary":"","\n                  "),children:a.name}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-3",children:[e.jsx("span",{className:"\n                      text-3xl font-extrabold \n                      ".concat(a.recommended?"text-primary":"","\n                    "),children:z(a.price)}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["/",t(a.duration.toLowerCase())]})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:a.description}),a.trial_days>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-primary",children:[e.jsx(_s,{className:"h-3.5 w-3.5"}),t("{{days}} days free trial",{days:a.trial_days})]})]}),e.jsxs("div",{className:"relative flex items-center my-4",children:[e.jsx("div",{className:"flex-grow border-t border-gray-200"}),e.jsx("div",{className:"mx-3 bg-primary/10 text-primary p-1.5 rounded-full",children:e.jsx(pe,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),e.jsxs("div",{className:"mb-6 flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:t("Features")}),e.jsx("ul",{className:"space-y-2.5",children:ie.map((H,ae)=>{const te=U(a,H.key);return e.jsxs("li",{className:"flex items-center gap-3",children:[te?e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:e.jsx(pe,{className:"h-3.5 w-3.5"})}):e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center",children:e.jsx(ws,{className:"h-3.5 w-3.5"})}),e.jsx("span",{className:"text-sm ".concat(te?"font-medium":"text-muted-foreground"),children:H.key==="Template Sections"?G(a):t(H.label)})]},ae)})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:t("Usage Limits")}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-blue-100 text-blue-600",children:ee.businesses}),e.jsx("div",{className:"text-xl font-bold text-blue-700",children:a.stats.businesses})]}),e.jsx("div",{className:"relative text-xs font-medium text-blue-600 uppercase tracking-wide",children:t("Businesses")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-emerald-100 text-emerald-600",children:ee.users}),e.jsx("div",{className:"text-xl font-bold text-emerald-700",children:a.stats.users})]}),e.jsx("div",{className:"relative text-xs font-medium text-emerald-600 uppercase tracking-wide",children:t("Users")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-amber-100 text-amber-600",children:ee.storage}),e.jsx("div",{className:"text-xl font-bold text-amber-700",children:a.stats.storage})]}),e.jsx("div",{className:"relative text-xs font-medium text-amber-600 uppercase tracking-wide",children:t("Storage")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-purple-100 text-purple-600",children:ee.templates}),e.jsx("div",{className:"text-xl font-bold text-purple-700",children:a.stats.templates})]}),e.jsx("div",{className:"relative text-xs font-medium text-purple-600 uppercase tracking-wide",children:t("Templates")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-teal-100 text-teal-600",children:ee.bio_links}),e.jsx("div",{className:"text-xl font-bold text-teal-700",children:a.stats.bio_links})]}),e.jsx("div",{className:"relative text-xs font-medium text-teal-600 uppercase tracking-wide",children:t("Bio Links")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-rose-100 text-rose-600",children:ee.bio_links_templates}),e.jsx("div",{className:"text-xl font-bold text-rose-700",children:a.stats.bio_links_templates})]}),e.jsx("div",{className:"relative text-xs font-medium text-rose-600 uppercase tracking-wide",children:t("Bio Templates")})]})]}),a.stats.addons>0&&a.stats.addon_names&&a.stats.addon_names.length>0&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-transparent opacity-50"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-gray-100 text-gray-600",children:e.jsx(Xs,{className:"h-4 w-4"})}),e.jsxs("div",{className:"text-sm font-semibold text-gray-700",children:[t("Included Addons")," (",a.stats.addons,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(E=a.stats.addon_names)==null?void 0:E.map((H,ae)=>e.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-medium",children:H},ae))})]})]})})]}),e.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200",children:d?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ks,{checked:a.status,onCheckedChange:()=>se(a.id),className:a.status?"data-[state=checked]:bg-primary":""}),e.jsx("span",{className:"text-sm text-muted-foreground",children:a.status?t("Active"):t("Inactive")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-primary hover:text-primary",title:t("Edit"),onClick:()=>Z.get(route("plans.edit",a.id)),children:e.jsx(Us,{className:"h-4 w-4"})}),!a.is_default&&e.jsx(_,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-red-400 hover:text-red-600",title:t("Delete"),onClick:()=>ne(a),children:e.jsx(Ws,{className:"h-4 w-4"})})]})]}):T(a)})]})]},a.id)})}),d&&e.jsx(Rs,{isOpen:f,onClose:()=>j(!1),onConfirm:le,itemName:(y==null?void 0:y.name)||"",entityName:"plan"}),!d&&N&&e.jsx(Ba,{isOpen:x,onClose:()=>{b(!1),m(null)},plan:N,billingCycle:n,paymentMethods:C(N.paymentMethods)})]})})}export{Ir as default};

import{r as m,j as e}from"./ui-XtzbmeJx.js";import{u as F,j as L,K as B,m as H,L as f,I as C,T as M,B as d,S as p}from"./app-BNDAg-x0.js";import{I as E}from"./input-error-DKFH4sK9.js";import{T as _}from"./text-link-CPigUoBU.js";import{C as q}from"./checkbox-BS0_5fJl.js";import{A as O,a as U}from"./auth-button-CTdlUA6k.js";import{R as V,e as b}from"./recaptcha-DDSSSMMV.js";import{M as K}from"./mail-Dom0Io57.js";import{L as Q}from"./lock-BVHNeoPL.js";import"./vendor-CxtKjBZA.js";import"./utils-CCVAIzGD.js";import"./index-C0g6bluz.js";import"./language-switcher-Sj0uA1nn.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./globe-Wz67MOVh.js";import"./use-favicon-B5hfZCZO.js";import"./cookie-consent-B_ejjwgp.js";import"./credit-card-DWMi5WDy.js";import"./loader-circle-CSHwA98f.js";function xe({status:A,canResetPassword:P,demoBusinesses:u=[],demoBioLinks:x=[]}){const{t:a}=F(),[g,h]=m.useState(""),{themeColor:w,customColor:T}=L(),{settings:o={}}=B().props,l=o.recaptchaEnabled==="true"||o.recaptchaEnabled===!0||o.recaptchaEnabled===1||o.recaptchaEnabled==="1";o.recaptchaVersion;const s=w==="custom"?T:M[w],[I,D]=m.useState(!1),[z,G]=m.useState(!0),{data:i,setData:c,post:j,processing:S,errors:v,reset:N}=H({email:"",password:"",remember:!1});m.useEffect(()=>{const t=window.isDemo===!0;D(t),t&&c({email:"company@example.com",password:"password",remember:!1})},[]);const R=async t=>{if(t.preventDefault(),l)try{const n=await b();if(!n){alert(a("Please complete the reCAPTCHA verification"));return}const y={...i,recaptcha_token:n};j(route("login"),y,{onFinish:()=>N("password")});return}catch(n){alert(a("reCAPTCHA verification failed. Please try again."));return}const r={...i,recaptcha_token:g};j(route("login"),r,{onFinish:()=>N("password")})},k=(t,r,n)=>{n.preventDefault(),n.stopPropagation();const y=route("public.vcard.show.direct",r);window.open(y,"_blank")};return e.jsx(O,{title:a("Log in to your account"),description:a("Enter your credentials to access your account"),status:A,children:e.jsxs("form",{className:"space-y-5",onSubmit:R,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(f,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300 font-medium mb-1 block",children:a("Email address")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(K,{className:"h-5 w-5 text-gray-400"})}),e.jsx(C,{id:"email",type:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",value:i.email,onChange:t=>c("email",t.target.value),placeholder:"email@example.com",className:"pl-10 w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg transition-all duration-200",style:{"--tw-ring-color":s}})]}),e.jsx(E,{message:v.email})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx(f,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300 font-medium",children:a("Password")}),P&&e.jsx(_,{href:route("password.request"),className:"text-sm transition-colors duration-200",style:{color:s},tabIndex:5,children:a("Forgot password?")})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-5 w-5 text-gray-400"})}),e.jsx(C,{id:"password",type:"password",required:!0,tabIndex:2,autoComplete:"current-password",value:i.password,onChange:t=>c("password",t.target.value),placeholder:"••••••••",className:"pl-10 w-full border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg transition-all duration-200",style:{"--tw-ring-color":s}})]}),e.jsx(E,{message:v.password})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{id:"remember",name:"remember",checked:i.remember,onClick:()=>c("remember",!i.remember),tabIndex:3,className:"border-gray-300 rounded",style:{"--tw-ring-color":s,color:s}}),e.jsx(f,{htmlFor:"remember",className:"ml-2 text-gray-600 dark:text-gray-400",children:a("Remember me")})]})]}),l&&e.jsx(V,{onVerify:h,onExpired:()=>h(""),onError:()=>h("")}),e.jsx(U,{tabIndex:4,processing:S,children:a("Log in")}),I&&e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-5",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 text-center",children:a("Demo Quick Access")}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(d,{type:"button",onClick:async()=>{if(l)try{const t=await b();if(!t){alert(a("Please complete the reCAPTCHA verification"));return}p.post(route("login"),{email:"superadmin@example.com",password:"password",remember:!1,recaptcha_token:t})}catch(t){alert(a("reCAPTCHA verification failed. Please try again."))}else p.post(route("login"),{email:"superadmin@example.com",password:"password",remember:!1,recaptcha_token:g})},className:"shadow-sm text-white px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-all duration-200 w-full sm:w-auto",style:{backgroundColor:s},children:a(" Login as Super Admin")}),e.jsx(d,{type:"button",onClick:async()=>{if(l)try{const t=await b();if(!t){alert(a("Please complete the reCAPTCHA verification"));return}p.post(route("login"),{email:"company@example.com",password:"password",remember:!1,recaptcha_token:t})}catch(t){alert(a("reCAPTCHA verification failed. Please try again."))}else p.post(route("login"),{email:"company@example.com",password:"password",remember:!1,recaptcha_token:g})},className:"bg-emerald-600 hover:bg-emerald-700 shadow-sm text-white px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-all duration-200 w-full sm:w-auto",children:a("Login as Company")})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 text-center",children:a("Business Cards")}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:(u&&u.length>0?u:[{id:1,name:"Restaurant",slug:"restaurant-demo",business_type:"restaurant"},{id:2,name:"Portfolio",slug:"portfolio-demo",business_type:"personal"},{id:3,name:"Agency",slug:"agency-demo",business_type:"professional"},{id:4,name:"E-commerce",slug:"ecommerce-demo",business_type:"retail"},{id:5,name:"Fitness",slug:"fitness-demo",business_type:"service"},{id:6,name:"Medical",slug:"medical-demo",business_type:"professional"},{id:7,name:"Education",slug:"education-demo",business_type:"service"},{id:8,name:"Travel",slug:"travel-demo",business_type:"service"},{id:9,name:"Real Estate",slug:"realestate-demo",business_type:"professional"},{id:10,name:"Photography",slug:"photography-demo",business_type:"personal"}]).map(t=>e.jsx(d,{onClick:r=>k(t.id,t.slug,r),className:"text-xs sm:text-sm py-1 px-1 transition-all duration-200 truncate",style:{backgroundColor:s+"15",color:s},children:t.business_type.split("_").join(" ").replace(/\b\w/g,r=>r.toUpperCase())},t.id))})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 text-center",children:a("Bio Links")}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:(x&&x.length>0?x:[]).map(t=>e.jsx(d,{onClick:r=>k(t.id,t.slug,r),className:"text-xs sm:text-sm py-1 px-1 transition-all duration-200 truncate",style:{backgroundColor:s+"15",color:s},children:t.link_type.split("_").join(" ").replace(/\b\w/g,r=>r.toUpperCase())},t.id))})]})]})]})}),(o.registrationEnabled==="true"||o.registrationEnabled===!0||o.registrationEnabled==="1"||o.registrationEnabled===1)&&e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-6",children:[a("Don't have an account?")," ",e.jsx(_,{href:route("register"),className:"font-medium transition-colors duration-200",style:{color:s},tabIndex:6,children:a("Sign up")})]})]})})}export{xe as default};

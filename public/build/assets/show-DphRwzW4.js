import{r as E,j as e}from"./ui-XtzbmeJx.js";import{u as A,K as U,m as j,X as B,q as M,C as c,d as n,e as o,i as P,g as d,B as r,D as $,aq as I,a as _,b as F,c as Q,A as V,E as H,S as y,t as m}from"./app--U2u_Nco.js";import{T as f}from"./textarea-DI5KsTzY.js";import{P as L}from"./page-template-_w_TezBb.js";import{T as K}from"./toaster-m2lfzJ9u.js";import{S as O,a as X,b as z,c as G,d as l}from"./select-DPTsfyZo.js";import{C as J}from"./circle-check-big-DSNGn9d6.js";import{T as W}from"./target-PODz-u1M.js";import{M as Y}from"./message-square-PGEHhf8N.js";import{C as Z}from"./clock-xep4wtUq.js";import{M as C}from"./mail-CeMU5Fvk.js";import{C as ee}from"./calendar-BvntvMDr.js";import{S as se}from"./square-pen-PWqrLshg.js";import{S as N}from"./send-DBm1eEDF.js";import{A as ae}from"./arrow-left-DKs6FA6H.js";import"./vendor-CxtKjBZA.js";import"./utils-CCVAIzGD.js";import"./app-layout-2q3qeuPG.js";import"./app-sidebar-layout-B8sCBDfP.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./sparkles-CjzlGYDC.js";import"./loader-circle-sCJ-o5H7.js";import"./copy-C3tPhgbj.js";import"./chevron-up-Cb1PVDjg.js";import"./chevron-right-BNDDuqe9.js";import"./language-switcher-CoqxIfsY.js";import"./globe-D7cjKJp0.js";import"./chart-column-I-WbOlTU.js";import"./briefcase-D8uqggDK.js";import"./package-sLSwB21j.js";import"./credit-card-BnHKQyNb.js";import"./dollar-sign-iDXPpovF.js";import"./users-DAfK_cju.js";import"./settings-DvHmCXCi.js";import"./wallet-BJ9Z1Mvd.js";import"./shopping-bag-D4ViwlKW.js";import"./user-Cz4gw8yj.js";import"./use-favicon-8c0NNY31.js";import"./cookie-consent-CREhfCi9.js";import"./index-C0g6bluz.js";const te={new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-purple-100 text-purple-800",converted:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"},re={new:Z,contacted:Y,qualified:W,converted:J,closed:B};function Oe(){const{t:s}=A(),{contact:a}=U().props,[v,p]=E.useState(!1),{data:x,setData:u,put:S,processing:i}=j({status:a.status,notes:a.notes||""}),{data:w,setData:b,post:D,processing:h,reset:T}=j({reply_message:""}),g=()=>{S(route("landing-page.contacts.update",a.id),{onSuccess:()=>{m.success(s("Contact updated successfully!"))},onError:()=>{m.error(s("Failed to update contact"))}})},k=()=>{D(route("landing-page.contacts.reply",a.id),{onSuccess:()=>{m.success(s("Reply sent successfully!")),p(!1),T(),y.reload()},onError:()=>{m.error(s("Failed to send reply"))}})},R=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),q=re[a.status];return e.jsxs(L,{title:s("Contact Details"),url:"/landing-page/contacts/".concat(a.id),action:e.jsxs(r,{variant:"outline",onClick:()=>y.get(route("landing-page.contacts.index")),children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),s("Back to Contacts")]}),children:[e.jsx(M,{title:s("Contact Details"),description:s("View and manage contact information"),children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(c,{children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s("Contact Information")}),e.jsxs(P,{className:"".concat(te[a.status]," flex items-center gap-1"),children:[e.jsx(q,{className:"h-3 w-3"}),s(a.status.charAt(0).toUpperCase()+a.status.slice(1))]})]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Name")}),e.jsx("p",{className:"text-lg font-semibold",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Email")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-gray-400"}),e.jsx("a",{href:"mailto:".concat(a.email),className:"text-blue-600 hover:underline",children:a.email})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Subject")}),e.jsx("p",{className:"text-gray-900",children:a.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Message")}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:a.message})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("Received")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:R(a.created_at)})]})]})]})]}),e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(o,{children:s("Notes")})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{placeholder:s("Add notes about this contact..."),value:x.notes,onChange:t=>u("notes",t.target.value),rows:6}),e.jsxs(r,{onClick:g,disabled:i,children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),s(i?"Updating...":"Update Notes")]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(o,{children:s("Status")})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs(O,{value:x.status,onValueChange:t=>u("status",t),children:[e.jsx(X,{children:e.jsx(z,{})}),e.jsxs(G,{children:[e.jsx(l,{value:"new",children:s("New")}),e.jsx(l,{value:"contacted",children:s("Contacted")}),e.jsx(l,{value:"qualified",children:s("Qualified")}),e.jsx(l,{value:"converted",children:s("Converted")}),e.jsx(l,{value:"closed",children:s("Closed")})]})]}),e.jsx(r,{onClick:g,disabled:i,className:"w-full",children:s(i?"Updating...":"Update Status")})]})]}),e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(o,{children:s("Quick Actions")})}),e.jsxs(d,{className:"space-y-3",children:[e.jsxs(r,{variant:"outline",className:"w-full justify-start",onClick:()=>window.open("mailto:".concat(a.email,"?subject=Re: ").concat(a.subject)),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),s("Send Email")]}),e.jsxs($,{open:v,onOpenChange:p,children:[e.jsx(I,{asChild:!0,children:e.jsxs(r,{variant:"outline",className:"w-full justify-start",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),s("Quick Reply")]})}),e.jsxs(_,{children:[e.jsxs(F,{children:[e.jsx(Q,{children:s("Send Reply")}),e.jsxs(V,{children:[s("Send a quick reply to")," ",a.name]})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(f,{placeholder:s("Type your reply message..."),value:w.reply_message,onChange:t=>b("reply_message",t.target.value),rows:6})}),e.jsxs(H,{children:[e.jsx(r,{variant:"outline",onClick:()=>p(!1),children:s("Cancel")}),e.jsxs(r,{onClick:k,disabled:h,children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),s(h?"Sending...":"Send Reply")]})]})]})]})]})]})]})]})}),e.jsx(K,{})]})}export{Oe as default};

!function(){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function t(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach(function(r){n(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function n(r,t,n){return(t=function(r){var t=function(r,t){if("object"!=e(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var s=n.call(r,t||"default");if("object"!=e(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==e(t)?t:t+""}(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,s,c,a,l=[],i=!0,o=!1;try{if(c=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;i=!1}else for(;!(i=(n=c.call(t)).done)&&(l.push(n.value),l.length!==r);i=!0);}catch(e){o=!0,s=e}finally{try{if(!i&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(o)throw s}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return c(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}System.register(["./ui-legacy-Df76W54t.js","./app-legacy--_EH1FA6.js","./select-legacy-CnS4pGYt.js","./switch-legacy-DR4XdF-9.js","./dollar-sign-legacy-Bra6CllU.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-COSjq7BD.js"],function(e,r){"use strict";var c,a,l,i,o,u,d,m,f,h,x,y,j,p,v,b,g,S,N,w,C,O,P,F,D,k,A,E;return{setters:[function(e){c=e.r,a=e.j},function(e){l=e.u,i=e.K,o=e.q,u=e.C,d=e.d,m=e.g,f=e.I,h=e.B,x=e.L,y=e.i,j=e.am,p=e.x,v=e.y,b=e.r,g=e.z,S=e.F,N=e.w,w=e.t,C=e.S},function(e){O=e.S,P=e.a,F=e.b,D=e.c,k=e.d},function(e){A=e.S},function(e){E=e.D},null,null,null,null],execute:function(){e("default",function(){var e,r,I=l().t,z=i().props,T=z.currencies,$=void 0===T?[]:T,V=z.systemSettings,B=void 0===V?{}:V,M=s(c.useState({decimalFormat:B.decimalFormat||"2",defaultCurrency:B.defaultCurrency||"USD",decimalSeparator:B.decimalSeparator||".",thousandsSeparator:B.thousandsSeparator||",",floatNumber:"0"!==B.floatNumber,currencySymbolSpace:"1"===B.currencySymbolSpace,currencySymbolPosition:B.currencySymbolPosition||"before",currencyName:""}),2),U=M[0],q=M[1],K=s(c.useState(1234.56),2),L=K[0],R=K[1];c.useEffect(function(){if($&&$.length>0){var e=$.find(function(e){return e.code===U.defaultCurrency});e&&q(function(r){return t(t({},r),{},{currencyName:e.name})})}},[$,U.defaultCurrency]);var W=function(e,r){q(function(s){return t(t({},s),{},n({},e,r))})};return a.jsx(o,{title:I("Currency Settings"),description:I("Configure how currency values are displayed throughout the application"),action:a.jsxs(h,{type:"submit",form:"currency-settings-form",size:"sm",children:[a.jsx(N,{className:"h-4 w-4 mr-2"}),I("Save Changes")]}),children:a.jsx("form",{id:"currency-settings-form",onSubmit:function(e){e.preventDefault(),w.loading(I("Saving currency settings...")),C.post(route("settings.currency.update"),U,{preserveScroll:!0,onSuccess:function(e){var r,t;w.dismiss();var n=null===(r=e.props.flash)||void 0===r?void 0:r.success,s=null===(t=e.props.flash)||void 0===t?void 0:t.error;n?w.success(n):s?w.error(s):w.success(I("Currency settings updated successfully"))},onError:function(e){w.dismiss();var r=e.error||Object.values(e).join(", ")||I("Failed to update currency settings");w.error(r)}})},children:a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx("div",{children:a.jsxs(u,{children:[a.jsx(d,{className:"pb-3",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(E,{className:"h-5 w-5 text-primary"}),a.jsx("h3",{className:"text-base font-medium",children:I("Format Options")})]})})}),a.jsx(m,{children:a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{className:"p-4 bg-muted/30 rounded-md border flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col items-center md:items-start mb-3 md:mb-0",children:[a.jsx("div",{className:"text-2xl font-semibold mb-1",children:function(){try{var e=Number(L)||0,r=parseInt(U.decimalFormat)||2;U.floatNumber||(e=Math.floor(e));var t=Number(e).toFixed(r).split(".");"none"!==U.thousandsSeparator&&(t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,U.thousandsSeparator));var n=t.join(U.decimalSeparator),s=$.find(function(e){return e.code===U.defaultCurrency}),c=(null==s?void 0:s.symbol)||"$",a=U.currencySymbolSpace?" ":"";return"before"===U.currencySymbolPosition?"".concat(c).concat(a).concat(n):"".concat(n).concat(a).concat(c)}catch(l){return"Invalid format"}}()}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[U.currencyName," (",U.defaultCurrency,")"]})]}),a.jsx("div",{className:"w-full md:w-auto md:max-w-[200px]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(f,{type:"number",className:"text-right h-8 text-sm",value:L,onChange:function(e){return R(parseFloat(e.target.value)||0)},placeholder:"Test amount"}),a.jsx(h,{variant:"outline",onClick:function(){return R(1234.56)},type:"button",size:"sm",className:"h-8 text-xs",children:I("Reset")})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(x,{htmlFor:"defaultCurrency",className:"font-medium",children:I("Default Currency")}),a.jsx(y,{variant:"outline",className:"font-mono",children:U.defaultCurrency})]}),a.jsxs(O,{value:U.defaultCurrency,onValueChange:function(e){var r=$.find(function(r){return r.code===e});q(function(n){return t(t({},n),{},{defaultCurrency:e,currencyName:(null==r?void 0:r.name)||e})})},children:[a.jsx(P,{children:a.jsx(F,{placeholder:I("Select currency")})}),a.jsx(D,{children:a.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:$&&$.length>0?$.map(function(e){return a.jsx(k,{value:e.code,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-8 text-center",children:e.symbol}),a.jsxs("span",{children:[e.code," - ",e.name]}),e.is_default&&a.jsx("span",{className:"ml-2 text-xs text-primary",children:"(Default)"})]})},e.id)}):a.jsx("div",{className:"p-2 text-center text-muted-foreground",children:I("No currencies found")})})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(x,{htmlFor:"decimalFormat",className:"font-medium",children:I("Decimal Places")}),a.jsx(j,{children:a.jsxs(p,{children:[a.jsx(v,{asChild:!0,children:a.jsx(b,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(g,{children:a.jsx("p",{children:I("Number of digits after decimal point")})})]})})]}),a.jsxs(O,{value:U.decimalFormat,onValueChange:function(e){return W("decimalFormat",e)},children:[a.jsx(P,{children:a.jsx(F,{placeholder:"Select decimal format"})}),a.jsxs(D,{children:[a.jsx(k,{value:"0",children:"0 (e.g., 1234)"}),a.jsx(k,{value:"1",children:"1 (e.g., 1234.5)"}),a.jsx(k,{value:"2",children:"2 (e.g., 1234.56)"}),a.jsx(k,{value:"3",children:"3 (e.g., 1234.567)"}),a.jsx(k,{value:"4",children:"4 (e.g., 1234.5678)"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(x,{htmlFor:"currencySymbolPosition",className:"font-medium",children:I("Symbol Position")}),a.jsx(j,{children:a.jsxs(p,{children:[a.jsx(v,{asChild:!0,children:a.jsx(b,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(g,{children:a.jsx("p",{children:I("Where to place the currency symbol")})})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(h,{type:"button",variant:"before"===U.currencySymbolPosition?"default":"outline",className:"justify-center",onClick:function(){return W("currencySymbolPosition","before")},children:[a.jsx("span",{className:"mr-2",children:(null===(e=window)||void 0===e||null===(e=e.appSettings)||void 0===e||null===(e=e.currencySettings)||void 0===e?void 0:e.currencySymbol)||"$"}),"100","before"===U.currencySymbolPosition&&a.jsx(S,{className:"h-4 w-4 ml-2"})]}),a.jsxs(h,{type:"button",variant:"after"===U.currencySymbolPosition?"default":"outline",className:"justify-center",onClick:function(){return W("currencySymbolPosition","after")},children:["100",a.jsx("span",{className:"ml-2",children:(null===(r=window)||void 0===r||null===(r=r.appSettings)||void 0===r||null===(r=r.currencySettings)||void 0===r?void 0:r.currencySymbol)||"$"}),"after"===U.currencySymbolPosition&&a.jsx(S,{className:"h-4 w-4 ml-2"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(x,{htmlFor:"decimalSeparator",className:"font-medium",children:I("Decimal Separator")}),a.jsx(j,{children:a.jsxs(p,{children:[a.jsx(v,{asChild:!0,children:a.jsx(b,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(g,{children:a.jsx("p",{children:I("Character used to separate decimal places")})})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(h,{type:"button",variant:"."===U.decimalSeparator?"default":"outline",className:"justify-center",onClick:function(){return W("decimalSeparator",".")},children:[I("Dot")," (123.45)","."===U.decimalSeparator&&a.jsx(S,{className:"h-4 w-4 ml-2"})]}),a.jsxs(h,{type:"button",variant:","===U.decimalSeparator?"default":"outline",className:"justify-center",onClick:function(){return W("decimalSeparator",",")},children:[I("Comma")," (123,45)",","===U.decimalSeparator&&a.jsx(S,{className:"h-4 w-4 ml-2"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(x,{htmlFor:"thousandsSeparator",className:"font-medium",children:I("Thousands Separator")}),a.jsx(j,{children:a.jsxs(p,{children:[a.jsx(v,{asChild:!0,children:a.jsx(b,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(g,{children:a.jsx("p",{children:I("Character used to group thousands")})})]})})]}),a.jsxs(O,{value:U.thousandsSeparator,onValueChange:function(e){return W("thousandsSeparator",e)},children:[a.jsx(P,{children:a.jsx(F,{placeholder:I("Select thousands separator")})}),a.jsxs(D,{children:[a.jsx(k,{value:",",children:"Comma (1,234.56)"}),a.jsx(k,{value:".",children:"Dot (1.234,56)"}),a.jsx(k,{value:" ",children:"Space (1 234.56)"}),a.jsx(k,{value:"none",children:"None (123456.78)"})]})]})]}),a.jsx("div",{className:"space-y-3 border rounded-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(x,{htmlFor:"floatNumber",className:"font-medium",children:I("Show Decimals")}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:I("Display decimal places in amounts")})]}),a.jsx(A,{id:"floatNumber",checked:U.floatNumber,onCheckedChange:function(e){return W("floatNumber",e)}})]})}),a.jsx("div",{className:"space-y-3 border rounded-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(x,{htmlFor:"currencySymbolSpace",className:"font-medium",children:I("Add Space")}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:I("Space between amount and symbol")})]}),a.jsx(A,{id:"currencySymbolSpace",checked:U.currencySymbolSpace,onCheckedChange:function(e){return W("currencySymbolSpace",e)}})]})})]})]})})]})})})})})})}}})}();

!function(){function e(l){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(l)}function l(e,l){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);l&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function r(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach(function(l){s(e,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))})}return e}function s(l,r,s){return(r=function(l){var r=function(l,r){if("object"!=e(l)||!l)return l;var s=l[Symbol.toPrimitive];if(void 0!==s){var t=s.call(l,r||"default");if("object"!=e(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(l)}(l,"string");return"symbol"==e(r)?r:r+""}(r))in l?Object.defineProperty(l,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[r]=s,l}function t(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,l){return function(e){if(Array.isArray(e))return e}(e)||function(e,l){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,t,a,n,i=[],c=!0,o=!1;try{if(a=(r=r.call(e)).next,0===l){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=a.call(r)).done)&&(i.push(s.value),i.length!==l);c=!0);}catch(e){o=!0,t=e}finally{try{if(!c&&null!=r.return&&(n=r.return(),Object(n)!==n))return}finally{if(o)throw t}}return i}}(e,l)||n(e,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,l){if(e){if("string"==typeof e)return i(e,l);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,l):void 0}}function i(e,l){(null==l||l>e.length)&&(l=e.length);for(var r=0,s=Array(l);r<l;r++)s[r]=e[r];return s}System.register(["./ui-legacy-Df76W54t.js","./page-template-legacy-et8O2PIf.js","./app-legacy-Ct73uABr.js","./pagination-legacy-C5GfrDQP.js","./search-and-filter-bar-legacy-CmRxlo_P.js","./language-switcher-legacy-BfnK_KLk.js","./CrudTable-legacy-CnYddiyU.js","./CrudFormModal-legacy-Ba-bBMtP.js","./CrudDeleteModal-legacy-BjIGkHEP.js","./use-initials-legacy-BTOayKFs.js","./eye-legacy-Bjr5hUAR.js","./lock-open-legacy-DtJ2AF9u.js","./lock-legacy-CiAXJP-P.js","./square-pen-legacy-Bg3q-gjR.js","./trash-2-legacy-ZzhgHTxS.js","./vendor-legacy-DNs0y6R6.js","./app-layout-legacy-BbvocKkk.js","./app-sidebar-layout-legacy-DjGq5XwB.js","./textarea-legacy-DhpF_zd4.js","./select-legacy-DJ7KqnGK.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-C3cU62dz.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./sparkles-legacy-DXvM6dmp.js","./loader-circle-legacy-BAWBSNTr.js","./copy-legacy-CyY0zsNU.js","./chevron-right-legacy-D5fLjpJA.js","./chart-column-legacy-xaxxIszB.js","./globe-legacy-D167FJxM.js","./briefcase-legacy-fFmYMQCB.js","./package-legacy-BXVFs7qu.js","./credit-card-legacy-oVK_vO6r.js","./dollar-sign-legacy-De4_eAPE.js","./mail-legacy-DchUy0NJ.js","./users-legacy-CIHfY2gt.js","./settings-legacy-BXGYMxCJ.js","./message-square-legacy-CVHCr5Dt.js","./calendar-legacy-DdDaxKxU.js","./wallet-legacy-DOeLcv8c.js","./shopping-bag-legacy-BRpvr-V3.js","./building-2-legacy-Dj3cFBKu.js","./user-legacy-cMI1gv9J.js","./arrow-left-legacy-CqQR3bfj.js","./use-favicon-legacy-CbpIBPd5.js","./cookie-consent-legacy-BD_speLP.js","./utils-legacy-4AQaPo1J.js","./date-picker-legacy-Cpc8-hXR.js","./filter-legacy-BAhWbv77.js","./list-legacy-D-kIW24o.js","./table-legacy-DMkF8XyN.js","./activity-legacy-qEFGj3ED.js","./unlink-legacy-B-z4dptl.js","./arrow-up-legacy-pwFWK0Nm.js","./arrow-right-legacy-Cfkqbzln.js","./arrow-up-down-legacy-DADQmmAj.js","./arrow-up-right-legacy-DhqDNMSc.js","./award-legacy-1YF8hGuu.js","./banknote-legacy-DvdjeEGr.js","./bell-ring-legacy-C_ZRzTvz.js","./bot-legacy-Cq7Fvcb_.js","./crown-legacy-BOlfPL-z.js","./building-legacy-Cd7zlonT.js","./youtube-legacy-CFlSkXto.js","./camera-legacy-Dd-Wp0pf.js","./wrench-legacy-DDEScOmL.js","./chart-pie-legacy-D_jHmHdg.js","./chevron-left-legacy-CBzzFiYy.js","./circle-check-big-legacy-Dccr4Wi1.js","./circle-check-legacy-BQGACsTH.js","./circle-help-legacy-_6ND9uDH.js","./pencil-line-legacy-C-iBrfpN.js","./circle-x-legacy-BdJQBC_9.js","./circle-legacy-BZU12gvH.js","./clock-legacy-OYgw2bvN.js","./code-legacy-CD7E-MSX.js","./indian-rupee-legacy-DvIWk5Aw.js","./compass-legacy-Cib5yt8q.js","./download-legacy-DkH8e7Wo.js","./droplet-legacy-BKwjobrI.js","./ellipsis-vertical-legacy-j4YSGbwm.js","./ellipsis-legacy-DBG1h6S6.js","./external-link-legacy-ByGyBoEL.js","./eye-off-legacy-BsSxS_Hc.js","./facebook-legacy-DrnaedmE.js","./power-legacy-Dv2Ix3iz.js","./graduation-cap-legacy-DUNA-Z3b.js","./navigation-legacy-BtmYfG94.js","./grip-vertical-legacy-4mYFDKFJ.js","./hammer-legacy-kJY1ntOM.js","./hard-drive-legacy-C2FYzfP2.js","./heart-legacy-D0LbDgyZ.js","./house-legacy-CsiLg80O.js","./instagram-legacy-CXTRGjkL.js","./layers-legacy-B_4hYWjh.js","./leaf-legacy-_8yl_EOv.js","./lightbulb-legacy-C1U_GpYo.js","./link-2-legacy-ChlCC2ap.js","./linkedin-legacy-iG5PF7m5.js","./map-pin-legacy-C8q_6w13.js","./menu-legacy-D4E1bl_9.js","./message-circle-legacy-xY-4Lg5Y.js","./monitor-legacy-zlm-zjjO.js","./pencil-legacy-BhqsOyIl.js","./shield-check-legacy-DU0LL7Mi.js","./phone-legacy-Bw_bEeHz.js","./play-legacy-go6--FBd.js","./qr-code-legacy-BXob85p2.js","./quote-legacy-CA3k2GyX.js","./refresh-cw-legacy-ByjSkNji.js","./rocket-legacy-BfeBCF9C.js","./send-legacy-CbzSH1sf.js","./server-legacy-DQuN1-Ol.js","./share-2-legacy-D3gH8VZe.js","./shield-legacy-DQ5qNese.js","./shopping-cart-legacy-BNMDMyko.js","./smartphone-legacy-HSi3blOa.js","./star-legacy-H9DVfP6_.js","./sticky-note-legacy-9f1os5Gw.js","./store-legacy-Ca4Gm8Mw.js","./sun-medium-legacy-Dqp_z2t2.js","./tag-legacy-DfJrCzG8.js","./target-legacy-DTCKFHXT.js","./ticket-legacy-vDMhl5Iy.js","./trending-up-legacy-mdgqrkTY.js","./twitter-legacy-ok4-c2gy.js","./type-legacy-z3nQea3c.js","./user-x-legacy-gG1nfv5r.js","./video-legacy-CpBS_ohJ.js","./waves-legacy-0TsdQcdR.js","./webhook-legacy-MypP2g6T.js","./wifi-legacy-NUNRk_Rd.js","./zap-legacy-B-66XYlF.js","./radio-group-legacy-DcsT9vco.js","./checkbox-legacy-w9Z93p4k.js","./switch-legacy-t_Z_CqVY.js","./scroll-area-legacy-BQLfOKaF.js"],function(e,l){"use strict";var s,n,i,c,o,u,d,g,y,m,p,j,f,h,x,v,b,w,S,k,N,P,_,C,O,D,U,E;return{setters:[function(e){s=e.r,n=e.j},function(e){i=e.P},function(e){c=e.u,o=e.K,u=e.a7,d=e.t,g=e.P,y=e.S,m=e.C,p=e.B},function(e){j=e.P},function(e){f=e.S},function(e){h=e.D,x=e.a,v=e.b,b=e.c,w=e.d},function(e){S=e.C},function(e){k=e.C},function(e){N=e.C},function(e){P=e.u},function(e){_=e.E},function(e){C=e.K,O=e.L},function(e){D=e.L},function(e){U=e.S},function(e){E=e.T},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",function(){var e,l,A=c().t,q=o().props,R=q.auth,F=q.users,L=q.roles,T=q.planLimits,z=q.filters,I=void 0===z?{}:z,V=(null==R?void 0:R.permissions)||[],M=P(),B=a(s.useState(I.view||"list"),2),K=B[0],J=B[1],W=a(s.useState(I.search||""),2),Y=W[0],$=W[1],G=a(s.useState(I.role||"all"),2),H=G[0],Q=G[1],X=a(s.useState(!1),2),Z=X[0],ee=X[1],le=a(s.useState(!1),2),re=le[0],se=le[1],te=a(s.useState(!1),2),ae=te[0],ne=te[1],ie=a(s.useState(!1),2),ce=ie[0],oe=ie[1],ue=a(s.useState(null),2),de=ue[0],ge=ue[1],ye=a(s.useState("create"),2),me=ye[0],pe=ye[1],je=function(){var e={page:1,view:K};Y&&(e.search=Y),"all"!==H&&(e.role=H),I.per_page&&(e.per_page=I.per_page),y.get(route("users.index"),e,{preserveState:!0,preserveScroll:!0})},fe=function(e,l){switch(ge(l),e){case"view":pe("view"),se(!0);break;case"edit":pe("edit"),se(!0);break;case"delete":ne(!0);break;case"reset-password":oe(!0);break;case"toggle-status":he(l)}},he=function(e){var l="active"===e.status?"inactive":"active";d.loading("".concat(A("active"===l?"Activating":"Deactivating")," user...")),y.put(route("users.toggle-status",e.id),{},{onSuccess:function(){d.dismiss(),d.success("User ".concat("active"===l?"activated":"deactivated"," successfully"))},onError:function(e){d.dismiss(),d.error("Failed to update user status: ".concat(Object.values(e).join(", ")))}})},xe=[];if(u(V,"create-users")){var ve=!T||T.can_create;xe.push({label:T&&!ve?A("User Limit Reached ({{current}}/{{max}})",{current:T.current_users,max:T.max_users}):A("Add User"),icon:n.jsx(g,{className:"h-4 w-4 mr-2"}),variant:ve?"default":"outline",onClick:ve?function(){return ge(null),pe("create"),void se(!0)}:function(){return d.error(A("User limit exceeded. Your plan allows maximum {{max}} users. Please upgrade your plan.",{max:T.max_users}))},disabled:!ve})}A("Dashboard"),route("dashboard"),A("User Management"),route("users.index"),A("Users");var be=[{key:"name",label:A("Name"),sortable:!0,render:function(e,l){return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary text-white",children:M(l.name)}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:l.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:l.email})]})]})}},{key:"roles",label:A("Roles"),render:function(e){return e&&e.length?e.map(function(e){return n.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10 mr-1",children:e.label||e.name},e.id)}):n.jsx("span",{className:"text-muted-foreground",children:"No roles assigned"})}},{key:"created_at",label:A("Joined"),sortable:!0,render:function(e){var l;return(null===(l=window.appSettings)||void 0===l?void 0:l.formatDateTime(e,!1))||new Date(e).toLocaleDateString()}}],we=[{label:A("View"),icon:"Eye",action:"view",className:"text-blue-500",requiredPermission:"view-users"},{label:A("Edit"),icon:"Edit",action:"edit",className:"text-amber-500",requiredPermission:"edit-users"},{label:A("Reset Password"),icon:"KeyRound",action:"reset-password",className:"text-blue-500",requiredPermission:"reset-password-users"},{label:A("Toggle Status"),icon:function(e){return"active"===e.status?"Lock":"Unlock"},action:"toggle-status",className:"text-amber-500",requiredPermission:"toggle-status-users"},{label:A("Delete"),icon:"Trash2",action:"delete",className:"text-red-500",requiredPermission:"delete-users"}];return n.jsxs(i,{title:A("Users Management"),url:"/users",actions:xe,children:[n.jsx("div",{className:"bg-white/5 border-white/10 text-slate-100 rounded-lg border shadow mb-4 p-4",children:n.jsx(f,{searchTerm:Y,onSearchChange:$,onSearch:function(e){e.preventDefault(),je()},filters:[{name:"role",label:A("Role"),type:"select",value:H,onChange:function(e){Q(e);var l={page:1,view:K};Y&&(l.search=Y),"all"!==e&&(l.role=e),I.per_page&&(l.per_page=I.per_page),y.get(route("users.index"),l,{preserveState:!0,preserveScroll:!0})},options:[{value:"all",label:A("All Roles")}].concat(t((L||[]).map(function(e){return{value:e.id.toString(),label:e.label||e.name}})))}],showFilters:Z,setShowFilters:ee,hasActiveFilters:function(){return"all"!==H||""!==Y},activeFilterCount:function(){return("all"!==H?1:0)+(Y?1:0)},onResetFilters:function(){Q("all"),$(""),ee(!1),y.get(route("users.index"),{page:1,per_page:I.per_page,view:K},{preserveState:!0,preserveScroll:!0})},onApplyFilters:je,currentPerPage:(null===(e=I.per_page)||void 0===e?void 0:e.toString())||"10",onPerPageChange:function(e){var l={page:1,per_page:parseInt(e),view:K};Y&&(l.search=Y),"all"!==H&&(l.role=H),y.get(route("users.index"),l,{preserveState:!0,preserveScroll:!0})},showViewToggle:!0,activeView:K,onViewChange:function(e){J(e);var l={view:e};Y&&(l.search=Y),"all"!==H&&(l.role=H),I.per_page&&(l.per_page=I.per_page),I.page&&(l.page=I.page),y.get(route("users.index"),l,{preserveState:!0,preserveScroll:!0})}})}),"list"===K?n.jsxs("div",{className:"bg-white/5 border-white/10 text-slate-100 rounded-lg border shadow overflow-hidden",children:[n.jsx(S,{columns:be,actions:we,data:(null==F?void 0:F.data)||[],from:(null==F?void 0:F.from)||1,onAction:fe,sortField:I.sort_field,sortDirection:I.sort_direction,onSort:function(e){var l={sort_field:e,sort_direction:I.sort_field===e&&"asc"===I.sort_direction?"desc":"asc",page:1,view:K};Y&&(l.search=Y),"all"!==H&&(l.role=H),I.per_page&&(l.per_page=I.per_page),y.get(route("users.index"),l,{preserveState:!0,preserveScroll:!0})},permissions:V,entityPermissions:{view:"view-users",create:"create-users",edit:"edit-users",delete:"delete-users"}}),n.jsx(j,{from:(null==F?void 0:F.from)||0,to:(null==F?void 0:F.to)||0,total:(null==F?void 0:F.total)||0,links:null==F?void 0:F.links,entityName:A("users"),onPageChange:function(e){if(e)try{var l={page:new URL(e,window.location.origin).searchParams.get("page"),view:K};Y&&(l.search=Y),"all"!==H&&(l.role=H),I.per_page&&(l.per_page=I.per_page),y.get(route("users.index"),l,{preserveState:!0})}catch(r){console.error("Error parsing pagination URL:",r)}}})]}):n.jsxs("div",{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:null==F||null===(l=F.data)||void 0===l?void 0:l.map(function(e){var l;return n.jsx(m,{className:"bg-white/5 border-white/10 text-slate-100 text-slate-100 rounded-lg border shadow",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"h-16 w-16 rounded-full bg-primary text-white flex items-center justify-center text-lg font-bold",children:M(e.name)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-2",children:e.name}),n.jsx("p",{className:"text-sm text-slate-400 mb-3",children:e.email}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-2 w-2 rounded-full mr-2 ".concat("active"===e.status?"bg-green-500":"bg-gray-400")}),n.jsx("span",{className:"text-sm font-medium text-slate-400",children:"active"===e.status?A("Active"):A("Inactive")})]})]})]}),n.jsxs(h,{children:[n.jsx(x,{asChild:!0,children:n.jsx(p,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"1"}),n.jsx("circle",{cx:"12",cy:"5",r:"1"}),n.jsx("circle",{cx:"12",cy:"19",r:"1"})]})})}),n.jsxs(v,{align:"end",className:"w-48 z-50",sideOffset:5,children:[u(V,"view-users")&&n.jsxs(b,{onClick:function(){return fe("view",e)},children:[n.jsx(_,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:A("View User")})]}),u(V,"edit-users")&&n.jsxs(b,{onClick:function(){return fe("reset-password",e)},children:[n.jsx(C,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:A("Reset Password")})]}),u(V,"edit-users")&&n.jsxs(b,{onClick:function(){return fe("toggle-status",e)},children:["active"===e.status?n.jsx(D,{className:"h-4 w-4 mr-2"}):n.jsx(O,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"active"===e.status?A("Disable User"):A("Enable User")})]}),n.jsx(w,{}),u(V,"edit-users")&&n.jsxs(b,{onClick:function(){return fe("edit",e)},className:"text-amber-600",children:[n.jsx(U,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:A("Edit")})]}),u(V,"delete-users")&&n.jsxs(b,{onClick:function(){return fe("delete",e)},className:"text-rose-600",children:[n.jsx(E,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:A("Delete")})]})]})]})]}),n.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-3 mb-4",children:n.jsx("div",{className:"flex flex-wrap gap-1",children:e.roles&&e.roles.length>0?e.roles.map(function(e){return n.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-50 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300 ring-1 ring-inset ring-blue-700/10 dark:ring-blue-700/30",children:e.label||e.name},e.id)}):n.jsx("span",{className:"text-muted-foreground text-xs dark:text-gray-400",children:A("No role")})})}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:[A("Joined:")," ",(null===(l=window.appSettings)||void 0===l?void 0:l.formatDateTime(e.created_at,!1))||new Date(e.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2",children:[u(V,"edit-users")&&n.jsxs(p,{variant:"outline",size:"sm",onClick:function(){return fe("edit",e)},className:"flex-1 h-9 text-sm border-gray-300 dark:border-gray-600 dark:text-gray-200",children:[n.jsx(U,{className:"h-4 w-4 mr-2"}),A("Edit")]}),u(V,"view-users")&&n.jsxs(p,{variant:"outline",size:"sm",onClick:function(){return fe("view",e)},className:"flex-1 h-9 text-sm border-gray-300 dark:border-gray-600 dark:text-gray-200",children:[n.jsx(_,{className:"h-4 w-4 mr-2"}),A("View")]}),u(V,"delete-users")&&n.jsxs(p,{variant:"outline",size:"sm",onClick:function(){return fe("delete",e)},className:"flex-1 h-9 text-sm text-gray-700 border-gray-300 dark:border-gray-600 dark:text-gray-200",children:[n.jsx(E,{className:"h-4 w-4 mr-2"}),A("Delete")]})]})]})},e.id)})}),n.jsx("div",{className:"mt-6 bg-white/5 border-white/10 text-slate-100 rounded-lg border shadow overflow-hidden",children:n.jsx(j,{from:(null==F?void 0:F.from)||0,to:(null==F?void 0:F.to)||0,total:(null==F?void 0:F.total)||0,links:null==F?void 0:F.links,entityName:A("users"),onPageChange:function(e){if(e)try{var l={page:new URL(e,window.location.origin).searchParams.get("page"),view:K};Y&&(l.search=Y),"all"!==H&&(l.role=H),I.per_page&&(l.per_page=I.per_page),y.get(route("users.index"),l,{preserveState:!0})}catch(r){console.error("Error parsing pagination URL:",r)}}})})]}),n.jsx(k,{isOpen:re,onClose:function(){return se(!1)},onSubmit:function(e){e.roles&&Array.isArray(e.roles)&&(e.roles=e.roles[0]),"create"===me?(d.loading(A("Creating user...")),y.post(route("users.store"),e,{onSuccess:function(){se(!1),d.dismiss(),d.success(A("User created successfully"))},onError:function(e){d.dismiss(),d.error("Failed to create user: ".concat(Object.values(e).join(", ")))}})):"edit"===me&&(d.loading(A("Updating user...")),y.put(route("users.update",de.id),e,{onSuccess:function(){se(!1),d.dismiss(),d.success(A("User updated successfully"))},onError:function(e){d.dismiss(),d.error("Failed to update user: ".concat(Object.values(e).join(", ")))}}))},formConfig:{fields:[{name:"name",label:A("Name"),type:"text",required:!0},{name:"email",label:A("Email"),type:"email",required:!0},{name:"password",label:A("Password"),type:"password",required:!0,conditional:function(e){return"create"===e}},{name:"password_confirmation",label:A("Confirm Password"),type:"password",required:!0,conditional:function(e){return"create"===e}},{name:"roles",label:A("Role"),type:"select",options:L?L.map(function(e){return{value:e.id.toString(),label:e.label||e.name}}):[],required:!0}],modalSize:"lg"},initialData:de?r(r({},de),{},{roles:de.roles&&de.roles.length>0?de.roles[0].id.toString():""}):null,title:A("create"===me?"Add New User":"edit"===me?"Edit User":"View User"),mode:me}),n.jsx(N,{isOpen:ae,onClose:function(){return ne(!1)},onConfirm:function(){d.loading(A("Deleting user...")),y.delete(route("users.destroy",de.id),{onSuccess:function(){ne(!1),d.dismiss(),d.success(A("User deleted successfully"))},onError:function(e){d.dismiss(),d.error("Failed to delete user: ".concat(Object.values(e).join(", ")))}})},itemName:(null==de?void 0:de.name)||"",entityName:"user"}),n.jsx(k,{isOpen:ce,onClose:function(){return oe(!1)},onSubmit:function(e){d.loading(A("Resetting password...")),y.put(route("users.reset-password",de.id),e,{onSuccess:function(){oe(!1),d.dismiss(),d.success(A("Password reset successfully"))},onError:function(e){d.dismiss(),d.error("Failed to reset password: ".concat(Object.values(e).join(", ")))}})},formConfig:{fields:[{name:"password",label:A("New Password"),type:"password",required:!0},{name:"password_confirmation",label:A("Confirm Password"),type:"password",required:!0}],modalSize:"sm"},initialData:{},title:"Reset Password for ".concat((null==de?void 0:de.name)||"User"),mode:"edit"})]})})}}})}();

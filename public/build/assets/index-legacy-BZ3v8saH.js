!function(){function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,l){return function(e){if(Array.isArray(e))return e}(e)||function(e,l){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,t,s,r,c=[],i=!0,o=!1;try{if(s=(n=n.call(e)).next,0===l){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=s.call(n)).done)&&(c.push(a.value),c.length!==l);i=!0);}catch(e){o=!0,t=e}finally{try{if(!i&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(o)throw t}}return c}}(e,l)||n(e,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,l){if(e){if("string"==typeof e)return a(e,l);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,l):void 0}}function a(e,l){(null==l||l>e.length)&&(l=e.length);for(var n=0,a=Array(l);n<l;n++)a[n]=e[n];return a}System.register(["./ui-legacy-Df76W54t.js","./page-template-legacy-et8O2PIf.js","./app-legacy-Ct73uABr.js","./pagination-legacy-C5GfrDQP.js","./search-and-filter-bar-legacy-CmRxlo_P.js","./CrudTable-legacy-CnYddiyU.js","./CrudFormModal-legacy-Ba-bBMtP.js","./CrudDeleteModal-legacy-BjIGkHEP.js","./AppointmentReplyModal-legacy-DJo2XpSF.js","./vendor-legacy-DNs0y6R6.js","./app-layout-legacy-BbvocKkk.js","./app-sidebar-layout-legacy-DjGq5XwB.js","./textarea-legacy-DhpF_zd4.js","./select-legacy-DJ7KqnGK.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-C3cU62dz.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./sparkles-legacy-DXvM6dmp.js","./loader-circle-legacy-BAWBSNTr.js","./copy-legacy-CyY0zsNU.js","./chevron-right-legacy-D5fLjpJA.js","./language-switcher-legacy-BfnK_KLk.js","./globe-legacy-D167FJxM.js","./chart-column-legacy-xaxxIszB.js","./briefcase-legacy-fFmYMQCB.js","./package-legacy-BXVFs7qu.js","./credit-card-legacy-oVK_vO6r.js","./dollar-sign-legacy-De4_eAPE.js","./mail-legacy-DchUy0NJ.js","./users-legacy-CIHfY2gt.js","./settings-legacy-BXGYMxCJ.js","./message-square-legacy-CVHCr5Dt.js","./calendar-legacy-DdDaxKxU.js","./wallet-legacy-DOeLcv8c.js","./shopping-bag-legacy-BRpvr-V3.js","./building-2-legacy-Dj3cFBKu.js","./user-legacy-cMI1gv9J.js","./arrow-left-legacy-CqQR3bfj.js","./use-favicon-legacy-CbpIBPd5.js","./cookie-consent-legacy-BD_speLP.js","./utils-legacy-4AQaPo1J.js","./date-picker-legacy-Cpc8-hXR.js","./filter-legacy-BAhWbv77.js","./list-legacy-D-kIW24o.js","./table-legacy-DMkF8XyN.js","./activity-legacy-qEFGj3ED.js","./unlink-legacy-B-z4dptl.js","./arrow-up-legacy-pwFWK0Nm.js","./arrow-right-legacy-Cfkqbzln.js","./arrow-up-down-legacy-DADQmmAj.js","./arrow-up-right-legacy-DhqDNMSc.js","./award-legacy-1YF8hGuu.js","./banknote-legacy-DvdjeEGr.js","./bell-ring-legacy-C_ZRzTvz.js","./bot-legacy-Cq7Fvcb_.js","./crown-legacy-BOlfPL-z.js","./building-legacy-Cd7zlonT.js","./youtube-legacy-CFlSkXto.js","./camera-legacy-Dd-Wp0pf.js","./wrench-legacy-DDEScOmL.js","./chart-pie-legacy-D_jHmHdg.js","./chevron-left-legacy-CBzzFiYy.js","./circle-check-big-legacy-Dccr4Wi1.js","./circle-check-legacy-BQGACsTH.js","./circle-help-legacy-_6ND9uDH.js","./pencil-line-legacy-C-iBrfpN.js","./circle-x-legacy-BdJQBC_9.js","./circle-legacy-BZU12gvH.js","./clock-legacy-OYgw2bvN.js","./code-legacy-CD7E-MSX.js","./indian-rupee-legacy-DvIWk5Aw.js","./compass-legacy-Cib5yt8q.js","./download-legacy-DkH8e7Wo.js","./droplet-legacy-BKwjobrI.js","./ellipsis-vertical-legacy-j4YSGbwm.js","./ellipsis-legacy-DBG1h6S6.js","./external-link-legacy-ByGyBoEL.js","./eye-off-legacy-BsSxS_Hc.js","./eye-legacy-Bjr5hUAR.js","./facebook-legacy-DrnaedmE.js","./power-legacy-Dv2Ix3iz.js","./graduation-cap-legacy-DUNA-Z3b.js","./navigation-legacy-BtmYfG94.js","./grip-vertical-legacy-4mYFDKFJ.js","./hammer-legacy-kJY1ntOM.js","./hard-drive-legacy-C2FYzfP2.js","./heart-legacy-D0LbDgyZ.js","./house-legacy-CsiLg80O.js","./instagram-legacy-CXTRGjkL.js","./lock-open-legacy-DtJ2AF9u.js","./layers-legacy-B_4hYWjh.js","./leaf-legacy-_8yl_EOv.js","./lightbulb-legacy-C1U_GpYo.js","./link-2-legacy-ChlCC2ap.js","./linkedin-legacy-iG5PF7m5.js","./lock-legacy-CiAXJP-P.js","./map-pin-legacy-C8q_6w13.js","./menu-legacy-D4E1bl_9.js","./message-circle-legacy-xY-4Lg5Y.js","./monitor-legacy-zlm-zjjO.js","./pencil-legacy-BhqsOyIl.js","./shield-check-legacy-DU0LL7Mi.js","./phone-legacy-Bw_bEeHz.js","./play-legacy-go6--FBd.js","./qr-code-legacy-BXob85p2.js","./quote-legacy-CA3k2GyX.js","./refresh-cw-legacy-ByjSkNji.js","./rocket-legacy-BfeBCF9C.js","./send-legacy-CbzSH1sf.js","./server-legacy-DQuN1-Ol.js","./share-2-legacy-D3gH8VZe.js","./shield-legacy-DQ5qNese.js","./shopping-cart-legacy-BNMDMyko.js","./smartphone-legacy-HSi3blOa.js","./square-pen-legacy-Bg3q-gjR.js","./star-legacy-H9DVfP6_.js","./sticky-note-legacy-9f1os5Gw.js","./store-legacy-Ca4Gm8Mw.js","./sun-medium-legacy-Dqp_z2t2.js","./tag-legacy-DfJrCzG8.js","./target-legacy-DTCKFHXT.js","./ticket-legacy-vDMhl5Iy.js","./trash-2-legacy-ZzhgHTxS.js","./trending-up-legacy-mdgqrkTY.js","./twitter-legacy-ok4-c2gy.js","./type-legacy-z3nQea3c.js","./user-x-legacy-gG1nfv5r.js","./video-legacy-CpBS_ohJ.js","./waves-legacy-0TsdQcdR.js","./webhook-legacy-MypP2g6T.js","./wifi-legacy-NUNRk_Rd.js","./zap-legacy-B-66XYlF.js","./radio-group-legacy-DcsT9vco.js","./checkbox-legacy-w9Z93p4k.js","./switch-legacy-t_Z_CqVY.js","./scroll-area-legacy-BQLfOKaF.js"],function(n,a){"use strict";var t,s,r,c,i,o,u,g,p,y,d,m,j,f;return{setters:[function(e){t=e.r,s=e.j},function(e){r=e.P},function(e){c=e.u,i=e.K,o=e.P,u=e.S,g=e.t},function(e){p=e.P},function(e){y=e.S},function(e){d=e.C},function(e){m=e.C},function(e){j=e.C},function(e){f=e.A},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){n("default",function(){var n,a=c().t,b=i().props,h=b.auth,v=b.appointments,S=b.businesses,w=b.filters,x=void 0===w?{}:w,k=(null==h?void 0:h.permissions)||[],A=l(t.useState(x.search||""),2),_=A[0],C=A[1],N=l(t.useState(x.business||"all"),2),D=N[0],F=N[1],P=l(t.useState(x.status||"all"),2),O=P[0],q=P[1],E=l(t.useState(!1),2),T=E[0],I=E[1],M=l(t.useState(!1),2),B=M[0],R=M[1],z=l(t.useState(!1),2),U=z[0],K=z[1],L=l(t.useState(!1),2),V=L[0],$=L[1],G=l(t.useState(null),2),H=G[0],J=G[1],Q=l(t.useState("create"),2),W=Q[0],X=Q[1],Y=function(){var e={page:1};_&&(e.search=_),"all"!==D&&(e.business=D),"all"!==O&&(e.status=O),x.per_page&&(e.per_page=x.per_page),u.get(route("appointments.index"),e,{preserveState:!0,preserveScroll:!0})},Z=[];Z.push({label:a("Create Appointment"),icon:s.jsx(o,{className:"h-4 w-4 mr-2"}),variant:"default",onClick:function(){return J(null),X("create"),void R(!0)}});var ee=[{title:a("Dashboard"),href:route("dashboard")},{title:a("Appointments")}],le=[{key:"appointment_date",label:a("Date & Time"),sortable:!0,render:function(e,l){if(!l.appointment_date)return"N/A";try{var n,a=new Date(l.appointment_date).toISOString().split("T")[0],t=l.appointment_time||"00:00",s="".concat(a," ").concat(t,":00");return(null===(n=window.appSettings)||void 0===n?void 0:n.formatDateTime(s,!0))||"".concat(new Date(l.appointment_date).toLocaleDateString()," ").concat(t)}catch(r){return"Invalid Date"}}},{key:"business.name",label:a("Business Name"),sortable:!1,render:function(e,l){var n;return(null===(n=l.business)||void 0===n?void 0:n.name)||"N/A"}},{key:"name",label:a("Name"),sortable:!0},{key:"email",label:a("Email"),sortable:!0,render:function(e){return e||"N/A"}},{key:"phone",label:a("Phone"),render:function(e){return e||"N/A"}},{key:"message",label:a("Message"),render:function(e){return e?e.length>50?"".concat(e.substring(0,50),"..."):e:"N/A"}},{key:"status",label:a("Status"),sortable:!0,render:function(e){return s.jsx("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ring-gray-500/10 ".concat({scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800",no_show:"bg-orange-100 text-orange-800"}[e]||"bg-gray-100 text-gray-800"),children:e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")})}}],ne=[{label:a("Reply"),icon:"MessageSquare",action:"reply",className:"text-blue-500"},{label:a("Delete"),icon:"Trash2",action:"delete",className:"text-red-500"}];return s.jsxs(r,{title:a("Appointments Management"),url:"/appointments",actions:Z,breadcrumbs:ee,noPadding:!0,children:[s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow mb-4 p-4",children:s.jsx(y,{searchTerm:_,onSearchChange:C,onSearch:function(e){e.preventDefault(),Y()},filters:[{name:"business",label:a("Business"),type:"select",value:D,onChange:function(e){F(e);var l={page:1};_&&(l.search=_),"all"!==e&&(l.business=e),"all"!==O&&(l.status=O),x.per_page&&(l.per_page=x.per_page),u.get(route("appointments.index"),l,{preserveState:!0,preserveScroll:!0})},options:[{value:"all",label:a("All Businesses")}].concat(e((S||[]).map(function(e){return{value:e.id.toString(),label:e.name}})))},{name:"status",label:a("Status"),type:"select",value:O,onChange:function(e){q(e);var l={page:1};_&&(l.search=_),"all"!==D&&(l.business=D),"all"!==e&&(l.status=e),x.per_page&&(l.per_page=x.per_page),u.get(route("appointments.index"),l,{preserveState:!0,preserveScroll:!0})},options:[{value:"all",label:a("All Statuses")},{value:"scheduled",label:a("Scheduled")},{value:"confirmed",label:a("Confirmed")},{value:"completed",label:a("Completed")},{value:"cancelled",label:a("Cancelled")},{value:"no_show",label:a("No Show")}]}],showFilters:T,setShowFilters:I,hasActiveFilters:function(){return"all"!==D||"all"!==O||""!==_},activeFilterCount:function(){return("all"!==D?1:0)+("all"!==O?1:0)+(_?1:0)},onResetFilters:function(){F("all"),q("all"),C(""),I(!1),u.get(route("appointments.index"),{page:1,per_page:x.per_page},{preserveState:!0,preserveScroll:!0})},onApplyFilters:Y,currentPerPage:(null===(n=x.per_page)||void 0===n?void 0:n.toString())||"10",onPerPageChange:function(e){var l={page:1,per_page:parseInt(e)};_&&(l.search=_),"all"!==D&&(l.business=D),"all"!==O&&(l.status=O),u.get(route("appointments.index"),l,{preserveState:!0,preserveScroll:!0})}})}),s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow overflow-hidden",children:[s.jsx(d,{columns:le,actions:ne,data:(null==v?void 0:v.data)||[],from:(null==v?void 0:v.from)||1,onAction:function(e,l){switch(J(l),e){case"reply":$(!0);break;case"delete":K(!0)}},sortField:x.sort_field,sortDirection:x.sort_direction,onSort:function(e){var l={sort_field:e,sort_direction:x.sort_field===e&&"asc"===x.sort_direction?"desc":"asc",page:1};_&&(l.search=_),"all"!==D&&(l.business=D),"all"!==O&&(l.status=O),x.per_page&&(l.per_page=x.per_page),u.get(route("appointments.index"),l,{preserveState:!0,preserveScroll:!0})},permissions:k,entityPermissions:{view:"view-appointments",create:"create-appointments",edit:"edit-appointments",delete:"delete-appointments"}}),s.jsx(p,{from:(null==v?void 0:v.from)||0,to:(null==v?void 0:v.to)||0,total:(null==v?void 0:v.total)||0,links:null==v?void 0:v.links,entityName:a("appointments"),onPageChange:function(e){return u.get(e)}})]}),s.jsx(m,{isOpen:B,onClose:function(){return R(!1)},onSubmit:function(e){"create"===W?(g.loading(a("Creating appointment...")),u.post(route("appointments.store"),e,{onSuccess:function(){R(!1),g.dismiss(),g.success(a("Appointment created successfully"))},onError:function(e){g.dismiss(),g.error("Failed to create appointment: ".concat(Object.values(e).join(", ")))}})):"edit"===W&&(g.loading(a("Updating appointment...")),u.put(route("appointments.update",H.id),e,{onSuccess:function(){R(!1),g.dismiss(),g.success(a("Appointment updated successfully"))},onError:function(e){g.dismiss(),g.error("Failed to update appointment: ".concat(Object.values(e).join(", ")))}}))},formConfig:{fields:[{name:"business_id",label:"Business",type:"select",required:!0,options:S?S.map(function(e){return{value:e.id.toString(),label:e.name}}):[]},{name:"name",label:"Name",type:"text",required:!0},{name:"email",label:"Email",type:"email"},{name:"phone",label:"Phone",type:"text"},{name:"appointment_date",label:"Appointment Date",type:"date",required:!0},{name:"appointment_time",label:"Appointment Time",type:"time",required:!0},{name:"message",label:"Message",type:"textarea"},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"scheduled",label:"Scheduled"},{value:"confirmed",label:"Confirmed"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"},{value:"no_show",label:"No Show"}]},{name:"notes",label:"Notes",type:"textarea"}],modalSize:"lg"},initialData:H,title:a("create"===W?"Create Appointment":"edit"===W?"Edit Appointment":"View Appointment"),mode:W}),s.jsx(j,{isOpen:U,onClose:function(){return K(!1)},onConfirm:function(){g.loading(a("Deleting appointment...")),u.delete(route("appointments.destroy",H.id),{onSuccess:function(){K(!1),g.dismiss(),g.success(a("Appointment deleted successfully"))},onError:function(e){g.dismiss(),g.error("Failed to delete appointment: ".concat(Object.values(e).join(", ")))}})},itemName:(null==H?void 0:H.name)||"",entityName:"appointment"}),s.jsx(f,{isOpen:V,onClose:function(){return $(!1)},onSubmit:function(e){g.loading(a("Sending reply...")),u.post(route("appointments.reply",H.id),e,{onSuccess:function(){$(!1),g.dismiss(),g.success(a("Reply sent successfully"))},onError:function(e){g.dismiss(),g.error("Failed to send reply: ".concat(Object.values(e).join(", ")))}})},appointment:H})]})})}}})}();

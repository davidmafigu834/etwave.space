import{r as b,j as e}from"./ui-XtzbmeJx.js";import{P}from"./page-template-l6fMhetb.js";import{u as B,J as E,C as l,g as m,d as h,e as f,i as v,S as j}from"./app-CHRIhyY0.js";import{D as L}from"./dashboard-overview-DTKf7M2n.js";import{R as $}from"./refresh-cw-dlJt5tLk.js";import{C as U}from"./chart-column-C3hnsquQ.js";import{D as q}from"./download-Be_RfnEn.js";import{C as I}from"./credit-card-D2Mnc2f1.js";import{T as G}from"./trending-up-Bf4hc79k.js";import{B as O}from"./sparkles-CWM6veXP.js";import{N as F}from"./app-sidebar-layout-DTBrRaJF.js";import{D as z}from"./dollar-sign-CEEAnrcL.js";import{A as H}from"./activity-C9O0pEhI.js";import{T as J}from"./ticket-wGHGmMxk.js";import"./vendor-CxtKjBZA.js";import"./app-layout-Bpd3XWn2.js";import"./use-favicon-DDTtBI2L.js";import"./cookie-consent-KmXGJKj8.js";import"./utils-CCVAIzGD.js";import"./message-square-CzRq4BMj.js";import"./eye-_GBMIZ3h.js";import"./arrow-right-x-AVi3UN.js";import"./textarea-aJ3buVnx.js";import"./select-DVebJzi_.js";import"./index-C0g6bluz.js";import"./chevron-up-CWYfEUVP.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./loader-circle-CU4vh_jx.js";import"./copy-_TD738Qf.js";import"./chevron-right-4OzdI5Hc.js";import"./language-switcher-DlUYSL3d.js";import"./globe-DnSDzBxp.js";import"./briefcase-DFRvW6SB.js";import"./package-CVcIKtJX.js";import"./mail-uU9WM_iR.js";import"./users-DVhUqNZg.js";import"./settings-D1jKjqmC.js";import"./calendar-CuyjcLRJ.js";import"./wallet-B8MIIno5.js";import"./shopping-bag-DIpJi4I3.js";import"./user-UtdwWo_w.js";import"./arrow-left-hltsWyVL.js";function Le({dashboardData:a}){var g;const{t:r}=B(),[N,d]=b.useState(!1),[k,c]=b.useState(!1),w=()=>{d(!0),j.reload({only:["dashboardData"]}),setTimeout(()=>d(!1),1e3)},y=()=>{j.visit(route("analytics"))},C=async()=>{c(!0);try{const t=await fetch(route("dashboard.export-report"),{method:"GET",headers:{Accept:"application/pdf"}});if(t.ok){const s=await t.blob(),i=window.URL.createObjectURL(s),n=document.createElement("a");n.href=i,n.download="dashboard-report-".concat(new Date().toISOString().split("T")[0],".pdf"),document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(i),document.body.removeChild(n)}else console.error("Export failed:",t.statusText)}catch(t){console.error("Export failed:",t)}finally{c(!1)}},S=[{label:r("Refresh"),icon:e.jsx($,{className:"h-4 w-4 ".concat(N?"animate-spin":"")}),variant:"outline",onClick:w},{label:r("Analytics"),icon:e.jsx(U,{className:"h-4 w-4"}),variant:"outline",onClick:y},{label:r(k?"Exporting...":"Export Report"),icon:e.jsx(q,{className:"h-4 w-4"}),variant:"default",onClick:C}],o=(a==null?void 0:a.stats)||{totalCompanies:156,totalNfcCards:89,totalRevenue:45678,activePlans:89,pendingRequests:12,monthlyGrowth:15.2},p=(a==null?void 0:a.recentActivity)||[{id:1,type:"company",message:"New company registered: TechCorp Inc.",time:"2 hours ago",status:"success"},{id:2,type:"plan",message:"Plan upgrade request from ABC Ltd.",time:"4 hours ago",status:"warning"},{id:3,type:"payment",message:"Payment received: $299 from XYZ Corp",time:"6 hours ago",status:"success"},{id:4,type:"domain",message:"Domain request pending approval",time:"8 hours ago",status:"warning"}],x=(a==null?void 0:a.topPlans)||[{name:"Professional",subscribers:45,revenue:13500},{name:"Business",subscribers:32,revenue:9600},{name:"Enterprise",subscribers:12,revenue:7200}],u=t=>{var i;const s=Number(t)||0;return(i=window==null?void 0:window.appSettings)!=null&&i.formatCurrency?window.appSettings.formatCurrency(s,{showSymbol:!0}):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)},R=[{title:r("Active Plans"),value:o.activePlans.toLocaleString(),icon:e.jsx(I,{className:"h-5 w-5 text-violet-600 dark:text-violet-400"}),iconBg:"bg-violet-100 dark:bg-violet-900/40"},{title:r("Pending Requests"),value:o.pendingRequests.toLocaleString(),icon:e.jsx(E,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),iconBg:"bg-amber-100 dark:bg-amber-900/40"},{title:r("Monthly Growth"),value:"+".concat((Number(o.monthlyGrowth)||0).toFixed(1),"%"),icon:e.jsx(G,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),iconBg:"bg-emerald-100 dark:bg-emerald-900/40"},{title:r("Total Companies"),value:o.totalCompanies.toLocaleString(),icon:e.jsx(O,{className:"h-5 w-5 text-sky-600 dark:text-sky-400"}),iconBg:"bg-sky-100 dark:bg-sky-900/40"},{title:r("NFC Cards"),value:((g=o.totalNfcCards)==null?void 0:g.toLocaleString())||"0",icon:e.jsx(F,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),iconBg:"bg-green-100 dark:bg-green-900/40"},{title:r("Total Revenue"),value:u(o.totalRevenue),icon:e.jsx(z,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}),iconBg:"bg-yellow-100 dark:bg-yellow-900/40"}],T={success:{background:"from-emerald-50 via-white to-emerald-100 dark:from-emerald-900/10 dark:via-transparent dark:to-emerald-900/20",dot:"bg-emerald-500",badge:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300"},warning:{background:"from-amber-50 via-white to-amber-100 dark:from-amber-900/10 dark:via-transparent dark:to-amber-900/20",dot:"bg-amber-500",badge:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300"},error:{background:"from-rose-50 via-white to-rose-100 dark:from-rose-900/10 dark:via-transparent dark:to-rose-900/20",dot:"bg-rose-500",badge:"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-300"}},A=x.reduce((t,s)=>t+(s.subscribers||0),0);return e.jsx(P,{title:r("Dashboard"),url:"/dashboard",actions:S,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-3 sm:gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:R.map(t=>e.jsx(l,{className:"group overflow-hidden border border-transparent bg-gradient-to-br from-white/60 to-white/40 shadow-sm transition hover:border-primary/30 hover:shadow-lg dark:from-slate-900/70 dark:to-slate-900/40",children:e.jsx(m,{className:"p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.12em] text-muted-foreground",children:t.title}),e.jsx("h3",{className:"mt-2 text-2xl font-semibold text-slate-900 dark:text-slate-50",children:t.value})]}),e.jsx("div",{className:"rounded-full ".concat(t.iconBg," p-3 transition group-hover:scale-105"),children:t.icon})]})})},t.title))}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(l,{className:"border border-transparent bg-white/60 backdrop-blur dark:bg-slate-900/70",children:[e.jsx(h,{className:"border-b border-slate-100/80 dark:border-slate-800/60",children:e.jsxs(f,{className:"flex items-center justify-between text-base font-semibold text-slate-900 dark:text-slate-100",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),r("Recent Activity")]}),e.jsx(v,{variant:"secondary",className:"text-xs bg-muted/60",children:p.length})]})}),e.jsx(m,{className:"pt-4",children:e.jsx("div",{className:"space-y-3",children:p.map(t=>{const s=T[t.status];return e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-transparent bg-gradient-to-r p-4 transition hover:border-primary/20 hover:shadow-sm ".concat(s.background),children:[e.jsx("div",{className:"mt-1 h-2 w-2 rounded-full ".concat(s.dot)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:t.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.time})]}),e.jsx(v,{className:"text-xs capitalize ".concat(s.badge),children:t.type})]},t.id)})})})]}),e.jsxs(l,{className:"border border-transparent bg-white/60 backdrop-blur dark:bg-slate-900/70",children:[e.jsx(h,{className:"border-b border-slate-100/80 dark:border-slate-800/60",children:e.jsxs(f,{className:"flex items-center justify-between text-base font-semibold text-slate-900 dark:text-slate-100",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),r("Top Performing Plans")]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r("{{count}} subscribers total",{count:A.toLocaleString()})})]})}),e.jsx(m,{className:"pt-4",children:e.jsx("div",{className:"space-y-3",children:x.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-muted/40 bg-muted/40 p-3 transition hover:border-primary/30 hover:bg-muted/60",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold",children:["#",s+1]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:t.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.subscribers.toLocaleString()," ",r("subscribers")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:u(t.revenue)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r("revenue")})]})]},t.name))})})]})]}),e.jsx(L,{userType:"superadmin",stats:o})]})})}export{Le as default};

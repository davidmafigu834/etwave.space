!function(){function e(s){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(s)}function s(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);s&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,t)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?s(Object(n),!0).forEach(function(s){t(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function t(s,r,t){return(r=function(s){var r=function(s,r){if("object"!=e(s)||!s)return s;var t=s[Symbol.toPrimitive];if(void 0!==t){var n=t.call(s,r||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(s)}(s,"string");return"symbol"==e(r)?r:r+""}(r))in s?Object.defineProperty(s,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[r]=t,s}function n(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,n,a,l,i=[],c=!0,o=!1;try{if(a=(r=r.call(e)).next,0===s){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=a.call(r)).done)&&(i.push(t.value),i.length!==s);c=!0);}catch(e){o=!0,n=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(o)throw n}}return i}}(e,s)||function(e,s){if(e){if("string"==typeof e)return a(e,s);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,s):void 0}}(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,s){(null==s||s>e.length)&&(s=e.length);for(var r=0,t=Array(s);r<s;r++)t[r]=e[r];return t}System.register(["./ui-legacy-Df76W54t.js","./app-legacy--_EH1FA6.js","./select-legacy-CnS4pGYt.js","./alert-legacy-CAnySA4R.js","./mail-legacy-BRLD7bu-.js","./server-legacy-B3mppOtg.js","./user-legacy-NZm5tz0X.js","./lock-legacy-DM6U3Qmy.js","./send-legacy-CLB823Pn.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-COSjq7BD.js"],function(e,s){"use strict";var a,l,i,c,o,m,d,u,f,p,h,j,x,v,g,y,N,b,S,w,O,P,C,E,F,T,A,_,M,D;return{setters:[function(e){a=e.r,l=e.j},function(e){i=e.u,c=e.K,o=e.q,m=e.C,d=e.g,u=e.L,f=e.I,p=e.am,h=e.x,j=e.y,x=e.J,v=e.z,g=e.B,y=e.w,N=e.t,b=e.S},function(e){S=e.S,w=e.a,O=e.b,P=e.c,C=e.d},function(e){E=e.A,F=e.a},function(e){T=e.M},function(e){A=e.S},function(e){_=e.U},function(e){M=e.L},function(e){D=e.S},null,null,null,null],execute:function(){e("default",function(){var e=i().t,s=c().props.settings,I=void 0===s?{}:s,L=n(a.useState({provider:I.email_provider||"smtp",driver:I.email_driver||"smtp",host:I.email_host||"smtp.example.com",port:I.email_port||"587",username:I.email_username||"user@example.com",password:I.email_password?"••••••••••••":"",encryption:I.email_encryption||"tls",fromAddress:I.email_from_address||"noreply@example.com",fromName:I.email_from_name||"EtWave"}),2),z=L[0],U=L[1],k=n(a.useState(""),2),q=k[0],V=k[1],B=n(a.useState(!1),2),H=B[0],J=B[1],K=n(a.useState(null),2),W=K[0],Z=K[1],$=function(e,s){U(function(n){return r(r({},n),{},t({},e,s))})};return l.jsx(o,{title:e("Email Settings"),description:e("Configure email server settings for system notifications and communications"),action:l.jsxs(g,{type:"submit",form:"email-settings-form",size:"sm",children:[l.jsx(y,{className:"h-4 w-4 mr-2"}),e("Save Changes")]}),children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx("form",{id:"email-settings-form",onSubmit:function(s){s.preventDefault(),N.loading(e("Saving email settings...")),b.post(route("settings.email.update"),z,{preserveScroll:!0,onSuccess:function(s){var r,t;N.dismiss();var n=null===(r=s.props.flash)||void 0===r?void 0:r.success,a=null===(t=s.props.flash)||void 0===t?void 0:t.error;n?N.success(n):a?N.error(a):N.success(e("Email settings saved successfully"))},onError:function(s){N.dismiss();var r=s.error||Object.values(s).join(", ")||e("Failed to save email settings");N.error(r)}})},children:l.jsx(m,{children:l.jsx(d,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(T,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(u,{htmlFor:"provider",className:"font-medium",children:e("Email Provider")})]}),l.jsxs(S,{value:z.provider,onValueChange:function(e){$("provider",e),"smtp"===e?$("driver","smtp"):"mailgun"===e?$("driver","mailgun"):"ses"===e&&$("driver","ses")},children:[l.jsx(w,{children:l.jsx(O,{placeholder:"Select provider"})}),l.jsxs(P,{children:[l.jsx(C,{value:"smtp",children:"SMTP"}),l.jsx(C,{value:"mailgun",children:"Mailgun"}),l.jsx(C,{value:"ses",children:"Amazon SES"}),l.jsx(C,{value:"sendmail",children:"Sendmail"})]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(A,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(u,{htmlFor:"driver",className:"font-medium",children:e("Mail Driver")})]}),l.jsx(f,{id:"driver",value:z.driver,onChange:function(e){return $("driver",e.target.value)},placeholder:"smtp"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(A,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(u,{htmlFor:"host",className:"font-medium",children:e("SMTP Host")})]}),l.jsx(f,{id:"host",value:z.host,onChange:function(e){return $("host",e.target.value)},placeholder:"smtp.example.com"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(A,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(u,{htmlFor:"port",className:"font-medium",children:e("SMTP Port")}),l.jsx(p,{children:l.jsxs(h,{children:[l.jsx(j,{asChild:!0,children:l.jsx(x,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx(v,{children:l.jsx("p",{children:e("Common ports: 25, 465, 587, 2525")})})]})})]}),l.jsx(f,{id:"port",value:z.port,onChange:function(e){return $("port",e.target.value)},placeholder:"587"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(u,{htmlFor:"username",className:"font-medium",children:e("SMTP Username")})]}),l.jsx(f,{id:"username",value:z.username,onChange:function(e){return $("username",e.target.value)},placeholder:"user@example.com"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(M,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(u,{htmlFor:"password",className:"font-medium",children:e("SMTP Password")})]}),l.jsx(f,{id:"password",type:"password",value:z.password,onChange:function(e){return $("password",e.target.value)},placeholder:"••••••••••••"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(M,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(u,{htmlFor:"encryption",className:"font-medium",children:e("Mail Encryption")})]}),l.jsxs(S,{value:z.encryption,onValueChange:function(e){return $("encryption",e)},children:[l.jsx(w,{children:l.jsx(O,{placeholder:"Select encryption"})}),l.jsxs(P,{children:[l.jsx(C,{value:"tls",children:e("TLS")}),l.jsx(C,{value:"ssl",children:e("SSL")}),l.jsx(C,{value:"none",children:e("None")})]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(T,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(u,{htmlFor:"fromAddress",className:"font-medium",children:e("From Address")})]}),l.jsx(f,{id:"fromAddress",value:z.fromAddress,onChange:function(e){return $("fromAddress",e.target.value)},placeholder:"noreply@example.com"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(u,{htmlFor:"fromName",className:"font-medium",children:e("From Name")})]}),l.jsx(f,{id:"fromName",value:z.fromName,onChange:function(e){return $("fromName",e.target.value)},placeholder:"System"})]})]})})})})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx(m,{children:l.jsx(d,{className:"pt-6",children:l.jsxs("form",{onSubmit:function(s){s.preventDefault(),q&&(J(!0),Z(null),N.loading(e("Sending test email...")),b.post(route("settings.email.test"),{email:q},{preserveScroll:!0,onSuccess:function(s){var r,t;J(!1),N.dismiss();var n=null===(r=s.props.flash)||void 0===r?void 0:r.success,a=null===(t=s.props.flash)||void 0===t?void 0:t.error;if(n)N.success(n),Z({success:!0,message:n});else if(a)N.error(a),Z({success:!1,message:a});else{var l=e("Test email sent successfully to {{email}}",{email:q});N.success(l),Z({success:!0,message:l})}setTimeout(function(){Z(null)},5e3)},onError:function(s){J(!1),N.dismiss();var r=s.error||Object.values(s).join(", ")||e("Failed to send test email");N.error(r),Z({success:!1,message:r}),setTimeout(function(){Z(null)},5e3)}}))},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(D,{className:"h-4 w-4 text-primary"}),l.jsx("h3",{className:"text-base font-medium",children:e("Test Email Configuration")})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(u,{htmlFor:"testEmail",className:"font-medium",children:e("Send Test To")}),l.jsx(f,{id:"testEmail",type:"email",value:q,onChange:function(e){return V(e.target.value)},placeholder:"test@example.com",required:!0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e("Enter an email address to send a test message")})]}),W&&l.jsx(E,{variant:W.success?"success":"destructive",className:"py-2",children:l.jsx(F,{children:W.message})}),l.jsx(g,{type:"submit",className:"w-full",disabled:H||!q,children:H?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin mr-2",children:"◌"}),e("Sending...")]}):l.jsxs(l.Fragment,{children:[l.jsx(D,{className:"h-4 w-4 mr-2"}),e("Send Test Email")]})})]})})})})]})})})}}})}();

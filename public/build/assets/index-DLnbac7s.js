import{j as s}from"./ui-XtzbmeJx.js";import{n,$ as l,B as r,P as c,C as m,d as x,e as p,g as o,i as h}from"./app--U2u_Nco.js";import{D as d}from"./index-455wkYl-.js";import{A as j}from"./app-layout-2q3qeuPG.js";import{D as y}from"./download-qOMTGgoX.js";import{C as f}from"./circle-check-big-DSNGn9d6.js";import{T as N}from"./trash-2-CioPUL_a.js";import"./vendor-CxtKjBZA.js";import"./utils-CCVAIzGD.js";import"./app-sidebar-layout-B8sCBDfP.js";import"./textarea-DI5KsTzY.js";import"./select-DPTsfyZo.js";import"./index-C0g6bluz.js";import"./chevron-up-Cb1PVDjg.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./sparkles-CjzlGYDC.js";import"./loader-circle-sCJ-o5H7.js";import"./copy-C3tPhgbj.js";import"./chevron-right-BNDDuqe9.js";import"./language-switcher-CoqxIfsY.js";import"./globe-D7cjKJp0.js";import"./chart-column-I-WbOlTU.js";import"./briefcase-D8uqggDK.js";import"./package-sLSwB21j.js";import"./credit-card-BnHKQyNb.js";import"./dollar-sign-iDXPpovF.js";import"./mail-CeMU5Fvk.js";import"./users-DAfK_cju.js";import"./settings-DvHmCXCi.js";import"./message-square-PGEHhf8N.js";import"./calendar-BvntvMDr.js";import"./wallet-BJ9Z1Mvd.js";import"./shopping-bag-D4ViwlKW.js";import"./user-Cz4gw8yj.js";import"./arrow-left-DKs6FA6H.js";import"./use-favicon-8c0NNY31.js";import"./cookie-consent-CREhfCi9.js";function rs({updates:t,currentVersion:a,canManageUpdates:i}){return console.log("System Updates Index component rendering",{updates:t,currentVersion:a,canManageUpdates:i}),s.jsxs(j,{children:[s.jsx(n,{title:"System Updates"}),s.jsx("div",{children:"Debug: System Updates Index component loaded"}),s.jsx("div",{className:"py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"System Updates"}),i&&s.jsx(l,{href:d("system-updates.create"),children:s.jsxs(r,{children:[s.jsx(c,{className:"w-4 h-4 mr-2"}),"Upload Update"]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs(m,{children:[s.jsx(x,{children:s.jsx(p,{children:"Current Version"})}),s.jsx(o,{children:s.jsx("p",{className:"text-2xl font-bold",children:a})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[t.map(e=>s.jsx(m,{children:s.jsx(o,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e.name," (v",e.version,")"]}),s.jsx(h,{variant:e.status==="applied"?"default":e.status==="pending"?"secondary":"destructive",children:e.status_text})]}),e.description&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:e.description}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[s.jsxs("p",{children:["File Size: ",e.file_size]}),s.jsxs("p",{children:["Created: ",e.created_at," by ",e.creator]}),e.applied_at&&s.jsxs("p",{children:["Applied: ",e.applied_at," by ",e.applier]})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx(l,{href:d("system-updates.download",e.id),children:s.jsx(r,{variant:"outline",size:"sm",children:s.jsx(y,{className:"w-4 h-4"})})}),i&&e.can_apply&&s.jsxs(r,{size:"sm",onClick:()=>{confirm("Are you sure you want to apply this update?")},children:[s.jsx(f,{className:"w-4 h-4 mr-2"}),"Apply"]}),i&&e.can_delete&&s.jsx(r,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this update?")},children:s.jsx(N,{className:"w-4 h-4"})})]})]})})},e.id)),t.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No system updates found."})})]})})})]})})]})}export{rs as default};

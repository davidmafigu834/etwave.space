!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var l,a,r,n,i=[],c=!0,o=!1;try{if(r=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;c=!1}else for(;!(c=(l=r.call(s)).done)&&(i.push(l.value),i.length!==t);c=!0);}catch(e){o=!0,a=e}finally{try{if(!c&&null!=s.return&&(n=s.return(),Object(n)!==n))return}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var l={}.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,l=Array(t);s<t;s++)l[s]=e[s];return l}function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,l)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach(function(t){r(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function r(t,s,l){return(s=function(t){var s=function(t,s){if("object"!=e(t)||!t)return t;var l=t[Symbol.toPrimitive];if(void 0!==l){var a=l.call(t,s||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(t)}(t,"string");return"symbol"==e(s)?s:s+""}(s))in t?Object.defineProperty(t,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[s]=l,t}System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ct73uABr.js","./page-template-legacy-et8O2PIf.js","./textarea-legacy-DhpF_zd4.js","./switch-legacy-t_Z_CqVY.js","./rocket-legacy-BfeBCF9C.js","./sparkles-legacy-DXvM6dmp.js","./building-2-legacy-Dj3cFBKu.js","./compass-legacy-Cib5yt8q.js","./pencil-line-legacy-C-iBrfpN.js","./map-pin-legacy-C8q_6w13.js","./trash-2-legacy-ZzhgHTxS.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js","./app-layout-legacy-BbvocKkk.js","./app-sidebar-layout-legacy-DjGq5XwB.js","./select-legacy-DJ7KqnGK.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-C3cU62dz.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./loader-circle-legacy-BAWBSNTr.js","./copy-legacy-CyY0zsNU.js","./chevron-right-legacy-D5fLjpJA.js","./language-switcher-legacy-BfnK_KLk.js","./globe-legacy-D167FJxM.js","./chart-column-legacy-xaxxIszB.js","./briefcase-legacy-fFmYMQCB.js","./package-legacy-BXVFs7qu.js","./credit-card-legacy-oVK_vO6r.js","./dollar-sign-legacy-De4_eAPE.js","./mail-legacy-DchUy0NJ.js","./users-legacy-CIHfY2gt.js","./settings-legacy-BXGYMxCJ.js","./message-square-legacy-CVHCr5Dt.js","./calendar-legacy-DdDaxKxU.js","./wallet-legacy-DOeLcv8c.js","./shopping-bag-legacy-BRpvr-V3.js","./user-legacy-cMI1gv9J.js","./arrow-left-legacy-CqQR3bfj.js","./use-favicon-legacy-CbpIBPd5.js","./cookie-consent-legacy-BD_speLP.js"],function(e,s){"use strict";var l,r,n,i,c,o,d,u,m,x,j,h,p,g,f,y,v,b,N,w,k,_,C,S,P,O,D;return{setters:[function(e){l=e.R,r=e.j},function(e){n=e.u,i=e.n,c=e.C,o=e.g,d=e.d,u=e.e,m=e.B,x=e.m,j=e.k,h=e.L,p=e.I,g=e.i,f=e.S,y=e.t},function(e){v=e.P},function(e){b=e.T},function(e){N=e.S},function(e){w=e.R},function(e){k=e.S},function(e){_=e.B},function(e){C=e.C},function(e){S=e.P,P=e.C},function(e){O=e.M},function(e){D=e.T},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var s=function(e){return{title:"",slug:"",category:"",location:"",summary:"",description:"",cta_label:"",cta_link:"",is_featured:!0,order_index:e,meta:void 0}},E=function(e){if(null==e||""===e)return null;var t="number"==typeof e?e:Number(e);return Number.isNaN(t)?null:t},F=function(e){var t,i,g,f,v,w,k,_,C,O,D,F,A,T,I,B,R,M,z,L,q,U,H,$,G,J,Q,V,W,X=e.businessId,Y=e.project,Z=e.defaultOrder,K=e.onFinish,ee=n().t,te=Boolean(Y),se=l.useCallback(function(e){if("undefined"!=typeof window){var t={businessId:X,entity:"project",action:e};window.dispatchEvent(new CustomEvent("projects:updated",{detail:t})),window.dispatchEvent(new CustomEvent("catalog:updated",{detail:t}))}},[X]),le=x(Y?{title:null!==(t=Y.title)&&void 0!==t?t:"",slug:null!==(i=Y.slug)&&void 0!==i?i:"",category:null!==(g=Y.category)&&void 0!==g?g:"",location:null!==(f=Y.location)&&void 0!==f?f:"",summary:null!==(v=Y.summary)&&void 0!==v?v:"",description:null!==(w=Y.description)&&void 0!==w?w:"",cta_label:null!==(k=Y.cta_label)&&void 0!==k?k:"",cta_link:null!==(_=Y.cta_link)&&void 0!==_?_:"",is_featured:Boolean(Y.is_featured),order_index:null!==(C=Y.order_index)&&void 0!==C?C:"",meta:null!==(O=Y.meta)&&void 0!==O?O:void 0}:s(Z)),ae=ee(te?"Bring existing projects to life with vivid storytelling and proof points.":"Add your standout builds so every visitor sees the expertise behind your brand.");return r.jsx(c,{className:j("border border-slate-200 shadow-lg shadow-blue-100/40"),children:r.jsxs("form",{onSubmit:function(e){e.preventDefault(),le.transform(function(e){var t,s;return a(a({},e),{},{order_index:E(e.order_index),slug:null!==(t=null===(s=e.slug)||void 0===s?void 0:s.trim())&&void 0!==t?t:""})});var t={preserveScroll:!0,onSuccess:function(){y.success(ee(te?"Project updated successfully.":"Project created successfully.")),te?(se("update"),null==K||K()):(le.reset(),le.setData(s(Z)),se("create"))}};te&&Y?le.put(route("vcard-builder.projects.update",[X,Y.id]),t):le.post(route("vcard-builder.projects.store",X),t)},className:"space-y-6",children:[r.jsxs(d,{className:"space-y-2 border-b bg-slate-900/5",children:[r.jsxs(u,{className:"flex items-center gap-2 text-lg font-semibold",children:[te?r.jsx(S,{className:"h-5 w-5 text-sky-600"}):r.jsx(P,{className:"h-5 w-5 text-sky-600"}),ee(te?"Update project showcase":"Add a new featured project")]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:ae})]}),r.jsxs(o,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{htmlFor:"title-".concat(null!==(D=null==Y?void 0:Y.id)&&void 0!==D?D:"new"),children:ee("Project title")}),r.jsx(p,{id:"title-".concat(null!==(F=null==Y?void 0:Y.id)&&void 0!==F?F:"new"),placeholder:ee("Project Title"),value:le.data.title,onChange:function(e){return le.setData("title",e.target.value)},required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{htmlFor:"category-".concat(null!==(A=null==Y?void 0:Y.id)&&void 0!==A?A:"new"),children:ee("Category")}),r.jsx(p,{id:"category-".concat(null!==(T=null==Y?void 0:Y.id)&&void 0!==T?T:"new"),placeholder:ee("Project category or type"),value:le.data.category,onChange:function(e){return le.setData("category",e.target.value)}})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{htmlFor:"location-".concat(null!==(I=null==Y?void 0:Y.id)&&void 0!==I?I:"new"),children:ee("Location")}),r.jsx(p,{id:"location-".concat(null!==(B=null==Y?void 0:Y.id)&&void 0!==B?B:"new"),placeholder:ee("Project location"),value:le.data.location,onChange:function(e){return le.setData("location",e.target.value)}})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{htmlFor:"slug-".concat(null!==(R=null==Y?void 0:Y.id)&&void 0!==R?R:"new"),children:ee("Slug (optional)")}),r.jsx(p,{id:"slug-".concat(null!==(M=null==Y?void 0:Y.id)&&void 0!==M?M:"new"),placeholder:ee("url-friendly-identifier"),value:le.data.slug,onChange:function(e){return le.setData("slug",e.target.value)}})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{htmlFor:"summary-".concat(null!==(z=null==Y?void 0:Y.id)&&void 0!==z?z:"new"),children:ee("Summary highlight")}),r.jsx(p,{id:"summary-".concat(null!==(L=null==Y?void 0:Y.id)&&void 0!==L?L:"new"),placeholder:ee("Brief project summary"),value:le.data.summary,onChange:function(e){return le.setData("summary",e.target.value)}})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{htmlFor:"description-".concat(null!==(q=null==Y?void 0:Y.id)&&void 0!==q?q:"new"),children:ee("Detailed description")}),r.jsx(b,{id:"description-".concat(null!==(U=null==Y?void 0:Y.id)&&void 0!==U?U:"new"),placeholder:ee("Detailed project description, challenges, and outcomes."),minRows:4,value:le.data.description,onChange:function(e){return le.setData("description",e.target.value)}})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{htmlFor:"cta_label-".concat(null!==(H=null==Y?void 0:Y.id)&&void 0!==H?H:"new"),children:ee("CTA label")}),r.jsx(p,{id:"cta_label-".concat(null!==($=null==Y?void 0:Y.id)&&void 0!==$?$:"new"),placeholder:ee("Call to action text"),value:le.data.cta_label,onChange:function(e){return le.setData("cta_label",e.target.value)}})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{htmlFor:"cta_link-".concat(null!==(G=null==Y?void 0:Y.id)&&void 0!==G?G:"new"),children:ee("CTA link")}),r.jsx(p,{id:"cta_link-".concat(null!==(J=null==Y?void 0:Y.id)&&void 0!==J?J:"new"),placeholder:"https://",type:"url",value:le.data.cta_link,onChange:function(e){return le.setData("cta_link",e.target.value)}})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-dashed border-sky-200/80 bg-sky-50/60 px-3 py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-slate-900",children:ee("Spotlight this project")}),r.jsx("p",{className:"text-xs text-muted-foreground",children:ee("Featured projects will be highlighted in the preview.")})]}),r.jsx(N,{checked:le.data.is_featured,onCheckedChange:function(e){return le.setData("is_featured",e)}})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{htmlFor:"order_index-".concat(null!==(Q=null==Y?void 0:Y.id)&&void 0!==Q?Q:"new"),children:ee("Display order")}),r.jsx(p,{id:"order_index-".concat(null!==(V=null==Y?void 0:Y.id)&&void 0!==V?V:"new"),type:"number",min:"0",value:null!==(W=le.data.order_index)&&void 0!==W?W:"",onChange:function(e){var t=e.target.value;le.setData("order_index",""===t?"":Number(t))}})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 border-t bg-slate-50 px-6 py-4",children:[te&&r.jsx(m,{type:"button",variant:"ghost",onClick:K,disabled:le.processing,children:ee("Cancel")}),r.jsx(m,{type:"submit",disabled:le.processing,children:ee(te?"Save project":"Publish project showcase")})]})]})})},A=function(e){var t,s=e.project,l=e.onEdit,a=e.onDelete,i=n().t;return r.jsxs(c,{className:"relative overflow-hidden border border-slate-200/80 shadow-sm transition-all hover:-translate-y-0.5 hover:shadow-lg",children:[r.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-sky-500 via-cyan-400 to-emerald-400"}),r.jsxs(o,{className:"space-y-4 pt-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(g,{variant:"outline",className:"flex items-center gap-1 border-sky-200 bg-sky-50 text-sky-800",children:[r.jsx(_,{className:"h-3.5 w-3.5"}),s.category||i("No category")]}),s.is_featured&&r.jsxs(g,{className:"bg-gradient-to-r from-violet-500 to-sky-500 text-white",children:[r.jsx(k,{className:"mr-1 h-3.5 w-3.5"}),i("Featured")]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(C,{className:"h-4 w-4"}),i("Order"),": ",null!==(t=s.order_index)&&void 0!==t?t:"—"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-start gap-2",children:r.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:s.title})}),s.location&&r.jsxs("p",{className:"flex items-center gap-1 text-sm text-slate-500",children:[r.jsx(O,{className:"h-4 w-4"})," ",s.location]}),s.summary&&r.jsx("p",{className:"text-sm font-medium text-slate-700",children:s.summary}),s.description&&r.jsx("p",{className:"text-sm leading-relaxed text-slate-600 whitespace-pre-line",children:s.description})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-4",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:s.cta_label&&s.cta_link?r.jsxs("span",{children:[s.cta_label," ·"," ",r.jsx("a",{href:s.cta_link,target:"_blank",rel:"noreferrer",className:"text-sky-600 underline-offset-4 hover:underline",children:s.cta_link})]}):r.jsx("span",{children:i("No CTA configured yet.")})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(m,{variant:"outline",size:"sm",onClick:l,children:[r.jsx(S,{className:"mr-1 h-4 w-4"}),i("Edit")]}),r.jsxs(m,{variant:"destructive",size:"sm",onClick:a,children:[r.jsx(D,{className:"mr-1 h-4 w-4"}),i("Remove")]})]})]})]})]})};e("default",function(e){var s=e.business,a=e.projects,x=n().t,j=t(l.useState(null),2),h=j[0],p=j[1],g=l.useMemo(function(){var e;return h&&null!==(e=a.find(function(e){return e.id===h}))&&void 0!==e?e:null},[h,a]);return r.jsxs(v,{children:[r.jsx(i,{title:x("Featured Projects Manager")}),r.jsxs("div",{className:"space-y-10",children:[r.jsxs("section",{className:"relative overflow-hidden rounded-3xl border border-slate-200 bg-gradient-to-r from-slate-900 via-sky-900 to-slate-800 p-8 text-white shadow-xl",children:[r.jsx("div",{className:"absolute inset-y-0 right-0 hidden w-1/2 skew-x-[-12deg] bg-white/10 blur-3xl lg:block"}),r.jsxs("div",{className:"relative z-10 grid gap-6 lg:grid-cols-[1.4fr,1fr] lg:items-center",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-sm",children:[r.jsx(w,{className:"h-4 w-4"}),x("Position your builds front and centre")]}),r.jsxs("h1",{className:"text-3xl font-semibold leading-tight lg:text-4xl",children:[x("Featured Projects")," ",r.jsx("span",{className:"font-light text-sky-200",children:x("curated for your vCard")})]}),r.jsx("p",{className:"max-w-2xl text-base text-slate-200",children:x("Transform your projects into powerful proof. Capture a project, add its impact, and watch the preview update instantly—no design work required.")})]}),r.jsx(c,{className:"bg-white/95 text-slate-900 shadow-2xl",children:r.jsxs(o,{className:"flex h-full flex-col justify-between gap-4 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(k,{className:"h-6 w-6 text-sky-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:x("Projects showcased")}),r.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:a.length})]})]}),r.jsxs("div",{className:"grid gap-2 text-sm text-slate-500",children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(_,{className:"h-4 w-4 text-sky-500"}),x("Business"),": ",s.name]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(C,{className:"h-4 w-4 text-sky-500"}),x("Category"),": ",s.business_type||x("Not specified")]})]})]})})]})]}),r.jsxs("div",{className:"grid gap-8 xl:grid-cols-[1.1fr,1fr] xl:items-start",children:[r.jsxs("div",{className:"space-y-6",children:[g?r.jsx(F,{businessId:s.id,project:g,defaultOrder:a.length,onFinish:function(){return p(null)}},g.id):r.jsx(F,{businessId:s.id,defaultOrder:a.length}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:x("Project library")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:x("These projects will appear in the Featured Projects section of your vCard.")})]})}),r.jsxs("div",{className:"grid gap-4",children:[0===a.length&&r.jsx(c,{className:"border border-dashed border-sky-200 bg-sky-50/80",children:r.jsxs(o,{className:"flex flex-col items-center gap-3 py-10 text-center",children:[r.jsx(k,{className:"h-8 w-8 text-sky-500"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-base font-semibold text-slate-800",children:x("Showcase your first project")}),r.jsx("p",{className:"text-sm text-slate-600",children:x("Add your first project to get started.")})]})]})}),a.map(function(e){return h===e.id?null:r.jsx(A,{project:e,onEdit:function(){return p(e.id)},onDelete:function(){return function(e){window.confirm(x("Remove “:title” from your featured projects?",{title:e.title}))&&f.delete(route("vcard-builder.projects.destroy",[s.id,e.id]),{preserveScroll:!0,onSuccess:function(){if("undefined"!=typeof window){var e={businessId:s.id,entity:"project",action:"delete"};window.dispatchEvent(new CustomEvent("projects:updated",{detail:e})),window.dispatchEvent(new CustomEvent("catalog:updated",{detail:e}))}y.success(x("Project removed."))}})}(e)}},e.id)})]})]})]}),r.jsxs("aside",{className:"space-y-4",children:[r.jsxs(c,{className:"border border-slate-200/80 bg-white/70 backdrop-blur",children:[r.jsx(d,{children:r.jsxs(u,{className:"flex items-center gap-2 text-slate-900",children:[r.jsx(k,{className:"h-5 w-5 text-sky-500"}),x("Helpful prompts")]})}),r.jsxs(o,{className:"space-y-4 text-sm text-slate-600",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"font-medium text-slate-800",children:x("Tell the story")}),r.jsx("p",{children:x("Explain the project, its impact, and the results.")})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"font-medium text-slate-800",children:x("Add proof")}),r.jsx("p",{children:x("Include metrics, results, or testimonials that demonstrate value.")})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"font-medium text-slate-800",children:x("Link to more")}),r.jsx("p",{children:x("Add a call-to-action to guide visitors to more information.")})]})]})]}),r.jsx(c,{className:"border border-slate-200/80 bg-gradient-to-br from-sky-500 via-sky-400 to-cyan-400 text-white",children:r.jsxs(o,{className:"space-y-3 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:x("Need visuals?")}),r.jsx("p",{className:"text-sm text-sky-50",children:x("Add images to make your projects more engaging.")}),r.jsx(m,{variant:"secondary",className:"w-full bg-white text-sky-600 hover:bg-slate-100",children:x("Open media library")})]})})]})]})]})]})})}}})}();

System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ccoue2ey.js"],function(e,c){"use strict";var n,t,a;return{setters:[function(e){n=e.r,t=e.j},function(e){a=e.K}],execute:function(){e("R",function(e){var o=e.onVerify,i=e.onExpired,u=e.onError,p=a().props.settings,d=void 0===p?{}:p,w=n.useRef(null),l="true"===d.recaptchaEnabled||!0===d.recaptchaEnabled||1===d.recaptchaEnabled||"1"===d.recaptchaEnabled,h=d.recaptchaVersion||"v2",s=d.recaptchaSiteKey||"";r={recaptchaEnabled:l,recaptchaVersion:h,recaptchaSiteKey:s};var f=function(){return new Promise(function(e,c){window.grecaptcha&&window.grecaptcha.ready?window.grecaptcha.ready(function(){window.grecaptcha.execute(s,{action:"submit"}).then(function(c){o(c),e(c)}).catch(function(e){u&&u(),c(e)})}):c(new Error("reCAPTCHA not loaded"))})};return window.recaptchaExecute=function(){var e;return"v3"===r.recaptchaVersion?f():Promise.resolve((null===(e=window.grecaptcha)||void 0===e?void 0:e.getResponse(c))||"")},n.useEffect(function(){if(l&&s){var e=function(){window.grecaptcha&&window.grecaptcha.render&&w.current&&null===c&&(c=window.grecaptcha.render(w.current,{sitekey:s,callback:function(e){o(e)},"expired-callback":function(){i&&i()},"error-callback":function(){u&&u()}}))},n=function(){f().catch(function(){})};if(window.grecaptcha)"v2"===h?e():n();else{window.onRecaptchaReady=function(){"v2"===h?e():n()};var t=document.createElement("script");t.src="v3"===h?"https://www.google.com/recaptcha/api.js?render=".concat(s):"https://www.google.com/recaptcha/api.js?onload=onRecaptchaReady&render=explicit",document.head.appendChild(t)}return function(){if(null!==c&&window.grecaptcha){try{window.grecaptcha.reset(c)}catch(e){}c=null}}}},[]),l&&s&&"v2"===h?t.jsx("div",{ref:w}):null});var c=null,r={};e("e",function(){return window.recaptchaExecute?window.recaptchaExecute():Promise.resolve("")})}}});

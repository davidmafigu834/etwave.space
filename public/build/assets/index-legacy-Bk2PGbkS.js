!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function a(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?n(Object(s),!0).forEach(function(n){t(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function t(n,a,t){return(a=function(n){var a=function(n,a){if("object"!=e(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var s=t.call(n,a||"default");if("object"!=e(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(n)}(n,"string");return"symbol"==e(a)?a:a+""}(a))in n?Object.defineProperty(n,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[a]=t,n}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,a="function"==typeof Symbol?Symbol:{},t=a.iterator||"@@iterator",l=a.toStringTag||"@@toStringTag";function i(a,t,s,l){var i=t&&t.prototype instanceof o?t:o,d=Object.create(i.prototype);return r(d,"_invoke",function(a,t,s){var r,l,i,o=0,d=s||[],u=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,a){return r=n,l=0,i=e,m.n=a,c}};function p(a,t){for(l=a,i=t,n=0;!u&&o&&!s&&n<d.length;n++){var s,r=d[n],p=m.p,h=r[2];a>3?(s=h===t)&&(i=r[(l=r[4])?5:(l=3,3)],r[4]=r[5]=e):r[0]<=p&&((s=a<2&&p<r[1])?(l=0,m.v=t,m.n=r[1]):p<h&&(s=a<3||r[0]>t||t>h)&&(r[4]=a,r[5]=t,m.n=h,l=0))}if(s||a>1)return c;throw u=!0,t}return function(s,d,h){if(o>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,h),l=d,i=h;(n=l<2?e:i)||!u;){r||(l?l<3?(l>1&&(m.n=-1),p(l,i)):m.n=i:m.v=i);try{if(o=2,r){if(l||(s="next"),n=r[s]){if(!(n=n.call(r,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,l<2&&(l=0)}else 1===l&&(n=r.return)&&n.call(r),l<2&&(i=TypeError("The iterator does not provide a '"+s+"' method"),l=1);r=e}else if((n=(u=m.n<0)?i:a.call(t,m))!==c)break}catch(n){r=e,l=1,i=n}finally{o=1}}return{value:n,done:u}}}(a,s,l),!0),d}var c={};function o(){}function d(){}function u(){}n=Object.getPrototypeOf;var m=[][t]?n(n([][t]())):(r(n={},t,function(){return this}),n),p=u.prototype=o.prototype=Object.create(m);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,r(e,l,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=u,r(p,"constructor",u),r(u,"constructor",d),d.displayName="GeneratorFunction",r(u,l,"GeneratorFunction"),r(p),r(p,l,"Generator"),r(p,t,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(s=function(){return{w:i,m:h}})()}function r(e,n,a,t){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}r=function(e,n,a,t){function l(n,a){r(e,n,function(e){return this._invoke(n,a,e)})}n?s?s(e,n,{value:a,enumerable:!t,configurable:!t,writable:!t}):e[n]=a:(l("next",0),l("throw",1),l("return",2))},r(e,n,a,t)}function l(e,n,a,t,s,r,l){try{var i=e[r](l),c=i.value}catch(e){return void a(e)}i.done?n(c):Promise.resolve(c).then(t,s)}function i(e){return function(){var n=this,a=arguments;return new Promise(function(t,s){var r=e.apply(n,a);function i(e){l(r,t,s,i,c,"next",e)}function c(e){l(r,t,s,i,c,"throw",e)}i(void 0)})}}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var t,s,r,l,i=[],c=!0,o=!1;try{if(r=(a=a.call(e)).next,0===n){if(Object(a)!==a)return;c=!1}else for(;!(c=(t=r.call(a)).done)&&(i.push(t.value),i.length!==n);c=!0);}catch(e){o=!0,s=e}finally{try{if(!c&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(o)throw s}}return i}}(e,n)||o(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){if(e){if("string"==typeof e)return d(e,n);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,n):void 0}}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=Array(n);a<n;a++)t[a]=e[a];return t}System.register(["./ui-legacy-Df76W54t.js","./page-template-legacy-vdr7rymY.js","./switch-legacy-DR4XdF-9.js","./app-legacy--_EH1FA6.js","./tabs-legacy-CG_5CLlK.js","./CrudDeleteModal-legacy-B7dcXYhE.js","./react-stripe.esm-legacy-DaQMvUkh.js","./loader-circle-legacy-BeSZcCZ2.js","./copy-legacy-B65eKCL5.js","./circle-check-big-legacy-BmT8bW7v.js","./credit-card-legacy-D9le2VX2.js","./external-link-legacy-Oleok4lO.js","./wallet-legacy-DkvJP23h.js","./alert-legacy-CAnySA4R.js","./indian-rupee-legacy-x0PyNiZY.js","./tag-legacy-DFdF1Wcu.js","./globe-legacy-D5ETsV0D.js","./bot-legacy-D6-1vktY.js","./circle-check-legacy-Db25cqmC.js","./sparkles-legacy-CpybO37S.js","./crown-legacy-MNrEq8Mx.js","./pencil-legacy-ZcRT5tb0.js","./trash-2-legacy-BHziuAts.js","./banknote-legacy-DOJMfX7K.js","./arrow-up-right-legacy-0FJVws6_.js","./zap-legacy-S8IPLZAD.js","./clock-legacy-DPFTDwZl.js","./hard-drive-legacy-e1S4Y4SJ.js","./users-legacy-CHx64N_f.js","./store-legacy-B3ahqPE2.js","./vendor-legacy-DNs0y6R6.js","./app-layout-legacy-Ddjw4cyv.js","./app-sidebar-layout-legacy-DNUIHr2c.js","./textarea-legacy-C9BYI3_s.js","./select-legacy-CnS4pGYt.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-COSjq7BD.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./chevron-right-legacy-BajxNCtJ.js","./language-switcher-legacy-DyZl0IOB.js","./chart-column-legacy-pf9KtNzA.js","./briefcase-legacy-qN8cP4rv.js","./package-legacy-BhxOSnhZ.js","./dollar-sign-legacy-Bra6CllU.js","./mail-legacy-BRLD7bu-.js","./settings-legacy-C4yHeyf-.js","./message-square-legacy-tsOtqq3E.js","./calendar-legacy-iowv-fv-.js","./shopping-bag-legacy-CZi31-ql.js","./user-legacy-NZm5tz0X.js","./arrow-left-legacy-DNBUkron.js","./use-favicon-legacy-CK09Bl0i.js","./cookie-consent-legacy-Dhln_i9Y.js","./utils-legacy-4AQaPo1J.js"],function(n,r){"use strict";var l,d,u,m,p,h,x,y,f,j,v,b,g,N,w,C,_,S,P,k,E,T,A,M,F,O,z,I,R,D,K,B,q,Y,X,L,U,W,G,J,H,V,$,Z,Q,ee,ne,ae,te,se,re,le,ie,ce,oe,de,ue,me,pe,he,xe,ye,fe;return{setters:[function(e){l=e.r,d=e.j},function(e){u=e.P},function(e){m=e.S},function(e){p=e.u,h=e.t,x=e.S,y=e.L,f=e.I,j=e.B,v=e.C,b=e.g,g=e.o,N=e.d,w=e.e,C=e.r,_=e.J,S=e.f,P=e.i,k=e.D,E=e.a,T=e.b,A=e.c,M=e.K,F=e.ag,O=e.P,z=e.X},function(e){I=e.T,R=e.a,D=e.b},function(e){K=e.C},function(e){B=e.l,q=e.E,Y=e.u,X=e.a,L=e.C},function(e){U=e.L},function(e){W=e.C},function(e){G=e.C},function(e){J=e.C},function(e){H=e.E},function(e){V=e.W},function(e){$=e.A,Z=e.a},function(e){Q=e.C,ee=e.H,ne=e.I},function(e){ae=e.T},function(e){te=e.G},function(e){se=e.B},function(e){re=e.C},function(e){le=e.S},function(e){ie=e.C,ce=e.B},function(e){oe=e.P},function(e){de=e.T},function(e){ue=e.B},function(e){me=e.A},function(e){pe=e.Z},function(e){he=e.C},function(e){xe=e.H},function(e){ye=e.U},function(e){fe=e.S},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var r=document.createElement("style");function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=p().t,t=c(l.useState(!1),2),r=t[0],d=t[1],u=function(){var a=i(s().m(function a(t,r){var l,i;return s().w(function(a){for(;;)switch(a.n){case 0:if(d(!0),l={stripe:"stripe.payment",paypal:"paypal.payment",bank:"bank.payment",razorpay:"razorpay.payment",mercadopago:"mercadopago.payment",paystack:"paystack.payment",flutterwave:"flutterwave.payment"}[t]){a.n=1;break}return h.error(n("Invalid payment method")),d(!1),a.a(2);case 1:i=m(t,r),x.post(route(l),i,{onSuccess:function(a){var t,s;null!==(t=a.props)&&void 0!==t&&null!==(t=t.flash)&&void 0!==t&&t.success?h.success(a.props.flash.success):h.success(n("Payment successful")),null===(s=e.onSuccess)||void 0===s||s.call(e)},onError:function(a){var t,s=(null==a?void 0:a.message)||(null==a?void 0:a.error)||n("Payment failed");h.error(s),null===(t=e.onError)||void 0===t||t.call(e,s)},onFinish:function(){d(!1)}});case 2:return a.a(2)}},a)}));return function(e,n){return a.apply(this,arguments)}}(),m=function(e,n){return a({plan_id:n.planId,billing_cycle:n.billingCycle,coupon_code:n.couponCode||""},n)};return{processing:r,processPayment:u,validatePaymentData:function(e,a){var t,s=function(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=o(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var t=0,s=function(){};return{s:s,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,r=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw r}}}}({stripe:["payment_method_id","cardholder_name"],paypal:["order_id","payment_id"],bank:["amount"],razorpay:["payment_id","order_id","signature"],mercadopago:["payment_id","status"],paystack:["payment_id"],flutterwave:["payment_id"]}[e]||[]);try{for(s.s();!(t=s.n()).done;){var r=t.value;if(!a[r])return h.error(n("".concat(r," is required"))),!1}}catch(l){s.e(l)}finally{s.f()}return!0},formatPaymentData:m}}r.textContent=".cashfree-modal-backdrop,.cashfree-modal,[id*=cashfree],[class*=cashfree]{z-index:99999!important}.cashfree-modal-content,.cashfree-modal iframe,[id*=cashfree] iframe{pointer-events:auto!important;z-index:100000!important}.cashfree-modal-backdrop{pointer-events:auto!important}\n/*$vite$:1*/",document.head.appendChild(r),n("default",function(n){var t=n.plans,r=n.billingCycle,o=void 0===r?"monthly":r,y=(n.hasDefaultPlan,n.isAdmin),f=void 0!==y&&y,v=n.currentPlan,b=n.userTrialUsed,g=(n.paymentMethods,p().t),N=M().props.flash,w=c(l.useState(t),2),C=w[0],_=w[1],S=c(l.useState(o),2),P=S[0],k=S[1],E=c(l.useState(!1),2),T=E[0],A=E[1],B=c(l.useState(null),2),q=B[0],Y=B[1],X=c(l.useState(!1),2),L=X[0],U=X[1],W=c(l.useState(null),2),G=W[0],H=W[1],$=c(l.useState(!1),2),Z=$[0],ee=$[1],ae=function(e){var n;if("undefined"!=typeof window&&null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency){var a="number"==typeof e?e:parseFloat(e);return window.appSettings.formatCurrency(a,{showSymbol:!0})}return e};l.useEffect(function(){_(t)},[t]),l.useEffect(function(){null!=N&&N.error&&h.error(N.error),null!=N&&N.success&&h.success(N.success)},[N]);var je=function(){var e=i(s().m(function e(n){var t,r,l;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!(t=C.find(function(e){return e.id===n}))){e.n=5;break}return e.p=1,e.n=2,fetch(route("payment.methods",{user_id:(null==v?void 0:v.user_id)||void 0}));case 2:return r=e.v,e.n=3,r.json();case 3:l=e.v,H(a(a({},t),{},{paymentMethods:l})),U(!0),e.n=5;break;case 4:e.p=4,e.v,h.error(g("Failed to load payment methods"));case 5:return e.a(2)}},e,null,[[1,4]])}));return function(n){return e.apply(this,arguments)}}(),ve=function(e){return v&&v.id===e.id&&v.expires_at&&new Date(v.expires_at)>new Date?d.jsxs(j,{disabled:!0,className:"w-full bg-green-100 text-green-800 border-green-200",children:[d.jsx(ie,{className:"h-4 w-4 mr-2"}),g("Already Subscribed")]}):e.is_current?d.jsxs(j,{disabled:!0,className:"w-full",children:[d.jsx(ie,{className:"h-4 w-4 mr-2"}),g("Current Plan")]}):e.is_trial_available&&!b?d.jsxs("div",{className:"space-y-2",children:[d.jsxs(j,{onClick:function(n){var a;n.preventDefault(),a=e.id,ee(!0),x.post(route("plans.trial"),{plan_id:a},{onFinish:function(){return ee(!1)}})},disabled:Z,variant:"outline",className:"w-full",type:"button",children:[d.jsx(pe,{className:"h-4 w-4 mr-2"}),g("Start {{days}} Day Trial",{days:e.trial_days})]}),d.jsx(j,{onClick:function(n){n.preventDefault(),je(e.id)},disabled:Z,className:"w-full",type:"button",children:g("Subscribe Now")})]}):d.jsxs("div",{className:"space-y-2",children:[e.has_pending_request?d.jsxs(j,{onClick:function(){return n=e.request_id,void x.post(route("plans.cancel-request"),{request_id:n});var n},disabled:Z,variant:"outline",className:"w-full border-red-200 text-red-600 hover:bg-red-50",children:[d.jsx(z,{className:"h-4 w-4 mr-2"}),g("Cancel Request")]}):d.jsxs(j,{onClick:function(){return n=e.id,ee(!0),void x.post(route("plans.request"),{plan_id:n,billing_cycle:P},{onFinish:function(){return ee(!1)}});var n},disabled:Z,variant:"outline",className:"w-full",children:[d.jsx(he,{className:"h-4 w-4 mr-2"}),g("Request Plan")]}),d.jsx(j,{onClick:function(){return je(e.id)},disabled:Z||v&&v.id===e.id&&v.expires_at&&new Date(v.expires_at)>new Date,className:"w-full",children:v&&v.id===e.id&&v.expires_at&&new Date(v.expires_at)>new Date?g("Already Subscribed"):g("Subscribe Now")})]})},be=function(e){return Array.isArray(e.features)&&e.features.find(function(e){return e.startsWith(g("Template Sections"))})||"Template Sections"},ge=[{key:"Custom Domain",label:g("Custom Domain"),icon:d.jsx(te,{className:"h-4 w-4"})},{key:"Subdomain",label:g("Custom Subdomain"),icon:d.jsx(te,{className:"h-4 w-4"})},{key:"PWA",label:g("PWA Support"),icon:d.jsx(F,{className:"h-4 w-4"})},{key:"AI Integration",label:g("AI Integration"),icon:d.jsx(se,{className:"h-4 w-4"})},{key:"Password Protection",label:g("Password Protection"),icon:d.jsx(re,{className:"h-4 w-4"})},{key:"Template Sections",label:g("Template Sections"),icon:d.jsx(F,{className:"h-4 w-4"})}],Ne={businesses:d.jsx(fe,{className:"h-5 w-5"}),users:d.jsx(ye,{className:"h-5 w-5"}),storage:d.jsx(xe,{className:"h-5 w-5"}),templates:d.jsx(F,{className:"h-5 w-5"}),bio_links:d.jsx(te,{className:"h-5 w-5"}),bio_links_templates:d.jsx(F,{className:"h-5 w-5"})};return d.jsx(u,{title:g("Plans"),description:g("Manage subscription plans for your customers"),url:"/plans",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:g(f?"Subscription Plans":"Choose Your Plan")}),d.jsx("p",{className:"text-muted-foreground max-w-2xl",children:g(f?"Create and manage subscription plans to offer different service tiers to your customers.":"Select the perfect plan for your business needs")})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[d.jsx(I,{value:P,onValueChange:function(e){return k(n=e),void x.get(route("plans.index"),{billing_cycle:n},{preserveState:!0});var n},className:"w-full sm:w-[400px]",children:d.jsxs(R,{className:"grid w-full grid-cols-2",children:[d.jsx(D,{value:"monthly",children:g("Monthly")}),d.jsx(D,{value:"yearly",children:g("Yearly")})]})}),f&&d.jsxs(j,{className:"w-full sm:w-auto",onClick:function(){return x.get(route("plans.create"))},children:[d.jsx(O,{className:"h-4 w-4 mr-2"}),g("Add Plan")]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:C.map(function(n){var t;return d.jsxs("div",{className:"group relative h-full flex flex-col ".concat(n.recommended?"z-10 scale-[1.02]":""),children:[d.jsxs("div",{className:"\n                absolute inset-0 rounded-2xl \n                ".concat(n.recommended?"bg-gradient-to-br from-primary/20 via-primary/10 to-transparent border-primary/30":"bg-gradient-to-br from-gray-100/80 via-gray-50/50 to-transparent border-gray-200/80"," \n                border shadow-lg transition-all duration-300 \n                group-hover:shadow-xl group-hover:shadow-primary/5\n                overflow-hidden\n              "),children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full -mr-16 -mt-16 opacity-70"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-primary/10 to-transparent rounded-full -ml-12 -mb-12 opacity-50"})]}),n.recommended&&d.jsx("div",{className:"absolute -top-4 left-0 right-0 flex justify-center z-20",children:d.jsxs("div",{className:"bg-primary text-primary-foreground px-4 py-1.5 rounded-full shadow-lg flex items-center gap-1.5 text-sm font-medium",children:[d.jsx(le,{className:"h-4 w-4"}),g("Recommended")]})}),f&&d.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[n.is_default&&d.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:g("Default")}),d.jsxs("div",{className:"\n                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium\n                    ".concat(n.status?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700","\n                  "),children:[d.jsx("span",{className:"\n                      w-2 h-2 rounded-full \n                      ".concat(n.status?"bg-emerald-500":"bg-red-500","\n                    ")}),n.status?g("Active"):g("Inactive")]})]}),!f&&n.is_current&&d.jsx("div",{className:"absolute top-4 right-4 z-10",children:d.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:[d.jsx(ie,{className:"h-3 w-3"}),g("Current")]})}),d.jsxs("div",{className:"relative z-10 flex flex-col h-full p-6 pt-8",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"\n                    text-2xl font-bold mb-2 \n                    ".concat(n.recommended?"text-primary":"","\n                  "),children:n.name}),d.jsxs("div",{className:"flex items-baseline gap-1.5 mb-3",children:[d.jsx("span",{className:"\n                      text-3xl font-extrabold \n                      ".concat(n.recommended?"text-primary":"","\n                    "),children:ae(n.price)}),d.jsxs("span",{className:"text-muted-foreground text-sm",children:["/",g(n.duration.toLowerCase())]})]}),d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:n.description}),n.trial_days>0&&d.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-primary",children:[d.jsx(le,{className:"h-3.5 w-3.5"}),g("{{days}} days free trial",{days:n.trial_days})]})]}),d.jsxs("div",{className:"relative flex items-center my-4",children:[d.jsx("div",{className:"flex-grow border-t border-gray-200"}),d.jsx("div",{className:"mx-3 bg-primary/10 text-primary p-1.5 rounded-full",children:d.jsx(re,{className:"h-4 w-4"})}),d.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),d.jsxs("div",{className:"mb-6 flex-1",children:[d.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:g("Features")}),d.jsx("ul",{className:"space-y-2.5",children:ge.map(function(a,t){var s=function(n,a){return Array.isArray(n.features)?"Template Sections"===a?n.features.some(function(e){return e.startsWith(g("Template Sections"))}):n.features.includes(a):"object"===e(n.features)&&null!==n.features&&!0===n.features[a]}(n,a.key);return d.jsxs("li",{className:"flex items-center gap-3",children:[s?d.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:d.jsx(re,{className:"h-3.5 w-3.5"})}):d.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center",children:d.jsx(z,{className:"h-3.5 w-3.5"})}),d.jsx("span",{className:"text-sm ".concat(s?"font-medium":"text-muted-foreground"),children:"Template Sections"===a.key?be(n):g(a.label)})]},t)})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:g("Usage Limits")}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent opacity-70"}),d.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[d.jsx("div",{className:"p-1.5 rounded-full bg-blue-100 text-blue-600",children:Ne.businesses}),d.jsx("div",{className:"text-xl font-bold text-blue-700",children:n.stats.businesses})]}),d.jsx("div",{className:"relative text-xs font-medium text-blue-600 uppercase tracking-wide",children:g("Businesses")})]}),d.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-transparent opacity-70"}),d.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[d.jsx("div",{className:"p-1.5 rounded-full bg-emerald-100 text-emerald-600",children:Ne.users}),d.jsx("div",{className:"text-xl font-bold text-emerald-700",children:n.stats.users})]}),d.jsx("div",{className:"relative text-xs font-medium text-emerald-600 uppercase tracking-wide",children:g("Users")})]}),d.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50 to-transparent opacity-70"}),d.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[d.jsx("div",{className:"p-1.5 rounded-full bg-amber-100 text-amber-600",children:Ne.storage}),d.jsx("div",{className:"text-xl font-bold text-amber-700",children:n.stats.storage})]}),d.jsx("div",{className:"relative text-xs font-medium text-amber-600 uppercase tracking-wide",children:g("Storage")})]}),d.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-transparent opacity-70"}),d.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[d.jsx("div",{className:"p-1.5 rounded-full bg-purple-100 text-purple-600",children:Ne.templates}),d.jsx("div",{className:"text-xl font-bold text-purple-700",children:n.stats.templates})]}),d.jsx("div",{className:"relative text-xs font-medium text-purple-600 uppercase tracking-wide",children:g("Templates")})]}),d.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-50 to-transparent opacity-70"}),d.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[d.jsx("div",{className:"p-1.5 rounded-full bg-teal-100 text-teal-600",children:Ne.bio_links}),d.jsx("div",{className:"text-xl font-bold text-teal-700",children:n.stats.bio_links})]}),d.jsx("div",{className:"relative text-xs font-medium text-teal-600 uppercase tracking-wide",children:g("Bio Links")})]}),d.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-50 to-transparent opacity-70"}),d.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[d.jsx("div",{className:"p-1.5 rounded-full bg-rose-100 text-rose-600",children:Ne.bio_links_templates}),d.jsx("div",{className:"text-xl font-bold text-rose-700",children:n.stats.bio_links_templates})]}),d.jsx("div",{className:"relative text-xs font-medium text-rose-600 uppercase tracking-wide",children:g("Bio Templates")})]})]}),n.stats.addons>0&&n.stats.addon_names&&n.stats.addon_names.length>0&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-transparent opacity-50"}),d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"p-1.5 rounded-full bg-gray-100 text-gray-600",children:d.jsx(ce,{className:"h-4 w-4"})}),d.jsxs("div",{className:"text-sm font-semibold text-gray-700",children:[g("Included Addons")," (",n.stats.addons,")"]})]}),d.jsx("div",{className:"flex flex-wrap gap-1",children:null===(t=n.stats.addon_names)||void 0===t?void 0:t.map(function(e,n){return d.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-medium",children:e},n)})})]})]})})]}),d.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200",children:f?d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(m,{checked:n.status,onCheckedChange:function(){return e=n.id,void x.post(route("plans.toggle-status",e),{},{preserveState:!0,onSuccess:function(){_(C.map(function(n){return n.id===e?a(a({},n),{},{status:!n.status}):n}))}});var e},className:n.status?"data-[state=checked]:bg-primary":""}),d.jsx("span",{className:"text-sm text-muted-foreground",children:n.status?g("Active"):g("Inactive")})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(j,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-primary hover:text-primary",title:g("Edit"),onClick:function(){return x.get(route("plans.edit",n.id))},children:d.jsx(oe,{className:"h-4 w-4"})}),!n.is_default&&d.jsx(j,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-red-400 hover:text-red-600",title:g("Delete"),onClick:function(){return function(e){Y(e),A(!0)}(n)},children:d.jsx(de,{className:"h-4 w-4"})})]})]}):ve(n)})]})]},n.id)})}),f&&d.jsx(K,{isOpen:T,onClose:function(){return A(!1)},onConfirm:function(){q&&x.delete(route("plans.destroy",q.id),{onSuccess:function(){A(!1),Y(null)}})},itemName:(null==q?void 0:q.name)||"",entityName:"plan"}),!f&&G&&d.jsx(an,{isOpen:L,onClose:function(){U(!1),H(null)},plan:G,billingCycle:P,paymentMethods:(we=G.paymentMethods,Ce=[],!0!==(null==we?void 0:we.is_manually_enabled)&&"1"!==(null==we?void 0:we.is_manually_enabled)||Ce.push({id:"manually",name:g("Manual Payment"),icon:d.jsx(ue,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_bank_enabled)&&"1"!==(null==we?void 0:we.is_bank_enabled)||Ce.push({id:"bank",name:g("Bank Transfer"),icon:d.jsx(ue,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_stripe_enabled)&&"1"!==(null==we?void 0:we.is_stripe_enabled)||Ce.push({id:"stripe",name:g("Stripe"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_paypal_enabled)&&"1"!==(null==we?void 0:we.is_paypal_enabled)||Ce.push({id:"paypal",name:g("PayPal"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_razorpay_enabled)&&"1"!==(null==we?void 0:we.is_razorpay_enabled)||Ce.push({id:"razorpay",name:g("Razorpay"),icon:d.jsx(ne,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_mercadopago_enabled)&&"1"!==(null==we?void 0:we.is_mercadopago_enabled)||null==we||!we.mercadopago_access_token||Ce.push({id:"mercadopago",name:g("MercadoPago"),icon:d.jsx(V,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_paystack_enabled)&&"1"!==(null==we?void 0:we.is_paystack_enabled)||Ce.push({id:"paystack",name:g("Paystack"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_flutterwave_enabled)&&"1"!==(null==we?void 0:we.is_flutterwave_enabled)||Ce.push({id:"flutterwave",name:g("Flutterwave"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_paytabs_enabled)&&"1"!==(null==we?void 0:we.is_paytabs_enabled)||Ce.push({id:"paytabs",name:g("PayTabs"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_skrill_enabled)&&"1"!==(null==we?void 0:we.is_skrill_enabled)||Ce.push({id:"skrill",name:g("Skrill"),icon:d.jsx(V,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_coingate_enabled)&&"1"!==(null==we?void 0:we.is_coingate_enabled)||Ce.push({id:"coingate",name:g("CoinGate"),icon:d.jsx(Q,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_payfast_enabled)&&"1"!==(null==we?void 0:we.is_payfast_enabled)||Ce.push({id:"payfast",name:g("Payfast"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_tap_enabled)&&"1"!==(null==we?void 0:we.is_tap_enabled)||Ce.push({id:"tap",name:g("Tap"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_xendit_enabled)&&"1"!==(null==we?void 0:we.is_xendit_enabled)||Ce.push({id:"xendit",name:g("Xendit"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_paytr_enabled)&&"1"!==(null==we?void 0:we.is_paytr_enabled)||Ce.push({id:"paytr",name:g("PayTR"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_mollie_enabled)&&"1"!==(null==we?void 0:we.is_mollie_enabled)||Ce.push({id:"mollie",name:g("Mollie"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_toyyibpay_enabled)&&"1"!==(null==we?void 0:we.is_toyyibpay_enabled)||Ce.push({id:"toyyibpay",name:g("toyyibPay"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_cashfree_enabled)&&"1"!==(null==we?void 0:we.is_cashfree_enabled)||Ce.push({id:"cashfree",name:g("Cashfree"),icon:d.jsx(ne,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_khalti_enabled)&&"1"!==(null==we?void 0:we.is_khalti_enabled)||Ce.push({id:"khalti",name:g("Khalti"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_iyzipay_enabled)&&"1"!==(null==we?void 0:we.is_iyzipay_enabled)||Ce.push({id:"iyzipay",name:g("Iyzipay"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_benefit_enabled)&&"1"!==(null==we?void 0:we.is_benefit_enabled)||Ce.push({id:"benefit",name:g("Benefit"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_ozow_enabled)&&"1"!==(null==we?void 0:we.is_ozow_enabled)||Ce.push({id:"ozow",name:g("Ozow"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_easebuzz_enabled)&&"1"!==(null==we?void 0:we.is_easebuzz_enabled)||Ce.push({id:"easebuzz",name:g("Easebuzz"),icon:d.jsx(ne,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_authorizenet_enabled)&&"1"!==(null==we?void 0:we.is_authorizenet_enabled)||Ce.push({id:"authorizenet",name:g("AuthorizeNet"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_fedapay_enabled)&&"1"!==(null==we?void 0:we.is_fedapay_enabled)||Ce.push({id:"fedapay",name:g("FedaPay"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_payhere_enabled)&&"1"!==(null==we?void 0:we.is_payhere_enabled)||Ce.push({id:"payhere",name:g("PayHere"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_cinetpay_enabled)&&"1"!==(null==we?void 0:we.is_cinetpay_enabled)||Ce.push({id:"cinetpay",name:g("CinetPay"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_paiement_enabled)&&"1"!==(null==we?void 0:we.is_paiement_enabled)||Ce.push({id:"paiement",name:g("Paiement Pro"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_nepalste_enabled)&&"1"!==(null==we?void 0:we.is_nepalste_enabled)||Ce.push({id:"nepalste",name:g("Nepalste"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_yookassa_enabled)&&"1"!==(null==we?void 0:we.is_yookassa_enabled)||Ce.push({id:"yookassa",name:g("YooKassa"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_aamarpay_enabled)&&"1"!==(null==we?void 0:we.is_aamarpay_enabled)||Ce.push({id:"aamarpay",name:g("Aamarpay"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_midtrans_enabled)&&"1"!==(null==we?void 0:we.is_midtrans_enabled)||Ce.push({id:"midtrans",name:g("Midtrans"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_paymentwall_enabled)&&"1"!==(null==we?void 0:we.is_paymentwall_enabled)||Ce.push({id:"paymentwall",name:g("PaymentWall"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_sspay_enabled)&&"1"!==(null==we?void 0:we.is_sspay_enabled)||Ce.push({id:"sspay",name:g("SSPay"),icon:d.jsx(J,{className:"h-5 w-5"}),enabled:!0}),!0!==(null==we?void 0:we.is_paynow_enabled)&&"1"!==(null==we?void 0:we.is_paynow_enabled)||Ce.push({id:"paynow",name:g("Paynow (Zimbabwe)"),icon:d.jsx(me,{className:"h-5 w-5"}),enabled:!0}),Ce)})]})});var we,Ce});var ve=function(e){var n=e.planId,a=e.couponCode,t=e.billingCycle,r=e.onSuccess,o=e.onCancel,u=p().t,m=Y(),x=X(),v=c(l.useState(""),2),b=v[0],g=v[1],N=je({onSuccess:r,onError:function(e){return h.error(e)}}),w=N.processing,C=N.processPayment,_=function(){var e=i(s().m(function e(r){var l,i,c,o;return s().w(function(e){for(;;)switch(e.n){case 0:if(r.preventDefault(),m&&x&&b.trim()){e.n=1;break}return h.error(u("Please fill in all required fields")),e.a(2);case 1:if(l=x.getElement(L)){e.n=2;break}return e.a(2);case 2:return e.n=3,m.createPaymentMethod({type:"card",card:l,billing_details:{name:b}});case 3:if(i=e.v,c=i.error,o=i.paymentMethod,!c){e.n=4;break}return h.error(c.message||u("Payment failed")),e.a(2);case 4:C("stripe",{planId:n,billingCycle:t,couponCode:a,payment_method_id:o.id,cardholder_name:b});case 5:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}();return d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"cardholder-name",children:u("Name on card")}),d.jsx(f,{id:"cardholder-name",type:"text",value:b,onChange:function(e){return g(e.target.value)},placeholder:u("Enter cardholder name"),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{children:u("Card details")}),d.jsx("div",{className:"p-3 border rounded-md",children:d.jsx(L,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx(j,{type:"button",variant:"outline",onClick:o,disabled:w,className:"flex-1",children:u("Cancel")}),d.jsx(j,{type:"submit",disabled:!m||w,className:"flex-1",children:w?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"h-4 w-4 mr-2 animate-spin"}),u("Processing...")]}):u("Pay Now")})]})]})};function be(e){var n=e.planId,a=e.couponCode,t=e.billingCycle,s=e.stripeKey,r=e.onSuccess,i=e.onCancel,o=p().t,u=c(l.useState(null),2),m=u[0],h=u[1];return l.useEffect(function(){s&&s.startsWith("pk_")&&h(B(s))},[s]),m?d.jsx(q,{stripe:m,children:d.jsx(ve,{planId:n,couponCode:a,billingCycle:t,onSuccess:r,onCancel:i})}):d.jsx("div",{className:"p-4 text-center text-red-500",children:o("Stripe not configured properly")})}function ge(e){var n=e.planId,a=e.planPrice,t=e.couponCode,s=e.billingCycle,r=e.paypalClientId,i=e.currency,c=e.onSuccess,o=e.onCancel,u=p().t,m=l.useRef(null),x=je({onSuccess:c,onError:function(e){return h.error(e)}}).processPayment;return l.useEffect(function(){if(r&&m.current){var e=document.createElement("script");return e.src="https://www.paypal.com/sdk/js?client-id=".concat(r,"&currency=").concat(i.toUpperCase(),"&disable-funding=credit,card"),e.async=!0,e.onload=function(){window.paypal&&m.current&&window.paypal.Buttons({createOrder:function(e,n){return n.order.create({purchase_units:[{amount:{value:a.toString(),currency_code:i.toUpperCase()}}]})},onApprove:function(e,a){return a.order.capture().then(function(a){x("paypal",{planId:n,billingCycle:s,couponCode:t,order_id:e.orderID,payment_id:a.id})})},onError:function(e){console.error("PayPal error:",e),e.message&&e.message.includes("declined")?h.error(u("Card was declined. Please try a different payment method.")):h.error(u("Payment failed. Please try again."))},onCancel:function(){o()}}).render(m.current)},document.head.appendChild(e),function(){document.head.contains(e)&&document.head.removeChild(e)}}},[r,n,s,t,i]),r?d.jsx("div",{className:"space-y-4",children:d.jsx("div",{ref:m})}):d.jsx("div",{className:"p-4 text-center text-red-500",children:u("PayPal not configured")})}function Ne(e){var n=e.planId,a=e.planPrice,t=e.couponCode,s=e.billingCycle,r=e.bankDetails,i=e.onSuccess,o=e.onCancel,u=p().t,m=c(l.useState(!1),2),y=m[0],f=m[1];return d.jsxs("div",{className:"space-y-4",children:[d.jsx(v,{children:d.jsxs(b,{className:"p-4",children:[d.jsx("h3",{className:"font-medium mb-3",children:u("Bank Transfer Details")}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsx("div",{className:"whitespace-pre-line",children:r}),d.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[d.jsxs("span",{className:"font-medium",children:[u("Amount"),": $",a]}),d.jsxs(j,{variant:"outline",size:"sm",onClick:function(){(function(e){if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(e);var n=document.createElement("textarea");return n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select(),new Promise(function(e,a){document.execCommand("copy")?(n.remove(),e()):(n.remove(),a(new Error("Copy failed")))})})("$".concat(a)).then(function(){h.success(u("Amount copied to clipboard"))}).catch(function(){h.error(u("Failed to copy amount"))})},children:[d.jsx(W,{className:"h-3 w-3 mr-1"}),u("Copy")]})]})]})]})}),d.jsx(v,{className:"border-orange-200 bg-orange-50",children:d.jsx(b,{className:"p-4",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(G,{className:"h-5 w-5 text-orange-600 mt-0.5"}),d.jsxs("div",{className:"text-sm text-orange-800",children:[d.jsx("p",{className:"font-medium mb-1",children:u("Important Instructions")}),d.jsxs("ul",{className:"space-y-1 text-xs",children:[d.jsxs("li",{children:["• ",u("Transfer the exact amount shown above")]}),d.jsxs("li",{children:["• ",u("Include your order reference in the transfer description")]}),d.jsxs("li",{children:["• ",u("Your plan will be activated after payment verification")]}),d.jsxs("li",{children:["• ",u("Verification may take 1-3 business days")]})]})]})]})})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:o,className:"flex-1",children:u("Cancel")}),d.jsx(j,{onClick:function(){f(!0),x.post(route("bank.payment"),{plan_id:n,billing_cycle:s,coupon_code:t,amount:a},{onSuccess:function(){i()},onError:function(){h.error(u("Failed to submit payment request"))},onFinish:function(){f(!1)}})},disabled:y,className:"flex-1",children:u(y?"Processing...":"I have made the payment")})]})]})}function we(e){var n=e.planId,a=(e.planPrice,e.couponCode),t=e.billingCycle,r=e.razorpayKey,c=e.currency,o=e.onSuccess,u=e.onCancel,m=p().t;l.useEffect(function(){if(!window||!window.Razorpay){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,e.onerror=function(){h.error(m("Failed to load Razorpay checkout. Please try again."))},document.body.appendChild(e),function(){document.body.contains(e)&&document.body.removeChild(e)}}},[]);var x=function(){var e=i(s().m(function e(){var l,i,d,p,x,y,f,j;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,g.post(route("razorpay.create-order"),{plan_id:n,billing_cycle:t,coupon_code:a});case 1:if(!(l=e.v).data.error){e.n=2;break}return h.error(l.data.error),e.a(2);case 2:if(i=l.data,d=i.order_id,p=i.amount,d&&p){e.n=3;break}return h.error(m("Invalid response from server")),e.a(2);case 3:if(x={key:r,amount:p,currency:c,name:"vCard",description:"Plan Subscription",order_id:d,handler:function(e){g.post(route("razorpay.verify-payment"),{razorpay_payment_id:e.razorpay_payment_id,razorpay_order_id:e.razorpay_order_id,razorpay_signature:e.razorpay_signature,plan_id:n,billing_cycle:t,coupon_code:a}).then(function(){o()}).catch(function(e){var n,a=(null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||m("Payment verification failed");h.error(a)})},prefill:{name:"",email:"",contact:""},theme:{color:"#3B82F6"},modal:{ondismiss:u}},window.Razorpay){e.n=4;break}return h.error(m("Razorpay SDK not loaded")),e.a(2);case 4:new window.Razorpay(x).open(),e.n=6;break;case 5:e.p=5,j=e.v,f=(null===(y=j.response)||void 0===y||null===(y=y.data)||void 0===y?void 0:y.error)||m("Failed to initialize payment"),h.error(f),console.error("Razorpay error:",j);case 6:return e.a(2)}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:m("You will be redirected to Razorpay to complete your payment.")}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:u,className:"flex-1",children:m("Cancel")}),d.jsx(j,{onClick:x,className:"flex-1",children:m("Pay with Razorpay")})]})]})}function Ce(e){var n=e.planId,a=(e.planPrice,e.couponCode),t=e.billingCycle,r=(e.accessToken,e.currency,e.onSuccess,e.onCancel),o=p().t,u=c(l.useState(!1),2),m=u[0],x=u[1],y=function(){var e=i(s().m(function e(){var r,l,i,c;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,x(!0),e.n=1,g.post(route("mercadopago.create-preference"),{plan_id:n,billing_cycle:t,coupon_code:a||void 0},{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});case 1:(r=e.v).data.redirect_url?window.location.href=r.data.redirect_url:(h.error(o("Failed to create payment preference")),x(!1)),e.n=3;break;case 2:e.p=2,c=e.v,i=(null===(l=c.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.error)||c.message||o("Failed to create payment preference"),h.error(i),x(!1);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:o("You will be redirected to MercadoPago to complete your payment.")}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx(j,{variant:"outline",onClick:r,className:"flex-1",disabled:m,children:o("Cancel")}),d.jsx(j,{onClick:y,className:"flex-1",disabled:m,children:m?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"h-4 w-4 mr-2 animate-spin"}),o("Processing...")]}):o("Pay with MercadoPago")})]})]})}function _e(e){var n,a=e.planId,t=e.planPrice,s=e.couponCode,r=e.billingCycle,i=e.paystackKey,c=e.currency,o=e.onSuccess,u=e.onCancel,m=p().t,x=l.useRef(!1),y=je({onSuccess:o,onError:function(e){return h.error(e)}}).processPayment;return l.useEffect(function(){if(i&&!x.current){var e=document.createElement("script");return e.src="https://js.paystack.co/v1/inline.js",e.async=!0,e.onload=function(){x.current=!0;var e=document.querySelector("[data-radix-dialog-overlay]");e&&(e.style.display="none"),window.PaystackPop.setup({key:i,email:"user@example.com",amount:Math.round(100*Number(t)),currency:c.toUpperCase(),callback:function(n){e&&(e.style.display=""),y("paystack",{planId:a,billingCycle:r,couponCode:s,payment_id:n.reference})},onClose:function(){e&&(e.style.display=""),u()}}).openIframe()},document.head.appendChild(e),function(){document.head.contains(e)&&document.head.removeChild(e)}}},[i,a,r,s,c]),i?d.jsxs("div",{className:"p-4 text-center",children:[d.jsx("p",{children:m("Redirecting to Paystack...")}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[m("Amount"),": ",null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(c," ").concat(t)]})]}):d.jsx("div",{className:"p-4 text-center text-red-500",children:m("Paystack not configured")})}function Se(e){var n=e.planId,a=e.planPrice,t=e.couponCode,s=e.billingCycle,r=e.flutterwaveKey,i=e.currency,c=e.onSuccess,o=e.onCancel,u=p().t,m=l.useRef(!1),x=je({onSuccess:c,onError:function(e){return h.error(e)}}).processPayment;return l.useEffect(function(){if(r&&!m.current){var e=document.createElement("script");return e.src="https://checkout.flutterwave.com/v3.js",e.async=!0,e.onload=function(){m.current=!0,window.FlutterwaveCheckout({public_key:r,tx_ref:"plan_".concat(n,"_").concat(Date.now()),amount:a,currency:i.toUpperCase(),payment_options:"card,mobilemoney,ussd",customer:{email:"user@example.com",phone_number:"",name:"Customer"},customizations:{title:"Plan Subscription",description:"Payment for subscription plan",logo:""},callback:function(e){"successful"===e.status?x("flutterwave",{planId:n,billingCycle:s,couponCode:t,payment_id:e.transaction_id,tx_ref:e.tx_ref}):(h.error(u("Payment was not completed")),o())},onclose:function(){o()}})},document.head.appendChild(e),function(){document.head.contains(e)&&document.head.removeChild(e)}}},[r,n,s,t,i]),r?d.jsx("div",{className:"p-4 text-center",children:d.jsx("p",{children:u("Redirecting to Flutterwave...")})}):d.jsx("div",{className:"p-4 text-center text-red-500",children:u("Flutterwave not configured")})}function Pe(e){var n,a,t=e.planId,r=e.couponCode,o=e.billingCycle,u=e.planPrice,m=(e.paytabsClientKey,e.currency),x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),C=f[0],_=f[1],S=function(){var e=i(s().m(function e(){var n,a,l,i,c,d,u,m,p;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return _(!0),e.p=1,a={plan_id:t,billing_cycle:o,coupon_code:r||null,payment_id:"pt_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),transaction_id:"txn_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),_token:null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content")},e.n=2,g.post(route("paytabs.payment"),a,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e4});case 2:if(!(l=e.v).data.success||!l.data.redirect_url){e.n=3;break}h.success(y("Redirecting to PayTabs payment page...")),setTimeout(function(){window.location.href=l.data.redirect_url},1e3),e.n=4;break;case 3:throw new Error(l.data.message||"Payment initialization failed");case 4:e.n=6;break;case 5:e.p=5,p=e.v,console.error("PayTabs payment error:",p),u=y("Payment failed. Please try again."),400===(null===(i=p.response)||void 0===i?void 0:i.status)?u=(null===(m=p.response.data)||void 0===m?void 0:m.message)||y("Invalid payment request. Please check your details."):500===(null===(c=p.response)||void 0===c?void 0:c.status)?u=y("Server error. Please try again later."):null!==(d=p.response)&&void 0!==d&&null!==(d=d.data)&&void 0!==d&&d.message?u=p.response.data.message:p.message?u=p.message:"ECONNABORTED"===p.code&&(u=y("Request timeout. Please try again.")),h.error(u),_(!1);case 6:return e.a(2)}},e,null,[[1,5]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("PayTabs Payment")]})}),d.jsx(b,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(H,{className:"h-5 w-5 text-blue-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:y("Secure Payment with PayTabs")}),d.jsx("p",{className:"text-sm text-blue-700",children:y("You will be redirected to PayTabs secure payment page to complete your transaction.")})]})]})}),d.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[y("Plan"),":"]}),d.jsx("span",{className:"text-sm text-gray-900",children:y("Subscription Plan")})]}),d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[y("Billing Cycle"),":"]}),d.jsx("span",{className:"text-sm text-gray-900 capitalize",children:o})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[y("Amount"),":"]}),d.jsx("span",{className:"text-lg font-bold text-gray-900",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(u,{showSymbol:!0}):"".concat(m," ").concat(u)})]}),r&&d.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t",children:[d.jsxs("span",{className:"text-sm font-medium text-green-600",children:[y("Coupon Applied"),":"]}),d.jsx("span",{className:"text-sm text-green-700 font-medium",children:r})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx(j,{type:"button",variant:"outline",onClick:x,className:"flex-1",disabled:C,children:y("Cancel")}),d.jsx(j,{type:"button",onClick:S,disabled:C,className:"flex-1",children:C?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay {{amount}}",{amount:null!==(a=window.appSettings)&&void 0!==a&&a.formatCurrency?window.appSettings.formatCurrency(u,{showSymbol:!0}):"".concat(m," ").concat(u)})]})})]})]})})]})}function ke(e){var n,a=e.planId,t=e.couponCode,r=e.billingCycle,o=e.planPrice,u=(e.skrillMerchantId,e.currency),m=e.onSuccess,g=e.onCancel,C=p().t,_=c(l.useState(!1),2),S=_[0],P=_[1],k=c(l.useState(""),2),E=k[0],T=k[1],A=function(){var e=i(s().m(function e(n){var l;return s().w(function(e){for(;;)switch(e.n){case 0:if(n.preventDefault(),E){e.n=1;break}return h.error(C("Please enter your email address")),e.a(2);case 1:P(!0);try{l={plan_id:a,billing_cycle:r,coupon_code:t||null,payment_id:"skrill_".concat(Date.now()),transaction_id:"txn_".concat(Date.now()),email:E},x.post(route("skrill.payment"),l,{onSuccess:function(){h.success(C("Payment successful!")),m()},onError:function(e){console.error("Skrill payment error:",e),h.error(C("Payment failed. Please try again."))},onFinish:function(){P(!1)}})}catch(s){console.error("Skrill payment error:",s),h.error(C("Payment failed. Please try again.")),P(!1)}case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(V,{className:"h-5 w-5"}),C("Skrill Payment")]})}),d.jsx(b,{children:d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"email",children:C("Email Address")}),d.jsx(f,{id:"email",type:"email",value:E,onChange:function(e){return T(e.target.value)},placeholder:C("Enter your email address"),required:!0}),d.jsx("p",{className:"text-xs text-muted-foreground",children:C("You will be redirected to Skrill to complete the payment")})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx(j,{type:"button",variant:"outline",onClick:g,className:"flex-1",children:C("Cancel")}),d.jsx(j,{type:"submit",disabled:S,className:"flex-1",children:S?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),C("Processing...")]}):C("Pay {{amount}}",{amount:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(o,{showSymbol:!0}):"".concat(u," ").concat(o)})})]})]})})]})}function Ee(e){var n,a=e.planId,t=e.couponCode,s=e.billingCycle,r=e.planPrice,i=(e.currency,e.onSuccess,e.onCancel),o=p().t,u=c(l.useState(!1),2),m=u[0],h=u[1];return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(Q,{className:"h-5 w-5 text-orange-500"}),o("CoinGate Cryptocurrency Payment")]})}),d.jsxs(b,{children:[d.jsxs($,{className:"mb-4",children:[d.jsx(C,{className:"h-4 w-4"}),d.jsx(Z,{children:o("You will be redirected to CoinGate to complete your cryptocurrency payment securely.")})]}),d.jsxs("form",{onSubmit:function(e){var n;e.preventDefault(),h(!0);var r=document.createElement("form");r.method="POST",r.action=route("coingate.payment");var l=null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content");if(l){var i=document.createElement("input");i.type="hidden",i.name="_token",i.value=l,r.appendChild(i)}var o={plan_id:a,billing_cycle:s,coupon_code:t||"",crypto_currency:"BTC"};Object.entries(o).forEach(function(e){var n=c(e,2),a=n[0],t=n[1],s=document.createElement("input");s.type="hidden",s.name=a,s.value=String(t),r.appendChild(s)}),document.body.appendChild(r),r.submit()},className:"space-y-4",children:[d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:o("Plan")}),d.jsxs("span",{className:"text-sm",children:[o(s)," ",o("billing")]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm font-medium",children:o("Amount")}),d.jsx("span",{className:"text-lg font-bold",children:(null===(n=window.appSettings)||void 0===n?void 0:n.formatCurrency(r,{showSymbol:!0}))||"₦".concat(r.toFixed(2))})]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:o("Final cryptocurrency amount will be calculated at checkout based on current exchange rates")})]}),d.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(C,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"text-xs text-blue-800",children:[d.jsx("p",{className:"font-medium mb-1",children:o("Payment Process:")}),d.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[d.jsx("li",{children:o('Click "Pay with Crypto" to proceed to CoinGate')}),d.jsx("li",{children:o("Complete payment using your selected cryptocurrency")}),d.jsx("li",{children:o("You will be redirected back after payment completion")})]})]})]})}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx(j,{type:"button",variant:"outline",onClick:i,className:"flex-1",disabled:m,children:o("Cancel")}),d.jsx(j,{type:"submit",disabled:m,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:m?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),o("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(Q,{className:"mr-2 h-4 w-4"}),o("Pay with Crypto")]})})]})]})]})]})}function Te(e){var n,t,r,o=e.planId,u=e.couponCode,m=e.billingCycle,x=e.planPrice,g=(e.payfastMerchantId,e.currency),C=(e.onSuccess,e.onCancel),S=p().t,P=c(l.useState(!1),2),k=P[0],E=P[1],T=c(l.useState({firstName:"",lastName:"",email:""}),2),A=T[0],M=T[1],F=c(l.useState({}),2),O=F[0],z=F[1],I=function(){var e={};return A.firstName.trim()||(e.firstName=S("First name is required")),A.lastName.trim()||(e.lastName=S("Last name is required")),A.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.email)||(e.email=S("Please enter a valid email address")):e.email=S("Email is required"),e},R=function(){var e=i(s().m(function e(n){var a,t,r,l,i,c;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n.preventDefault(),a=I(),z(a),!(Object.keys(a).length>0)){e.n=1;break}return h.error(S("Please fix the errors below")),e.a(2);case 1:if(!(x<5)){e.n=2;break}return h.error(S("Minimum payment amount is R5.00")),e.a(2);case 2:return E(!0),e.p=3,e.n=4,fetch(route("payfast.payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(t=document.querySelector('meta[name="csrf-token"]'))||void 0===t?void 0:t.getAttribute("content"))||""},body:JSON.stringify({plan_id:o,billing_cycle:m,coupon_code:u,customer_details:A})});case 4:return r=e.v,e.n=5,r.json();case 5:(l=e.v).success?((i=document.createElement("form")).method="POST",i.action=l.action,i.innerHTML=l.inputs,document.body.appendChild(i),i.submit()):(h.error(l.error||S("Payment failed")),E(!1)),e.n=7;break;case 6:e.p=6,c=e.v,console.error("PayFast payment error:",c),h.error(S("Payment failed. Please try again.")),E(!1);case 7:return e.a(2)}},e,null,[[3,6]])}));return function(n){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),S("Payfast Payment")]})}),d.jsx(b,{children:d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsx("input",{type:"hidden",name:"_token",value:(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""}),d.jsx("input",{type:"hidden",name:"plan_id",value:o}),d.jsx("input",{type:"hidden",name:"billing_cycle",value:m}),d.jsx("input",{type:"hidden",name:"coupon_code",value:u||""}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"firstName",children:S("First Name")}),d.jsx(f,{id:"firstName",name:"customer_details[firstName]",value:A.firstName,onChange:function(e){M(function(n){return a(a({},n),{},{firstName:e.target.value})}),O.firstName&&z(function(e){return a(a({},e),{},{firstName:""})})},placeholder:S("Enter first name"),className:O.firstName?"border-red-500":"",required:!0}),O.firstName&&d.jsx("p",{className:"text-sm text-red-500 mt-1",children:O.firstName})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"lastName",children:S("Last Name")}),d.jsx(f,{id:"lastName",name:"customer_details[lastName]",value:A.lastName,onChange:function(e){M(function(n){return a(a({},n),{},{lastName:e.target.value})}),O.lastName&&z(function(e){return a(a({},e),{},{lastName:""})})},placeholder:S("Enter last name"),className:O.lastName?"border-red-500":"",required:!0}),O.lastName&&d.jsx("p",{className:"text-sm text-red-500 mt-1",children:O.lastName})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"email",children:S("Email Address")}),d.jsx(f,{id:"email",name:"customer_details[email]",type:"email",value:A.email,onChange:function(e){M(function(n){return a(a({},n),{},{email:e.target.value})}),O.email&&z(function(e){return a(a({},e),{},{email:""})})},placeholder:S("Enter email address"),className:O.email?"border-red-500":"",required:!0}),O.email&&d.jsx("p",{className:"text-sm text-red-500 mt-1",children:O.email}),d.jsx("p",{className:"text-xs text-muted-foreground",children:S("You will be redirected to Payfast to complete the payment")})]}),x<5&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:S("PayFast requires a minimum payment of R5.00. Current amount: {{currency}} {{amount}}",{currency:g,amount:x})})]}),d.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm font-medium",children:S("Amount")}),d.jsx("span",{className:"text-sm font-bold",children:(null===(t=window.appSettings)||void 0===t?void 0:t.formatCurrency(x,{showSymbol:!0}))||"₦".concat(x.toFixed(2))})]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S("Secure payment processing via PayFast")})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx(j,{type:"button",variant:"outline",onClick:C,className:"flex-1",children:S("Cancel")}),d.jsx(j,{type:"submit",disabled:k||x<5,className:"flex-1",children:k?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),S("Processing...")]}):S("Pay {{amount}}",{amount:(null===(r=window.appSettings)||void 0===r?void 0:r.formatCurrency(x,{showSymbol:!0}))||"₦".concat(x.toFixed(2))})})]})]})})]})}function Ae(e){var n,t=e.planId,r=e.couponCode,o=e.billingCycle,u=e.planPrice,m=(e.toyyibpayCategoryCode,e.currency),x=(e.onSuccess,e.onCancel),g=p().t,C=c(l.useState(!1),2),S=C[0],P=C[1],k=c(l.useState({name:"",email:"",phone:""}),2),E=k[0],T=k[1],A=c(l.useState({}),2),M=A[0],F=A[1],O=function(){var e={};return E.name.trim()||(e.name=g("Full name is required")),E.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E.email)||(e.email=g("Please enter a valid email address")):e.email=g("Email address is required"),E.phone.trim()?E.phone.length<10&&(e.phone=g("Please enter a valid Malaysian phone number")):e.phone=g("Phone number is required"),F(e),0===Object.keys(e).length},z=function(){var e=i(s().m(function e(n){var a,l,i,d;return s().w(function(e){for(;;)switch(e.n){case 0:if(n.preventDefault(),O()){e.n=1;break}return h.error(g("Please fix the form errors")),e.a(2);case 1:P(!0),F({});try{l={plan_id:t,billing_cycle:o,coupon_code:r||"",billName:"Plan Subscription - ".concat(t),billDescription:"".concat(o," subscription for ").concat(E.name),billAmount:u,billTo:E.name.trim(),billEmail:E.email.trim(),billPhone:E.phone.trim()},(i=document.createElement("form")).method="POST",i.action=route("toyyibpay.payment"),(d=document.createElement("input")).type="hidden",d.name="_token",d.value=(null===(a=document.querySelector('meta[name="csrf-token"]'))||void 0===a?void 0:a.getAttribute("content"))||"",i.appendChild(d),Object.entries(l).forEach(function(e){var n=c(e,2),a=n[0],t=n[1],s=document.createElement("input");s.type="hidden",s.name=a,s.value=t.toString(),i.appendChild(s)}),document.body.appendChild(i),i.submit()}catch(s){console.error("ToyyibPay payment error:",s),h.error(g("Payment failed. Please try again.")),P(!1)}case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),g("toyyibPay Payment")]})}),d.jsxs(b,{children:[d.jsxs($,{className:"mb-4",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:g("You will be redirected to toyyibPay to complete your payment securely via FPX (Malaysian Online Banking)")})]}),d.jsxs("form",{onSubmit:z,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(y,{htmlFor:"name",children:[g("Full Name")," *"]}),d.jsx(f,{id:"name",value:E.name,onChange:function(e){T(function(n){return a(a({},n),{},{name:e.target.value})}),M.name&&F(function(e){return a(a({},e),{},{name:""})})},placeholder:g("Enter your full name"),className:M.name?"border-red-500":"",required:!0}),M.name&&d.jsx("p",{className:"text-sm text-red-500",children:M.name})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(y,{htmlFor:"email",children:[g("Email Address")," *"]}),d.jsx(f,{id:"email",type:"email",value:E.email,onChange:function(e){T(function(n){return a(a({},n),{},{email:e.target.value})}),M.email&&F(function(e){return a(a({},e),{},{email:""})})},placeholder:g("Enter your email address"),className:M.email?"border-red-500":"",required:!0}),M.email&&d.jsx("p",{className:"text-sm text-red-500",children:M.email})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(y,{htmlFor:"phone",children:[g("Phone Number")," *"]}),d.jsx(f,{id:"phone",value:E.phone,onChange:function(e){var n,t,s=(n=e.target.value,(t=n.replace(/[^0-9]/g,"")).startsWith("60")?t.slice(0,12):t.startsWith("0")?"60"+t.slice(1,11):"60"+t.slice(0,10));T(function(e){return a(a({},e),{},{phone:s})}),M.phone&&F(function(e){return a(a({},e),{},{phone:""})})},placeholder:"60123456789",className:M.phone?"border-red-500":"",maxLength:12,required:!0}),d.jsx("p",{className:"text-xs text-muted-foreground",children:g("Malaysian format: 60123456789 (numbers only)")}),M.phone&&d.jsx("p",{className:"text-sm text-red-500",children:M.phone})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(J,{className:"h-4 w-4 text-primary"}),d.jsx("p",{className:"text-sm font-medium",children:g("Payment Method: FPX (Online Banking)")})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:g("Secure payment via Malaysian banks including Maybank, CIMB, Public Bank, RHB, and more")})]}),d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("span",{className:"text-sm text-muted-foreground",children:[g("Total Amount"),":"]}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(u,{showSymbol:!0}):"".concat(m," ").concat(u)})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{type:"button",variant:"outline",onClick:x,className:"flex-1",disabled:S,children:g("Cancel")}),d.jsx(j,{type:"submit",disabled:S,className:"flex-1",children:S?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),g("Processing...")]}):d.jsxs(d.Fragment,{children:[d.jsx(J,{className:"mr-2 h-4 w-4"}),g("Pay Now")]})})]})]})]})]})]})}function Me(e){var n,t=e.planId,r=e.couponCode,o=e.billingCycle,u=e.planPrice,m=(e.paytrMerchantId,e.currency),x=e.onSuccess,C=e.onCancel,_=p().t,S=c(l.useState(!1),2),P=S[0],k=S[1],E=c(l.useState(!1),2),T=E[0],A=E[1],M=c(l.useState(""),2),F=M[0],O=M[1],z=l.useRef(null),I=c(l.useState({name:"",email:"",phone:"",address:""}),2),R=I[0],D=I[1];l.useEffect(function(){var e=function(e){"https://www.paytr.com"===e.origin&&("success"===e.data?(A(!1),x()):"fail"===e.data&&(A(!1),h.error(_("Payment failed"))))};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}},[x,_]);var K=function(){var e=i(s().m(function e(n){var a,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n.preventDefault(),R.name&&R.email&&R.phone){e.n=1;break}return h.error(_("Please fill in required customer details")),e.a(2);case 1:return k(!0),e.p=2,e.n=3,g.post(route("paytr.create-token"),{plan_id:t,billing_cycle:o,coupon_code:r,user_name:R.name,user_email:R.email,user_phone:R.phone,user_address:R.address});case 3:if(!(a=e.v).data.success){e.n=4;break}O(a.data.iframe_url),A(!0),e.n=5;break;case 4:throw new Error(a.data.error||"Token creation failed");case 5:e.n=7;break;case 6:e.p=6,i=e.v,console.error("PayTR payment error:",i),h.error((null===(l=i.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.error)||_("Payment failed. Please try again."));case 7:return e.p=7,k(!1),e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}));return function(n){return e.apply(this,arguments)}}();return T?d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),_("PayTR Payment")]}),d.jsx(j,{variant:"outline",size:"sm",onClick:function(){return A(!1)},children:_("Back")})]})}),d.jsxs(b,{children:[d.jsx("div",{className:"w-full h-[600px] border rounded-lg overflow-hidden",children:d.jsx("iframe",{ref:z,src:F,width:"100%",height:"100%",frameBorder:"0",scrolling:"auto",title:"PayTR Payment"})}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:_("Complete your payment in the secure PayTR iframe above")})]})]}):d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),_("PayTR Payment")]})}),d.jsx(b,{children:d.jsxs("form",{onSubmit:K,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(y,{htmlFor:"name",children:[_("Full Name")," *"]}),d.jsx(f,{id:"name",value:R.name,onChange:function(e){return D(function(n){return a(a({},n),{},{name:e.target.value})})},placeholder:_("Enter full name"),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(y,{htmlFor:"email",children:[_("Email Address")," *"]}),d.jsx(f,{id:"email",type:"email",value:R.email,onChange:function(e){return D(function(n){return a(a({},n),{},{email:e.target.value})})},placeholder:_("Enter email address"),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(y,{htmlFor:"phone",children:[_("Phone Number")," *"]}),d.jsx(f,{id:"phone",value:R.phone,onChange:function(e){return D(function(n){return a(a({},n),{},{phone:e.target.value})})},placeholder:"+905xxxxxxxxx",required:!0}),d.jsx("p",{className:"text-xs text-muted-foreground",children:_("Turkish phone number format: +905xxxxxxxxx")})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"address",children:_("Address")}),d.jsx(f,{id:"address",value:R.address,onChange:function(e){return D(function(n){return a(a({},n),{},{address:e.target.value})})},placeholder:_("Enter address (optional)")})]}),d.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[d.jsx("p",{className:"text-sm font-medium",children:_("Secure Payment via PayTR")}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:_("Credit Card, Debit Card - Real-time payment processing")})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx(j,{type:"button",variant:"outline",onClick:C,className:"flex-1",children:_("Cancel")}),d.jsx(j,{type:"submit",disabled:P,className:"flex-1",children:P?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),_("Processing...")]}):_("Pay {{amount}}",{amount:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(u,{showSymbol:!0}):"".concat(m," ").concat(u)})})]})]})})]})}function Fe(e){var n,t,s=e.planId,r=e.couponCode,i=e.billingCycle,o=e.planPrice,u=(e.mollieApiKey,e.currency),m=(e.onSuccess,e.onCancel),h=p().t,x=c(l.useState(!1),2),g=x[0],C=x[1],_=c(l.useState({firstName:"",lastName:"",email:""}),2),S=_[0],P=_[1];return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),h("Mollie Payment")]})}),d.jsx(b,{children:d.jsxs("form",{action:route("mollie.payment"),method:"POST",onSubmit:function(e){if(!S.firstName||!S.lastName||!S.email)return e.preventDefault(),void alert(h("Please fill in all customer details"));C(!0)},className:"space-y-4",children:[d.jsx("input",{type:"hidden",name:"_token",value:(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""}),d.jsx("input",{type:"hidden",name:"plan_id",value:s}),d.jsx("input",{type:"hidden",name:"billing_cycle",value:i}),d.jsx("input",{type:"hidden",name:"coupon_code",value:r||""}),d.jsx("input",{type:"hidden",name:"payment_id",value:"mollie_".concat(Date.now())}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"firstName",children:h("First Name")}),d.jsx(f,{id:"firstName",name:"customer_details[firstName]",value:S.firstName,onChange:function(e){return P(function(n){return a(a({},n),{},{firstName:e.target.value})})},placeholder:h("Enter first name"),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"lastName",children:h("Last Name")}),d.jsx(f,{id:"lastName",name:"customer_details[lastName]",value:S.lastName,onChange:function(e){return P(function(n){return a(a({},n),{},{lastName:e.target.value})})},placeholder:h("Enter last name"),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"email",children:h("Email Address")}),d.jsx(f,{id:"email",name:"customer_details[email]",type:"email",value:S.email,onChange:function(e){return P(function(n){return a(a({},n),{},{email:e.target.value})})},placeholder:h("Enter email address"),required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx(j,{type:"button",variant:"outline",onClick:m,className:"flex-1",children:h("Cancel")}),d.jsx(j,{type:"submit",disabled:g,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),h("Processing...")]}):h("Pay {{amount}}",{amount:null!==(t=window.appSettings)&&void 0!==t&&t.formatCurrency?window.appSettings.formatCurrency(o,{showSymbol:!0}):"".concat(u," ").concat(o)})})]})]})})]})}function Oe(e){var n=e.planId,a=(e.planPrice,e.couponCode),t=e.billingCycle,r=(e.cashfreeAppId,e.mode),c=void 0===r?"sandbox":r,o=(e.currency,e.onSuccess),u=e.onCancel,m=p().t;l.useEffect(function(){if(!window||!window.Cashfree){var e=document.createElement("script");return e.src="https://sdk.cashfree.com/js/v3/cashfree.js",e.async=!0,e.onerror=function(){h.error(m("Failed to load Cashfree SDK. Please try again."))},document.body.appendChild(e),function(){document.body.contains(e)&&document.body.removeChild(e)}}},[c]);var x=function(){var e=i(s().m(function e(){var r,l,i,c,d,u,p,x,y,f,j,v,b;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,g.post(route("cashfree.create-session"),{plan_id:n,billing_cycle:t,coupon_code:a,_token:null===(r=document.querySelector('meta[name="csrf-token"]'))||void 0===r?void 0:r.getAttribute("content")});case 1:if(!(l=e.v).data.error){e.n=2;break}return h.error(l.data.error),e.a(2);case 2:if(i=l.data,c=i.payment_session_id,d=i.order_id,i.amount,u=i.mode,c&&d){e.n=3;break}return h.error(m("Invalid response from server")),e.a(2);case 3:if(u){e.n=4;break}return h.error(m("Payment mode not configured")),e.a(2);case 4:if(window.Cashfree){e.n=5;break}return h.error(m("Cashfree SDK not loaded")),e.a(2);case 5:p="production"===u?"PROD":"SANDBOX",e.p=6,window.Cashfree({mode:p}),e.n=8;break;case 7:return e.p=7,v=e.v,h.error("Failed to initialize Cashfree: "+v.message),e.a(2);case 8:x=window.Cashfree({mode:p}),y={paymentSessionId:c,returnUrl:window.appSettings.baseUrl+route("dashboard"),redirectTarget:"_modal",mode:p,style:{zIndex:99999}},x.checkout(y).then(function(e){var s,r;e.error?h.error(e.error.message||m("Payment failed")):e.paymentDetails?g.post(route("cashfree.verify-payment"),{order_id:d,cf_payment_id:null===(s=e.paymentDetails)||void 0===s?void 0:s.paymentId,plan_id:n,billing_cycle:t,coupon_code:a,_token:null===(r=document.querySelector('meta[name="csrf-token"]'))||void 0===r?void 0:r.getAttribute("content")}).then(function(e){o()}).catch(function(e){var n,a=(null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||m("Payment verification failed");h.error(a)}):h.error(m("Payment status unclear"))}).catch(function(e){h.error(e.message||m("Payment initialization failed"))}),e.n=10;break;case 9:e.p=9,b=e.v,j=(null===(f=b.response)||void 0===f||null===(f=f.data)||void 0===f?void 0:f.error)||m("Failed to initialize payment"),h.error(j);case 10:return e.a(2)}},e,null,[[6,7],[0,9]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:m("You will be redirected to Cashfree to complete your payment.")}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:u,className:"flex-1",children:m("Cancel")}),d.jsx(j,{onClick:x,className:"flex-1",children:m("Pay with Cashfree")})]})]})}function ze(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.iyzipayPublicKey,m=e.currency,h=void 0===m?"USD":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=c(l.useState(null),2),T=(E[0],E[1],function(){var e=i(s().m(function e(){var n,t,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("Iyzipay configuration is missing")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("iyzipay.create-form"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}window.location.href=l.redirect_url,e.n=6;break;case 5:throw new Error(l.error||y("Failed to create payment form"));case 6:e.n=8;break;case 7:e.p=7,i=e.v,console.error("Iyzipay payment error:",i),k(i instanceof Error?i.message:y("Payment initialization failed"));case 8:return e.p=8,C(!1),e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])}));return function(){return e.apply(this,arguments)}}());return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("Iyzipay Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),g?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(U,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),d.jsx("p",{children:y("Redirecting to payment page...")})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:y("You will be redirected to Iyzipay secure payment page to complete your payment.")})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:T,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Processing...")]}):d.jsxs(d.Fragment,{children:[d.jsx(J,{className:"mr-2 h-4 w-4"}),y("Pay with Iyzipay")]})})]})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:y("Powered by Iyzipay - Secure payment processing")})]})]})}function Ie(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.benefitPublicKey,m=e.currency,h=void 0===m?"BHD":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("Benefit payment configuration is missing")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("benefit.create-session"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}window.location.href=l.payment_url,e.n=6;break;case 5:throw new Error(l.error||y("Failed to create payment session"));case 6:e.n=8;break;case 7:e.p=7,i=e.v,console.error("Benefit payment error:",i),k(i instanceof Error?i.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("Benefit Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:y("You will be redirected to Benefit to complete your payment securely. Benefit is the leading payment gateway in Bahrain.")})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Benefit Debit Cards")]}),d.jsxs("li",{children:["• ",y("Visa Credit/Debit Cards")]}),d.jsxs("li",{children:["• ",y("Mastercard Credit/Debit Cards")]}),d.jsxs("li",{children:["• ",y("Benefit Pay Mobile Wallet")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with Benefit")]})})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:y("Powered by Benefit - Bahrain's trusted payment gateway")})]})]})}function Re(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.ozowSiteKey,m=e.currency,h=void 0===m?"ZAR":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("Ozow not configured")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("ozow.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}window.location.href=l.payment_url,e.n=6;break;case 5:throw new Error(l.error||y("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,i=e.v,console.error("Ozow payment error:",i),k(i instanceof Error?i.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("Ozow Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:y("You will be redirected to Ozow to complete your payment securely. Ozow is South Africa's trusted instant payment gateway.")})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:y("Supported Banks")}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Standard Bank")]}),d.jsxs("li",{children:["• ",y("FNB")]}),d.jsxs("li",{children:["• ",y("ABSA")]}),d.jsxs("li",{children:["• ",y("Nedbank")]}),d.jsxs("li",{children:["• ",y("Capitec Bank")]}),d.jsxs("li",{children:["• ",y("And more South African banks")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with Ozow")]})})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:y("Powered by Ozow - South Africa's instant payment gateway")})]})]})}function De(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.easebuzzMerchantKey,m=e.currency,h=void 0===m?"INR":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("Easebuzz not configured")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("easebuzz.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}window.location.href=l.payment_url,e.n=6;break;case 5:throw new Error(l.error||y("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,i=e.v,console.error("Easebuzz payment error:",i),k(i instanceof Error?i.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("Easebuzz Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:y("You will be redirected to Easebuzz to complete your payment securely.")})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Credit/Debit Cards")]}),d.jsxs("li",{children:["• ",y("Net Banking")]}),d.jsxs("li",{children:["• ",y("UPI")]}),d.jsxs("li",{children:["• ",y("Wallets")]}),d.jsxs("li",{children:["• ",y("EMI Options")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with Easebuzz")]})})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:y("Powered by Easebuzz - Secure payment processing")})]})]})}function Ke(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.khaltiPublicKey,m=e.currency,y=void 0===m?"NPR":m,f=e.onSuccess,g=e.onCancel,C=p().t,S=c(l.useState(!1),2),P=S[0],k=S[1],E=c(l.useState(null),2),T=E[0],A=E[1],M=function(){var e=i(s().m(function e(){var n,t,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return A(C("Khalti not configured")),e.a(2);case 1:return k(!0),A(null),e.p=2,e.n=3,fetch(route("khalti.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}F(l),e.n=6;break;case 5:throw new Error(l.error||C("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,i=e.v,console.error("Khalti payment error:",i),A(i instanceof Error?i.message:C("Payment initialization failed")),k(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}(),F=function(e){if(window.KhaltiCheckout)O(e);else{var n=document.createElement("script");n.src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js",n.onload=function(){O(e)},document.head.appendChild(n)}},O=function(e){var n={publicKey:e.public_key,productIdentity:e.product_identity,productName:e.product_name,productUrl:e.product_url,paymentPreference:["KHALTI","EBANKING","MOBILE_BANKING","CONNECT_IPS","SCT"],eventHandler:{onSuccess:function(e){z(e.token,e.amount)},onError:function(e){console.error("Khalti payment error:",e),A(C("Payment failed")),k(!1)},onClose:function(){k(!1)}}};new window.KhaltiCheckout(n).show({amount:e.amount})},z=function(e,n){x.post(route("khalti.payment"),{plan_id:a,billing_cycle:o,coupon_code:r,token:e,amount:n/100},{onSuccess:function(){h.success(C("Payment successful")),f()},onError:function(e){console.error("Payment processing error:",e),A(Object.values(e).flat().join(", ")),k(!1)}})};return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),C("Khalti Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[T&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:T})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:C("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(y," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[C("Billing Cycle"),": ",C(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[C("Coupon Applied"),": ",r]})]}),d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:C("Khalti is Nepal's most popular digital wallet and payment gateway.")})]}),d.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[d.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:C("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[d.jsxs("li",{children:["• ",C("Khalti Wallet")]}),d.jsxs("li",{children:["• ",C("eBanking")]}),d.jsxs("li",{children:["• ",C("Mobile Banking")]}),d.jsxs("li",{children:["• ",C("Connect IPS")]}),d.jsxs("li",{children:["• ",C("SCT Cards")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:g,disabled:P,className:"flex-1",children:C("Cancel")}),d.jsx(j,{onClick:M,disabled:P||!u,className:"flex-1",children:P?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),C("Processing...")]}):d.jsxs(d.Fragment,{children:[d.jsx(J,{className:"mr-2 h-4 w-4"}),C("Pay with Khalti")]})})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:C("Powered by Khalti - Nepal's digital wallet")})]})]})}function Be(e){var n,r=e.planId,o=e.planPrice,u=e.couponCode,m=e.billingCycle,g=e.authorizenetMerchantId,S=(e.currency,e.isSandbox),P=void 0!==S&&S,k=e.supportedCountries,E=void 0===k?["US","CA","GB","AU"]:k,T=e.supportedCurrencies,A=void 0===T?["USD","CAD","CHF","DKK","EUR","GBP","NOK","PLN","SEK","AUD","NZD"]:T,M=e.onSuccess,F=e.onCancel,O=p().t,z=c(l.useState(!1),2),I=z[0],R=z[1],D=c(l.useState(null),2),K=D[0],B=D[1],q=c(l.useState({}),2),Y=q[0],X=q[1],L=c(l.useState({card_number:"",expiry_month:"",expiry_year:"",cvv:"",cardholder_name:""}),2),W=L[0],H=L[1],V=function(e,n){var s=n;"card_number"===e?s=function(e){var n=e.replace(/\s/g,""),a=n.match(/.{1,4}/g);return a?a.join(" "):n}(n.replace(/\s/g,"").slice(0,19)):"expiry_month"===e||"expiry_year"===e?s=n.replace(/\D/g,"").slice(0,2):"cvv"===e&&(s=n.replace(/\D/g,"").slice(0,4)),H(function(n){return a(a({},n),{},t({},e,s))}),Y[e]&&X(function(n){return a(a({},n),{},t({},e,""))})},Q=function(){var e,n,a,t,s,r={};return e=W.card_number,n=e.replace(/\s/g,""),/^[0-9]{13,19}$/.test(n)||(r.card_number=O("Please enter a valid card number (13-19 digits)")),a=W.expiry_month,/^(0[1-9]|1[0-2])$/.test(a)||(r.expiry_month=O("Please enter a valid month (01-12)")),function(e){if(!/^[0-9]{2}$/.test(e))return!1;var n=(new Date).getFullYear()%100,a=parseInt(e);return a>=n&&a<=n+20}(W.expiry_year)||(r.expiry_year=O("Please enter a valid year (current year or later)")),t=W.cvv,/^[0-9]{3,4}$/.test(t)||(r.cvv=O("Please enter a valid CVV (3-4 digits)")),(s=W.cardholder_name).trim().length>=2&&s.trim().length<=50||(r.cardholder_name=O("Please enter a valid cardholder name (2-50 characters)")),X(r),0===Object.keys(r).length},ee=function(){var e=i(s().m(function e(){return s().w(function(e){for(;;)switch(e.n){case 0:if(g){e.n=1;break}return B(O("AuthorizeNet not configured")),e.a(2);case 1:if(Q()){e.n=2;break}return B(O("Please correct the errors below")),e.a(2);case 2:R(!0),B(null),x.post(route("authorizenet.payment"),a({plan_id:r,billing_cycle:m,coupon_code:u},W),{onSuccess:function(){h.success(O("Payment successful")),M()},onError:function(e){console.error("Payment processing error:",e),B(Object.values(e).flat().join(", ")),R(!1)}});case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),O("AuthorizeNet Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[K&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:K})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:O("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:(null===(n=window.appSettings)||void 0===n?void 0:n.formatCurrency(o,{showSymbol:!0}))||"₦".concat(o.toFixed(2))})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[O("Billing Cycle"),": ",O(m)]}),u&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[O("Coupon Applied"),": ",u]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(y,{htmlFor:"cardholder_name",children:O("Cardholder Name")}),d.jsx(f,{id:"cardholder_name",value:W.cardholder_name,onChange:function(e){return V("cardholder_name",e.target.value)},placeholder:O("Enter cardholder name"),className:Y.cardholder_name?"border-red-500":""}),Y.cardholder_name&&d.jsx("p",{className:"text-sm text-red-500 mt-1",children:Y.cardholder_name})]}),d.jsxs("div",{children:[d.jsx(y,{htmlFor:"card_number",children:O("Card Number")}),d.jsx(f,{id:"card_number",value:W.card_number,onChange:function(e){return V("card_number",e.target.value)},placeholder:"1234 5678 9012 3456",maxLength:23,className:Y.card_number?"border-red-500":""}),Y.card_number&&d.jsx("p",{className:"text-sm text-red-500 mt-1",children:Y.card_number})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx(y,{htmlFor:"expiry_month",children:O("Month")}),d.jsx(f,{id:"expiry_month",value:W.expiry_month,onChange:function(e){return V("expiry_month",e.target.value)},placeholder:"MM",maxLength:2,className:Y.expiry_month?"border-red-500":""}),Y.expiry_month&&d.jsx("p",{className:"text-sm text-red-500 mt-1",children:Y.expiry_month})]}),d.jsxs("div",{children:[d.jsx(y,{htmlFor:"expiry_year",children:O("Year")}),d.jsx(f,{id:"expiry_year",value:W.expiry_year,onChange:function(e){return V("expiry_year",e.target.value)},placeholder:"YY",maxLength:2,className:Y.expiry_year?"border-red-500":""}),Y.expiry_year&&d.jsx("p",{className:"text-sm text-red-500 mt-1",children:Y.expiry_year})]}),d.jsxs("div",{children:[d.jsx(y,{htmlFor:"cvv",children:O("CVV")}),d.jsx(f,{id:"cvv",value:W.cvv,onChange:function(e){return V("cvv",e.target.value)},placeholder:"123",maxLength:4,className:Y.cvv?"border-red-500":""}),Y.cvv&&d.jsx("p",{className:"text-sm text-red-500 mt-1",children:Y.cvv})]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:F,disabled:I,className:"flex-1",children:O("Cancel")}),d.jsx(j,{onClick:ee,disabled:I||!g,className:"flex-1",children:I?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),O("Processing...")]}):d.jsxs(d.Fragment,{children:[d.jsx(J,{className:"mr-2 h-4 w-4"}),O("Pay with AuthorizeNet")]})})]}),d.jsxs("div",{className:"space-y-2",children:[P&&d.jsxs($,{children:[d.jsx(C,{className:"h-4 w-4"}),d.jsx(Z,{children:O("Test Mode: This is a sandbox transaction. No real money will be charged.")})]}),d.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx(G,{className:"h-3 w-3 text-green-500"}),O("Powered by AuthorizeNet - Secure payment processing")]}),d.jsxs("div",{children:[O("Supported currencies"),": ",A.join(", ")]}),d.jsxs("div",{children:[O("Supported countries"),": ",E.join(", ")]})]})]})]})]})}function qe(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.fedapayPublicKey,m=e.currency,h=void 0===m?"XOF":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("FedaPay not configured")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("fedapay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}window.location.href=l.payment_url,e.n=6;break;case 5:throw new Error(l.error||y("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,i=e.v,console.error("FedaPay payment error:",i),k(i instanceof Error?i.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("FedaPay Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:y("You will be redirected to FedaPay to complete your payment securely.")})]}),d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[d.jsx("h4",{className:"font-medium text-green-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Mobile Money (MTN, Moov, Orange)")]}),d.jsxs("li",{children:["• ",y("Visa/Mastercard")]}),d.jsxs("li",{children:["• ",y("Bank Transfers")]}),d.jsxs("li",{children:["• ",y("Digital Wallets")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with FedaPay")]})})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:y("Powered by FedaPay - West Africa's payment gateway")})]})]})}function Ye(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.payhereMerchantId,m=e.currency,h=void 0===m?"LKR":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i,c;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("PayHere not configured")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("payhere.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}(i=document.createElement("form")).method="POST",i.action=l.payment_url,Object.keys(l.payment_data).forEach(function(e){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=l.payment_data[e],i.appendChild(n)}),document.body.appendChild(i),i.submit(),e.n=6;break;case 5:throw new Error(l.error||y("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,c=e.v,console.error("PayHere payment error:",c),k(c instanceof Error?c.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("PayHere Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:y("You will be redirected to PayHere to complete your payment securely.")})]}),d.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[d.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Visa/Mastercard")]}),d.jsxs("li",{children:["• ",y("Lanka QR")]}),d.jsxs("li",{children:["• ",y("eZ Cash")]}),d.jsxs("li",{children:["• ",y("mCash")]}),d.jsxs("li",{children:["• ",y("Bank Transfers")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with PayHere")]})})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:y("Powered by PayHere - Sri Lanka's payment gateway")})]})]})}function Xe(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.cinetpaySiteId,m=e.currency,h=void 0===m?"XOF":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i,c;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("CinetPay not configured")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("cinetpay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}(i=document.createElement("form")).method="POST",i.action=l.payment_url,Object.keys(l.payment_data).forEach(function(e){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=l.payment_data[e],i.appendChild(n)}),document.body.appendChild(i),i.submit(),e.n=6;break;case 5:throw new Error(l.error||y("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,c=e.v,console.error("CinetPay payment error:",c),k(c instanceof Error?c.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("CinetPay Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:y("You will be redirected to CinetPay to complete your payment securely.")})]}),d.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[d.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Mobile Money (Orange, MTN, Moov)")]}),d.jsxs("li",{children:["• ",y("Visa/Mastercard")]}),d.jsxs("li",{children:["• ",y("Bank Transfers")]}),d.jsxs("li",{children:["• ",y("Digital Wallets")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with CinetPay")]})})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:y("Powered by CinetPay - African payment gateway")})]})]})}function Le(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.paiementMerchantId,m=e.currency,h=void 0===m?"XOF":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i,c;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("Paiement Pro not configured")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("paiement.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}(i=document.createElement("form")).method="POST",i.action=l.payment_url,Object.keys(l.payment_data).forEach(function(e){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=l.payment_data[e],i.appendChild(n)}),document.body.appendChild(i),i.submit(),e.n=6;break;case 5:throw new Error(l.error||y("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,c=e.v,console.error("Paiement Pro payment error:",c),k(c instanceof Error?c.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("Paiement Pro Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Mobile Money")]}),d.jsxs("li",{children:["• ",y("Bank Cards")]}),d.jsxs("li",{children:["• ",y("Bank Transfers")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with Paiement Pro")]})})]})]})]})}function Ue(n){var a,t=n.planId,r=n.planPrice,o=n.couponCode,u=n.billingCycle,m=n.nepalstePublicKey,h=n.currency,x=void 0===h?"NPR":h,y=(n.onSuccess,n.onCancel),f=p().t,g=c(l.useState(!1),2),C=g[0],S=g[1],P=c(l.useState(null),2),k=P[0],E=P[1],T=function(){var n=i(s().m(function n(){var a,r,l,i,c;return s().w(function(n){for(;;)switch(n.p=n.n){case 0:if(m){n.n=1;break}return E(f("Nepalste not configured")),n.a(2);case 1:return S(!0),E(null),n.p=2,n.n=3,fetch(route("nepalste.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(a=document.querySelector('meta[name="csrf-token"]'))||void 0===a?void 0:a.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:u,coupon_code:o})});case 3:return r=n.v,n.n=4,r.json();case 4:if(!(l=n.v).success){n.n=5;break}(i=document.createElement("form")).method="POST",i.action=l.payment_url,Object.keys(l.payment_data).forEach(function(n){var a=document.createElement("input");a.type="hidden",a.name=n,a.value="object"===e(l.payment_data[n])?JSON.stringify(l.payment_data[n]):l.payment_data[n],i.appendChild(a)}),document.body.appendChild(i),i.submit(),n.n=6;break;case 5:throw new Error(l.error||f("Payment creation failed"));case 6:n.n=8;break;case 7:n.p=7,c=n.v,console.error("Nepalste payment error:",c),E(c instanceof Error?c.message:f("Payment initialization failed")),S(!1);case 8:return n.a(2)}},n,null,[[2,7]])}));return function(){return n.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),f("Nepalste Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[k&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:k})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:f("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(a=window.appSettings)&&void 0!==a&&a.formatCurrency?window.appSettings.formatCurrency(r,{showSymbol:!0}):"".concat(x," ").concat(r)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[f("Billing Cycle"),": ",f(u)]}),o&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[f("Coupon Applied"),": ",o]})]}),d.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[d.jsx("h4",{className:"font-medium text-red-900 mb-2",children:f("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[d.jsxs("li",{children:["• ",f("eSewa")]}),d.jsxs("li",{children:["• ",f("Khalti")]}),d.jsxs("li",{children:["• ",f("IME Pay")]}),d.jsxs("li",{children:["• ",f("Bank Transfers")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:y,disabled:C,className:"flex-1",children:f("Cancel")}),d.jsx(j,{onClick:T,disabled:C||!m,className:"flex-1",children:C?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),f("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),f("Pay with Nepalste")]})})]})]})]})}function We(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.yookassaShopId,m=e.currency,h=void 0===m?"RUB":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("YooKassa not configured")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("yookassa.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}window.location.href=l.payment_url,e.n=6;break;case 5:throw new Error(l.error||y("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,i=e.v,console.error("YooKassa payment error:",i),k(i instanceof Error?i.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("YooKassa Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[d.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Bank Cards")]}),d.jsxs("li",{children:["• ",y("YooMoney")]}),d.jsxs("li",{children:["• ",y("Qiwi")]}),d.jsxs("li",{children:["• ",y("Sberbank Online")]}),d.jsxs("li",{children:["• ",y("Alfa-Click")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with YooKassa")]})})]})]})]})}function Ge(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.aamarpayStoreId,m=e.currency,h=(e.onSuccess,e.onCancel),x=p().t,y=c(l.useState(!1),2),f=y[0],g=y[1],C=c(l.useState(null),2),S=C[0],P=C[1],k=function(){var e=i(s().m(function e(){var n,t,l,i,c,d;return s().w(function(e){for(;;)switch(e.n){case 0:if(u){e.n=1;break}return P(x("Aamarpay not configured")),e.a(2);case 1:g(!0),P(null);try{(t=document.createElement("form")).method="POST",t.action=route("aamarpay.create-payment"),(l=document.createElement("input")).type="hidden",l.name="_token",l.value=(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||"",t.appendChild(l),(i=document.createElement("input")).type="hidden",i.name="plan_id",i.value=a.toString(),t.appendChild(i),(c=document.createElement("input")).type="hidden",c.name="billing_cycle",c.value=o,t.appendChild(c),r&&((d=document.createElement("input")).type="hidden",d.name="coupon_code",d.value=r,t.appendChild(d)),document.body.appendChild(t),t.submit()}catch(s){console.error("Aamarpay payment error:",s),P(s instanceof Error?s.message:x("Payment initialization failed")),g(!1)}case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),x("Aamarpay Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[S&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:S})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:x("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(m," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[x("Billing Cycle"),": ",x(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[x("Coupon Applied"),": ",r]})]}),d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[d.jsx("h4",{className:"font-medium text-green-900 mb-2",children:x("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[d.jsxs("li",{children:["• ",x("bKash")]}),d.jsxs("li",{children:["• ",x("Nagad")]}),d.jsxs("li",{children:["• ",x("Rocket")]}),d.jsxs("li",{children:["• ",x("Bank Cards")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:h,disabled:f,className:"flex-1",children:x("Cancel")}),d.jsx(j,{onClick:k,disabled:f||!u,className:"flex-1",children:f?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),x("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),x("Pay with Aamarpay")]})})]})]})]})}function Je(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.midtransSecretKey,m=e.currency,h=void 0===m?"IDR":m,y=e.onSuccess,f=e.onCancel,g=p().t,C=c(l.useState(!1),2),S=C[0],P=C[1],k=c(l.useState(null),2),E=k[0],T=k[1],A=function(){var e=i(s().m(function e(){var n,t,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return T(g("Midtrans not configured")),e.a(2);case 1:return P(!0),T(null),e.p=2,e.n=3,fetch(route("midtrans.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}M(l.snap_token,l.order_id),e.n=6;break;case 5:throw new Error(l.error||g("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,i=e.v,console.error("Midtrans payment error:",i),T(i instanceof Error?i.message:g("Payment initialization failed")),P(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}(),M=function(e,n){if(window.snap)F(e,n);else{var a=document.createElement("script");a.src="https://app.sandbox.midtrans.com/snap/snap.js",a.setAttribute("data-client-key",u),a.onload=function(){F(e,n)},a.onerror=function(){T(g("Failed to load Midtrans script")),P(!1)},document.head.appendChild(a)}},F=function(e,n){window.snap.pay(e,{onSuccess:function(e){O(e,n)},onPending:function(e){P(!1)},onError:function(e){T(g("Payment failed")),P(!1)},onClose:function(){P(!1)}})},O=function(e,n){x.post(route("midtrans.payment"),{plan_id:a,billing_cycle:o,coupon_code:r,transaction_status:e.transaction_status,order_id:n},{onSuccess:function(){y()},onError:function(e){console.error("Payment processing error:",e),T(Object.values(e).flat().join(", ")),P(!1)}})};return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),g("Midtrans Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[E&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:E})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:g("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[g("Billing Cycle"),": ",g(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[g("Coupon Applied"),": ",r]})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:g("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:["• ",g("Credit/Debit Cards")]}),d.jsxs("li",{children:["• ",g("Bank Transfer")]}),d.jsxs("li",{children:["• ",g("E-Wallets (GoPay, OVO, DANA)")]}),d.jsxs("li",{children:["• ",g("Convenience Stores")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:f,disabled:S,className:"flex-1",children:g("Cancel")}),d.jsx(j,{onClick:A,disabled:S||!u,className:"flex-1",children:S?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),g("Processing...")]}):d.jsxs(d.Fragment,{children:[d.jsx(J,{className:"mr-2 h-4 w-4"}),g("Pay with Midtrans")]})})]})]})]})}function He(e){var n,a,t=e.planId,r=e.planPrice,o=e.couponCode,u=e.billingCycle,m=e.paymentwallPublicKey,h=e.currency,x=e.onSuccess,y=e.onCancel,f=p().t,g=c(l.useState(!1),2),C=g[0],S=g[1],P=c(l.useState(null),2),k=P[0],E=P[1],T=c(l.useState(!1),2),A=T[0],M=T[1],F=c(l.useState(null),2),O=F[0],z=F[1],I=l.useRef(null);l.useEffect(function(){!function(){if(window.Brick)M(!0);else{var e=document.createElement("script");e.src="https://api.paymentwall.com/brick/build/brick-default.1.5.0.min.js",e.async=!0,e.onload=function(){M(!0)},e.onerror=function(){E(f("Failed to load PaymentWall payment form"))},document.head.appendChild(e)}}()},[f]),l.useEffect(function(){A&&m&&!O&&R()},[A,m,O]);var R=function(){var e=i(s().m(function e(){var n,a,r,l,i,c;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(route("paymentwall.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:u,coupon_code:o})});case 1:return a=e.v,e.n=2,a.json();case 2:if(!(r=e.v).success||!r.brick_config){e.n=3;break}l=r.brick_config,(i=new window.Brick({public_key:l.public_key,amount:l.amount,currency:l.currency,container:"paymentwall-form-container",action:route("paymentwall.process"),form:{merchant:"PaymentWall",product:l.plan_name,pay_button:f("Pay Now"),show_zip:!0,show_cardholder:!0}})).showPaymentForm(function(e){x()},function(e){console.error("Payment error:",e),e&&e.length>0?E(e[0].message||f("Payment failed")):E(f("Payment failed")),S(!1)}),z(i),e.n=4;break;case 3:throw new Error(r.error||f("Failed to initialize payment form"));case 4:e.n=6;break;case 5:e.p=5,c=e.v,console.error("PaymentWall initialization error:",c),E(c instanceof Error?c.message:f("Payment initialization failed"));case 6:return e.a(2)}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),f("PaymentWall Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[k&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:k})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:f("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(r,{showSymbol:!0}):"".concat(h," ").concat(r)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[f("Billing Cycle"),": ",f(u)]}),o&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[f("Coupon Applied"),": ",o]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{id:"paymentwall-form-container",ref:I,className:"min-h-[300px]",children:!A&&d.jsxs("div",{className:"flex items-center justify-center h-32",children:[d.jsx(U,{className:"h-6 w-6 animate-spin mr-2"}),d.jsx("span",{children:f("Loading payment form...")})]})}),d.jsxs("form",{id:"brick-form",style:{display:"none"},children:[d.jsx("input",{type:"hidden",name:"plan_id",value:t}),d.jsx("input",{type:"hidden",name:"billing_cycle",value:u}),d.jsx("input",{type:"hidden",name:"coupon_code",value:o||""}),d.jsx("input",{type:"hidden",name:"_token",value:(null===(a=document.querySelector('meta[name="csrf-token"]'))||void 0===a?void 0:a.getAttribute("content"))||""})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:f("Secure Payment")}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:["• ",f("SSL Encrypted & PCI DSS Compliant")]}),d.jsxs("li",{children:["• ",f("Multiple Payment Methods Supported")]}),d.jsxs("li",{children:["• ",f("Powered by PaymentWall")]})]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:y,disabled:C,className:"flex-1",children:f("Cancel")}),!A&&d.jsxs(j,{disabled:!0,className:"flex-1",children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),f("Loading...")]})]})]})]})}function Ve(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.sspaySecretKey,m=e.currency,h=void 0===m?"MYR":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i,c;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("SSPay not configured")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("sspay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}(i=document.createElement("form")).method="POST",i.action=l.payment_url,Object.keys(l.payment_data).forEach(function(e){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=l.payment_data[e],i.appendChild(n)}),document.body.appendChild(i),i.submit(),e.n=6;break;case 5:throw new Error(l.error||y("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,c=e.v,console.error("SSPay payment error:",c),k(c instanceof Error?c.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("SSPay Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[d.jsx("h4",{className:"font-medium text-teal-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-teal-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Online Banking")]}),d.jsxs("li",{children:["• ",y("Credit/Debit Cards")]}),d.jsxs("li",{children:["• ",y("E-Wallets")]}),d.jsxs("li",{children:["• ",y("FPX")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with SSPay")]})})]})]})]})}function $e(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.tapSecretKey,m=e.currency,h=void 0===m?"USD":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i,c,d;return s().w(function(e){for(;;)switch(e.n){case 0:if(u){e.n=1;break}return k(y("Tap not configured")),e.a(2);case 1:C(!0),k(null);try{(t=document.createElement("form")).method="POST",t.action=route("tap.create-payment"),(l=document.createElement("input")).type="hidden",l.name="_token",l.value=(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||"",t.appendChild(l),(i=document.createElement("input")).type="hidden",i.name="plan_id",i.value=a.toString(),t.appendChild(i),(c=document.createElement("input")).type="hidden",c.name="billing_cycle",c.value=o,t.appendChild(c),r&&((d=document.createElement("input")).type="hidden",d.name="coupon_code",d.value=r,t.appendChild(d)),document.body.appendChild(t),t.submit()}catch(s){console.error("Tap payment error:",s),k(s instanceof Error?s.message:y("Payment initialization failed")),C(!1)}case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("Tap Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:y("You will be redirected to Tap to complete your payment securely.")})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Credit/Debit Cards")]}),d.jsxs("li",{children:["• ",y("Apple Pay")]}),d.jsxs("li",{children:["• ",y("Google Pay")]}),d.jsxs("li",{children:["• ",y("KNET")]}),d.jsxs("li",{children:["• ",y("Benefit Pay")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with Tap")]})})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:y("Powered by Tap - Secure payment processing")})]})]})}function Ze(e){var n,a=e.planId,t=e.planPrice,r=e.couponCode,o=e.billingCycle,u=e.xenditApiKey,m=e.currency,h=void 0===m?"PHP":m,x=(e.onSuccess,e.onCancel),y=p().t,f=c(l.useState(!1),2),g=f[0],C=f[1],S=c(l.useState(null),2),P=S[0],k=S[1],E=function(){var e=i(s().m(function e(){var n,t,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u){e.n=1;break}return k(y("Xendit not configured")),e.a(2);case 1:return C(!0),k(null),e.p=2,e.n=3,fetch(route("xendit.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:o,coupon_code:r})});case 3:return t=e.v,e.n=4,t.json();case 4:if(!(l=e.v).success){e.n=5;break}window.location.href=l.payment_url,e.n=6;break;case 5:throw new Error(l.error||y("Payment creation failed"));case 6:e.n=8;break;case 7:e.p=7,i=e.v,console.error("Xendit payment error:",i),k(i instanceof Error?i.message:y("Payment initialization failed")),C(!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),y("Xendit Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[P&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:P})]}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:y("Total Amount")}),d.jsx("span",{className:"text-lg font-bold",children:null!==(n=window.appSettings)&&void 0!==n&&n.formatCurrency?window.appSettings.formatCurrency(t,{showSymbol:!0}):"".concat(h," ").concat(t)})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[y("Billing Cycle"),": ",y(o)]}),r&&d.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[y("Coupon Applied"),": ",r]})]}),d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:y("You will be redirected to Xendit to complete your payment securely.")})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:y("Supported Payment Methods")}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:["• ",y("Credit/Debit Cards")]}),d.jsxs("li",{children:["• ",y("Bank Transfer")]}),d.jsxs("li",{children:["• ",y("E-Wallets (OVO, DANA, LinkAja)")]}),d.jsxs("li",{children:["• ",y("Virtual Accounts")]}),d.jsxs("li",{children:["• ",y("Retail Outlets")]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:x,disabled:g,className:"flex-1",children:y("Cancel")}),d.jsx(j,{onClick:E,disabled:g||!u,className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),y("Pay with Xendit")]})})]}),d.jsx("div",{className:"text-xs text-muted-foreground text-center",children:y("Powered by Xendit - Secure payment processing")})]})]})}function Qe(e){var n=e.formData,a=e.onSuccess,t=e.onError,r=e.processing,o=void 0!==r&&r,u=p().t,m=c(l.useState(!1),2),x=m[0],y=m[1],f=c(l.useState(!1),2),g=f[0],C=f[1],P=function(){var e=i(s().m(function e(r){var l,i,c,o,d,m,p,x;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return r.preventDefault(),C(!0),e.p=1,i="undefined"!=typeof route?route("manual.payment"):"/payments/manual",c={plan_id:n.planId,billing_cycle:n.billingCycle,coupon_code:n.couponCode||null},e.n=2,fetch(i,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(l=document.querySelector('meta[name="csrf-token"]'))||void 0===l?void 0:l.getAttribute("content"))||""},body:JSON.stringify(c)});case 2:return o=e.v,e.n=3,o.json();case 3:d=e.v,o.ok&&d.success?(y(!0),h.success(d.message||u("Order created successfully")),a(d)):(p=d.message||(null===(m=d.errors)||void 0===m||null===(m=m.subscription)||void 0===m?void 0:m[0])||u("Failed to create manual payment order"),console.error("Manual payment error:",p,d),t(p)),e.n=5;break;case 4:e.p=4,x=e.v,console.error("Manual payment error:",x),t(u("An error occurred while processing your request"));case 5:return e.p=5,C(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(n){return e.apply(this,arguments)}}();return x?d.jsxs(v,{children:[d.jsxs(N,{className:"text-center",children:[d.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(G,{className:"h-6 w-6 text-green-600"})}),d.jsx(w,{className:"text-green-600",children:u("Order Created Successfully")}),d.jsx(S,{children:u("Your order has been created and is pending approval")})]}),d.jsxs(b,{className:"space-y-4",children:[d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:u("Your order is now pending manual approval. You will receive an email confirmation once your payment has been verified and your subscription is activated.")})]}),d.jsx("div",{className:"text-center",children:d.jsx(j,{onClick:function(){return window.location.href=route("dashboard")},className:"w-full",children:u("Go to Dashboard")})})]})]}):d.jsxs(v,{children:[d.jsxs(N,{className:"text-center",children:[d.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(ee,{className:"h-6 w-6 text-blue-600"})}),d.jsx(w,{children:u("Manual Payment")}),d.jsx(S,{children:u("Submit your order for manual processing")})]}),d.jsx(b,{children:d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsxs($,{children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:u("By submitting this order, you agree to pay manually. Your subscription will be activated after payment verification by our team.")})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium",children:u("Order Summary")}),d.jsxs("div",{className:"bg-muted p-3 rounded-lg space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:[u("Plan"),":"]}),d.jsxs("span",{className:"font-medium",children:["Plan #",n.planId]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:[u("Billing Cycle"),":"]}),d.jsx("span",{className:"font-medium capitalize",children:n.billingCycle})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:[u("Amount"),":"]}),d.jsx("span",{className:"font-medium",children:window.appSettings.formatCurrency(n.planPrice)})]}),n.couponCode&&d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:[u("Coupon"),":"]}),d.jsx("span",{className:"font-medium",children:n.couponCode})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium",children:u("Next Steps")}),d.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[d.jsx("li",{children:u("Submit your order using the button below")}),d.jsx("li",{children:u("You will receive an email with payment instructions")}),d.jsx("li",{children:u("Complete the payment using the provided details")}),d.jsx("li",{children:u("Your subscription will be activated after verification")})]})]}),d.jsx(j,{type:"submit",className:"w-full",disabled:o||g,onClick:function(e){e.preventDefault(),P(e)},children:u(o||g?"Processing...":"Submit Order")})]})})]})}function en(e){var n,a,t,r,o=e.planId,u=e.planPrice,m=e.billingCycle,h=e.couponCode,x=e.onSuccess,g=e.onCancel,C=p().t,S=c(l.useState(!1),2),P=S[0],k=S[1],E=c(l.useState(null),2),T=E[0],A=E[1],M=c(l.useState(""),2),F=M[0],O=M[1],z=c(l.useState(null),2),I=z[0],R=z[1],D=c(l.useState(null),2),K=D[0],B=D[1],q=null!==(n=null===(a=window.appSettings)||void 0===a||null===(t=a.formatCurrency)||void 0===t?void 0:t.call(a,u,{showSymbol:!0}))&&void 0!==n?n:u.toFixed(2),Y=function(){var e=i(s().m(function e(){var n,a,t,r,l,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return A(null),k(!0),e.p=1,e.n=2,fetch("/api/paynow/create-payment",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},credentials:"include",body:JSON.stringify({plan_id:o,amount:u,billing_cycle:m,coupon_code:h||null,email:F||(null===(a=window.appSettings)||void 0===a||null===(a=a.user)||void 0===a?void 0:a.email)||"",description:"".concat((null===(t=window.appSettings)||void 0===t||null===(t=t.plans)||void 0===t||null===(t=t.find(function(e){return e.id===o}))||void 0===t?void 0:t.name)||"Plan"," - ").concat(m)})});case 2:return r=e.v,e.n=3,r.json();case 3:if(l=e.v,r.ok&&l.success){e.n=4;break}throw new Error((null==l?void 0:l.error)||C("Failed to create Paynow payment"));case 4:R(l.payment_link),B(l.reference),e.n=6;break;case 5:e.p=5,i=e.v,A((null==i?void 0:i.message)||C("An unexpected error occurred while creating payment."));case 6:return e.p=6,k(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs(v,{children:[d.jsx(N,{children:d.jsxs(w,{className:"flex items-center gap-2",children:[d.jsx(J,{className:"h-5 w-5"}),C("Paynow Payment")]})}),d.jsxs(b,{className:"space-y-4",children:[T&&d.jsxs($,{variant:"destructive",children:[d.jsx(_,{className:"h-4 w-4"}),d.jsx(Z,{children:T})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:C("Click the button below to complete your payment using Paynow. You will be redirected to the Paynow website to complete your payment.")}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm font-medium",children:C("Amount")}),d.jsx("span",{className:"text-sm font-semibold",children:q})]}),d.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[C("Billing cycle"),": ",C(m)]}),h&&d.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[C("Coupon applied"),": ",h]})]}),I?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:C("Click the button below to complete your payment. After payment, please return to this page to confirm your subscription.")}),d.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:d.jsx("img",{src:"https://www.paynow.co.zw/Content/Buttons/Medium_buttons/button_pay-now_medium.png",alt:"Paynow",className:"border-0"})}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[C("Reference"),": ",K]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:g,className:"flex-1",children:C("Cancel")}),d.jsx(j,{onClick:(r=i(s().m(function e(){var n,a,t,r;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/api/paynow/complete-payment?reference=".concat(K),{method:"GET",headers:{Accept:"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""}});case 1:return a=e.v,e.n=2,a.json();case 2:if(t=e.v,a.ok&&t.success){e.n=3;break}throw new Error((null==t?void 0:t.error)||C("Failed to complete payment"));case 3:x(),e.n=5;break;case 4:e.p=4,r=e.v,A((null==r?void 0:r.message)||C("Failed to complete payment"));case 5:return e.a(2)}},e,null,[[0,4]])})),function(){return r.apply(this,arguments)}),className:"flex-1",children:C("I have completed the payment")})]})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(y,{htmlFor:"paynow-email",children:C("Email")}),d.jsx(f,{id:"paynow-email",value:F,onChange:function(e){return O(e.target.value)},placeholder:C("Enter your email address"),type:"email"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:C("This email will be used for payment notifications.")})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:g,className:"flex-1",disabled:P,children:C("Cancel")}),d.jsx(j,{onClick:Y,className:"flex-1",type:"button",disabled:P||!F.trim(),children:P?d.jsxs(d.Fragment,{children:[d.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),C("Creating Payment...")]}):d.jsxs(d.Fragment,{children:[d.jsx(H,{className:"mr-2 h-4 w-4"}),C("Create Paynow Payment")]})})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:C("After confirming payment, return to this window. Your subscription will update automatically once you confirm payment completion.")})]})]})}function nn(e){var n,t=e.plan,r=e.billingCycle,o=e.paymentMethods,u=e.onSuccess,m=e.onCancel,g=p().t,N=c(l.useState(""),2),w=N[0],C=N[1],_=c(l.useState(""),2),S=_[0],k=_[1],E=c(l.useState(null),2),T=E[0],A=E[1],M=c(l.useState(!1),2),F=M[0],O=M[1],z=c(l.useState(!1),2),I=z[0],R=z[1],D=Number(t.price)||0,K=T?"percentage"===T.type?D*(Number(T.value)||0)/100:Number(T.value)||0:0,B=Math.max(0,D-K),q=B<=0,Y=function(){var e=i(s().m(function e(){var n,a,r;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(S.trim()){e.n=1;break}return h.error(g("Please enter a coupon code")),e.a(2);case 1:return O(!0),e.p=2,e.n=3,fetch(route("coupons.validate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({coupon_code:S,plan_id:t.id,amount:D})});case 3:return a=e.v,e.n=4,a.json();case 4:r=e.v,a.ok&&r.valid?(A(r.coupon),h.success(g("Coupon applied successfully"))):(h.error(r.message||g("Invalid coupon code")),A(null)),e.n=6;break;case 5:e.p=5,e.v,h.error(g("Failed to validate coupon")),A(null);case 6:return e.p=6,O(!1),e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),X=function(){R(!1),C("")},L=o.filter(function(e){return e.enabled}),W=L.some(function(e){return"paynow"===e.id});return I?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"font-medium",children:g("Complete Payment")}),d.jsx(j,{variant:"outline",size:"sm",onClick:X,children:g("Back")})]}),function(){var e,n,l,c,o,m,p,y,f,v,b,N,C,_,P,k,E,A,M,F,O,z,I,R,D,K,Y,L,U,W,G,J,H,V,$,Z,Q,ee,ne,ae,te,se,re,le,ie,ce,oe,de,ue,me,pe,he,xe,ye,fe,je,ve,nn,an,tn,sn,rn,ln,cn,on={planId:t.id,couponCode:S,billingCycle:r,onSuccess:u,onCancel:X};if(q&&w){var dn=function(){var e=i(s().m(function e(){var n,a,l;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(route("free-plan.subscribe"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({plan_id:t.id,billing_cycle:r,coupon_code:(null==T?void 0:T.code)||null})});case 1:return a=e.v,e.n=2,a.json();case 2:l=e.v,a.ok&&l.success?(h.success(l.message||g("Free plan activated successfully")),x.visit(window.location.href),u(l)):h.error(l.message||g("Failed to activate free plan")),e.n=4;break;case 3:e.p=3,e.v,h.error(g("An error occurred while activating your free plan"));case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}();return d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[d.jsx("h3",{className:"font-medium text-green-800",children:g("Ready to Activate Free Plan")}),d.jsx("p",{className:"text-sm text-green-600 mt-1",children:g("Click the button below to activate your free plan instantly")})]}),d.jsx(j,{onClick:dn,className:"w-full",children:g("Activate Free Plan")})]})}switch(w){case"manually":return d.jsx(Qe,{formData:{planId:t.id,planPrice:B,billingCycle:r,couponCode:null==T?void 0:T.code},onSuccess:u,onError:function(e){return h.error(e)}});case"stripe":return d.jsx(be,a(a({},on),{},{stripeKey:(null===(e=t.paymentMethods)||void 0===e?void 0:e.stripe_key)||""}));case"paypal":return d.jsx(ge,a(a({},on),{},{planPrice:Number(t.price),paypalClientId:(null===(n=t.paymentMethods)||void 0===n?void 0:n.paypal_client_id)||"",currency:(null===(l=t.paymentMethods)||void 0===l?void 0:l.defaultCurrency)||"USD"}));case"bank":return d.jsx(Ne,a(a({},on),{},{planPrice:Number(t.price),bankDetails:(null===(c=t.paymentMethods)||void 0===c?void 0:c.bank_detail)||""}));case"razorpay":return d.jsx(we,a(a({},on),{},{planPrice:Number(t.price),razorpayKey:(null===(o=t.paymentMethods)||void 0===o?void 0:o.razorpay_key)||"",currency:(null===(m=t.paymentMethods)||void 0===m?void 0:m.defaultCurrency)||"INR"}));case"mercadopago":return d.jsx(Ce,a(a({},on),{},{planPrice:Number(t.price),accessToken:(null===(p=t.paymentMethods)||void 0===p?void 0:p.mercadopago_access_token)||"",currency:(null===(y=t.paymentMethods)||void 0===y?void 0:y.defaultCurrency)||"BRL"}));case"paystack":return d.jsx(_e,a(a({},on),{},{planPrice:Number(t.price),paystackKey:(null===(f=t.paymentMethods)||void 0===f?void 0:f.paystack_public_key)||"",currency:(null===(v=t.paymentMethods)||void 0===v?void 0:v.defaultCurrency)||"NGN"}));case"flutterwave":return d.jsx(Se,a(a({},on),{},{planPrice:Number(t.price),flutterwaveKey:(null===(b=t.paymentMethods)||void 0===b?void 0:b.flutterwave_public_key)||"",currency:(null===(N=t.paymentMethods)||void 0===N?void 0:N.defaultCurrency)||"NGN"}));case"paytabs":return d.jsx(Pe,a(a({},on),{},{planPrice:Number(t.price),paytabsClientKey:"",currency:(null===(C=t.paymentMethods)||void 0===C?void 0:C.defaultCurrency)||"USD"}));case"skrill":return d.jsx(ke,a(a({},on),{},{planPrice:Number(t.price),skrillMerchantId:(null===(_=t.paymentMethods)||void 0===_?void 0:_.skrill_merchant_id)||"",currency:(null===(P=t.paymentMethods)||void 0===P?void 0:P.defaultCurrency)||"USD"}));case"coingate":return d.jsx(Ee,a(a({},on),{},{planPrice:Number(t.price),coinGateApiToken:(null===(k=t.paymentMethods)||void 0===k?void 0:k.coingate_api_token)||"",currency:(null===(E=t.paymentMethods)||void 0===E?void 0:E.defaultCurrency)||"USD"}));case"payfast":return d.jsx(Te,a(a({},on),{},{planPrice:Number(t.price),payfastMerchantId:(null===(A=t.paymentMethods)||void 0===A?void 0:A.payfast_merchant_id)||"",currency:(null===(M=t.paymentMethods)||void 0===M?void 0:M.defaultCurrency)||"ZAR"}));case"toyyibpay":return d.jsx(Ae,a(a({},on),{},{planPrice:Number(t.price),toyyibpayCategoryCode:(null===(F=t.paymentMethods)||void 0===F?void 0:F.toyyibpay_category_code)||"",currency:(null===(O=t.paymentMethods)||void 0===O?void 0:O.defaultCurrency)||"MYR"}));case"paynow":return d.jsx(en,a(a({},on),{},{planPrice:Number(t.price)}));case"paytr":return d.jsx(Me,a(a({},on),{},{planPrice:Number(t.price),paytrMerchantId:(null===(z=t.paymentMethods)||void 0===z?void 0:z.paytr_merchant_id)||"",currency:(null===(I=t.paymentMethods)||void 0===I?void 0:I.defaultCurrency)||"TRY"}));case"mollie":return d.jsx(Fe,a(a({},on),{},{planPrice:Number(t.price),mollieApiKey:(null===(R=t.paymentMethods)||void 0===R?void 0:R.mollie_api_key)||"",currency:(null===(D=t.paymentMethods)||void 0===D?void 0:D.defaultCurrency)||"EUR"}));case"cashfree":return d.jsx(Oe,a(a({},on),{},{planPrice:Number(t.price),cashfreeAppId:(null===(K=t.paymentMethods)||void 0===K?void 0:K.cashfree_public_key)||"",mode:(null===(Y=t.paymentMethods)||void 0===Y?void 0:Y.cashfree_mode)||"sandbox",currency:(null===(L=t.paymentMethods)||void 0===L?void 0:L.defaultCurrency)||"INR"}));case"iyzipay":return d.jsx(ze,a(a({},on),{},{planPrice:Number(t.price),iyzipayPublicKey:(null===(U=t.paymentMethods)||void 0===U?void 0:U.iyzipay_public_key)||"",currency:(null===(W=t.paymentMethods)||void 0===W?void 0:W.defaultCurrency)||"USD"}));case"benefit":return d.jsx(Ie,a(a({},on),{},{planPrice:Number(t.price),benefitPublicKey:(null===(G=t.paymentMethods)||void 0===G?void 0:G.benefit_public_key)||"",currency:(null===(J=t.paymentMethods)||void 0===J?void 0:J.defaultCurrency)||"BHD"}));case"ozow":return d.jsx(Re,a(a({},on),{},{planPrice:Number(t.price),ozowSiteKey:(null===(H=t.paymentMethods)||void 0===H?void 0:H.ozow_site_key)||"",currency:(null===(V=t.paymentMethods)||void 0===V?void 0:V.defaultCurrency)||"ZAR"}));case"easebuzz":return d.jsx(De,a(a({},on),{},{planPrice:Number(t.price),easebuzzMerchantKey:(null===($=t.paymentMethods)||void 0===$?void 0:$.easebuzz_merchant_key)||"",currency:(null===(Z=t.paymentMethods)||void 0===Z?void 0:Z.defaultCurrency)||"INR"}));case"khalti":return d.jsx(Ke,a(a({},on),{},{planPrice:Number(t.price),khaltiPublicKey:(null===(Q=t.paymentMethods)||void 0===Q?void 0:Q.khalti_public_key)||"",currency:(null===(ee=t.paymentMethods)||void 0===ee?void 0:ee.defaultCurrency)||"NPR"}));case"authorizenet":return d.jsx(Be,a(a({},on),{},{planPrice:Number(t.price),authorizenetMerchantId:(null===(ne=t.paymentMethods)||void 0===ne?void 0:ne.authorizenet_merchant_id)||"",currency:(null===(ae=t.paymentMethods)||void 0===ae?void 0:ae.defaultCurrency)||"USD"}));case"fedapay":return d.jsx(qe,a(a({},on),{},{planPrice:Number(t.price),fedapayPublicKey:(null===(te=t.paymentMethods)||void 0===te?void 0:te.fedapay_public_key)||"",currency:(null===(se=t.paymentMethods)||void 0===se?void 0:se.defaultCurrency)||"XOF"}));case"payhere":return d.jsx(Ye,a(a({},on),{},{planPrice:Number(t.price),payhereMerchantId:(null===(re=t.paymentMethods)||void 0===re?void 0:re.payhere_merchant_id)||"",currency:(null===(le=t.paymentMethods)||void 0===le?void 0:le.defaultCurrency)||"LKR"}));case"cinetpay":return d.jsx(Xe,a(a({},on),{},{planPrice:Number(t.price),cinetpaySiteId:(null===(ie=t.paymentMethods)||void 0===ie?void 0:ie.cinetpay_site_id)||"",currency:(null===(ce=t.paymentMethods)||void 0===ce?void 0:ce.defaultCurrency)||"XOF"}));case"paiement":return d.jsx(Le,a(a({},on),{},{planPrice:Number(t.price),paiementMerchantId:(null===(oe=t.paymentMethods)||void 0===oe?void 0:oe.paiement_merchant_id)||"",currency:(null===(de=t.paymentMethods)||void 0===de?void 0:de.defaultCurrency)||"XOF"}));case"nepalste":return d.jsx(Ue,a(a({},on),{},{planPrice:Number(t.price),nepalstePublicKey:(null===(ue=t.paymentMethods)||void 0===ue?void 0:ue.nepalste_public_key)||"",currency:(null===(me=t.paymentMethods)||void 0===me?void 0:me.defaultCurrency)||"NPR"}));case"yookassa":return d.jsx(We,a(a({},on),{},{planPrice:Number(t.price),yookassaShopId:(null===(pe=t.paymentMethods)||void 0===pe?void 0:pe.yookassa_shop_id)||"",currency:(null===(he=t.paymentMethods)||void 0===he?void 0:he.defaultCurrency)||"RUB"}));case"aamarpay":return d.jsx(Ge,a(a({},on),{},{planPrice:Number(t.price),aamarpayStoreId:(null===(xe=t.paymentMethods)||void 0===xe?void 0:xe.aamarpay_store_id)||"",currency:(null===(ye=t.paymentMethods)||void 0===ye?void 0:ye.defaultCurrency)||"BDT"}));case"midtrans":return d.jsx(Je,a(a({},on),{},{planPrice:Number(t.price),midtransSecretKey:(null===(fe=t.paymentMethods)||void 0===fe?void 0:fe.midtrans_secret_key)||"",currency:(null===(je=t.paymentMethods)||void 0===je?void 0:je.defaultCurrency)||"IDR"}));case"paymentwall":return d.jsx(He,a(a({},on),{},{planPrice:Number(t.price),paymentwallPublicKey:(null===(ve=t.paymentMethods)||void 0===ve?void 0:ve.paymentwall_public_key)||"",currency:(null===(nn=t.paymentMethods)||void 0===nn?void 0:nn.defaultCurrency)||"USD"}));case"sspay":return d.jsx(Ve,a(a({},on),{},{planPrice:Number(t.price),sspaySecretKey:(null===(an=t.paymentMethods)||void 0===an?void 0:an.sspay_secret_key)||"",currency:(null===(tn=t.paymentMethods)||void 0===tn?void 0:tn.defaultCurrency)||"MYR"}));case"tap":return d.jsx($e,a(a({},on),{},{planPrice:Number(t.price),tapSecretKey:(null===(sn=t.paymentMethods)||void 0===sn?void 0:sn.tap_secret_key)||"",currency:(null===(rn=t.paymentMethods)||void 0===rn?void 0:rn.defaultCurrency)||"USD"}));case"xendit":return d.jsx(Ze,a(a({},on),{},{planPrice:Number(t.price),xenditApiKey:(null===(ln=t.paymentMethods)||void 0===ln?void 0:ln.xendit_api_key)||"",currency:(null===(cn=t.paymentMethods)||void 0===cn?void 0:cn.defaultCurrency)||"PHP"}));default:return null}}()]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(v,{children:d.jsx(b,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:t.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[g(r)," ",g("subscription")]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-lg font-bold",children:window.appSettings.formatCurrency(t.price)}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["/",g(t.duration.toLowerCase())]})]})]})})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(y,{children:g("Select Payment Method")}),0===L.length?d.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[d.jsx("p",{children:g("No payment methods available")}),W&&d.jsx("p",{className:"text-xs",children:g("Paynow is enabled for this plan. Select Paynow from the list to continue.")})]}):d.jsx("div",{className:"space-y-2",children:L.map(function(e,n){return"paynow"===e.id?d.jsx(v,{className:"cursor-pointer transition-colors ".concat(w===e.id?"border-primary bg-primary/5":"hover:border-gray-300"),onClick:function(){return C(e.id)},children:d.jsx(b,{className:"p-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"text-primary",children:e.icon}),d.jsx("span",{className:"font-medium",children:e.name}),d.jsx(P,{variant:"secondary",className:"ml-auto",children:g("Mobile Express Only")})]})})},"".concat(e.id,"-").concat(n)):d.jsx(v,{className:"cursor-pointer transition-colors ".concat(w===e.id?"border-primary bg-primary/5":"hover:border-gray-300"),onClick:function(){return C(e.id)},children:d.jsx(b,{className:"p-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"text-primary",children:e.icon}),d.jsx("span",{className:"font-medium",children:e.name}),w===e.id&&d.jsx(P,{variant:"secondary",className:"ml-auto",children:g("Selected")})]})})},"".concat(e.id,"-").concat(n))})}),q&&w&&d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-3",children:d.jsx("p",{className:"text-sm text-green-700",children:g("This plan is free! You can activate it instantly.")})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs(y,{htmlFor:"coupon",children:[g("Coupon Code")," (",g("Optional"),")"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(f,{id:"coupon",value:S,onChange:function(e){return k(e.target.value)},placeholder:g("Enter coupon code"),className:"pr-10",disabled:!!T}),d.jsx(ae,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),T?d.jsx(j,{type:"button",variant:"outline",onClick:function(){A(null),k("")},children:g("Remove")}):d.jsx(j,{type:"button",variant:"outline",onClick:Y,disabled:!S.trim()||F,children:F?d.jsx(U,{className:"h-4 w-4 animate-spin"}):g("Apply")})]}),T&&d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("span",{className:"text-green-700 font-medium",children:[g("Coupon Applied"),": ",T.code]}),d.jsxs("span",{className:"text-green-600",children:["-","percentage"===T.type?"".concat(T.value,"%"):"".concat((null===(n=window)||void 0===n||null===(n=n.appSettings)||void 0===n||null===(n=n.currencySettings)||void 0===n?void 0:n.currencySymbol)||"$").concat(T.value)]})]})})]}),d.jsx(v,{children:d.jsx(b,{className:"p-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:g("Subtotal")}),d.jsx("span",{children:window.appSettings.formatCurrency(Number(D)||0)})]}),T&&d.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[d.jsx("span",{children:g("Discount")}),d.jsx("span",{children:window.appSettings.formatCurrency(Number(K)||0)})]}),d.jsx("div",{className:"border-t pt-2",children:d.jsxs("div",{className:"flex justify-between font-medium",children:[d.jsx("span",{children:g("Total")}),d.jsx("span",{children:window.appSettings.formatCurrency(Number(B)||0)})]})})]})})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(j,{variant:"outline",onClick:m,className:"flex-1",children:g("Cancel")}),d.jsx(j,{onClick:function(e){e.preventDefault(),q||w?R(!0):h.error(g("Please select a payment method"))},disabled:!q&&0===L.length,className:"flex-1",type:"button",children:q?g("Activate Free Plan"):"".concat(g("Pay")," ").concat(window.appSettings.formatCurrency(Number(B)||0))})]})]})}function an(e){var n=e.isOpen,a=e.onClose,t=e.plan,s=e.billingCycle,r=e.paymentMethods,l=p().t;return d.jsx(k,{open:n,onOpenChange:a,children:d.jsxs(E,{className:"max-w-md max-h-[90vh] flex flex-col",children:[d.jsx(T,{className:"flex-shrink-0",children:d.jsx(A,{children:l("Subscribe to {{planName}}",{planName:t.name})})}),d.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:d.jsx(nn,{plan:t,billingCycle:s,paymentMethods:r,onSuccess:function(){a()},onCancel:a})})]})})}}}})}();

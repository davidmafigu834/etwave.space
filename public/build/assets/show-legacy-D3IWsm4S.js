!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(t,n,l){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var l=t[Symbol.toPrimitive];if(void 0!==l){var r=l.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[n]=l,t}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,r,a,s,c=[],i=!0,o=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(l=a.call(n)).done)&&(c.push(l.value),c.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{if(!i&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(o)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ct73uABr.js","./page-template-legacy-et8O2PIf.js","./tabs-legacy-KjUAYJwy.js","./rich-text-editor-legacy-M3FSE8HQ.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js","./app-layout-legacy-BbvocKkk.js","./app-sidebar-layout-legacy-DjGq5XwB.js","./textarea-legacy-DhpF_zd4.js","./select-legacy-DJ7KqnGK.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-C3cU62dz.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./sparkles-legacy-DXvM6dmp.js","./loader-circle-legacy-BAWBSNTr.js","./copy-legacy-CyY0zsNU.js","./chevron-right-legacy-D5fLjpJA.js","./language-switcher-legacy-BfnK_KLk.js","./globe-legacy-D167FJxM.js","./chart-column-legacy-xaxxIszB.js","./briefcase-legacy-fFmYMQCB.js","./package-legacy-BXVFs7qu.js","./credit-card-legacy-oVK_vO6r.js","./dollar-sign-legacy-De4_eAPE.js","./mail-legacy-DchUy0NJ.js","./users-legacy-CIHfY2gt.js","./settings-legacy-BXGYMxCJ.js","./message-square-legacy-CVHCr5Dt.js","./calendar-legacy-DdDaxKxU.js","./wallet-legacy-DOeLcv8c.js","./shopping-bag-legacy-BRpvr-V3.js","./building-2-legacy-Dj3cFBKu.js","./user-legacy-cMI1gv9J.js","./arrow-left-legacy-CqQR3bfj.js","./use-favicon-legacy-CbpIBPd5.js","./cookie-consent-legacy-BD_speLP.js","./unlink-legacy-B-z4dptl.js","./list-legacy-D-kIW24o.js","./quote-legacy-CA3k2GyX.js","./code-legacy-CD7E-MSX.js"],function(e,t){"use strict";var a,s,c,i,o,u,d,m,j,g,p,f,y,x,h,v,b,N,w,C,S,O,T;return{setters:[function(e){a=e.r,s=e.j},function(e){c=e.k,i=e.L,o=e.u,u=e.K,d=e.t,m=e.n,j=e.C,g=e.d,p=e.e,f=e.B,y=e.w,x=e.S,h=e.g,v=e.I,b=e.i},function(e){N=e.P},function(e){w=e.T,C=e.a,S=e.b,O=e.c},function(e){T=e.R},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",function(e){var c,T,k=e.template,E=e.languages,P=e.variables,A=o().t,I=u().props.flash,F=r(a.useState(k.from),2),z=F[0],D=F[1],R=r(a.useState((null===(c=E[0])||void 0===c?void 0:c.code)||"en"),2),U=R[0],_=R[1],V=r(a.useState(k.email_template_langs.reduce(function(e,t){return e[t.lang]={subject:t.subject,content:t.content},e},{})),2),q=V[0],L=V[1];a.useEffect(function(){null!=I&&I.success&&d.success(I.success),null!=I&&I.error&&d.error(I.error)},[I]);var M=[{title:A("Dashboard"),href:route("dashboard")},{title:A("Email Templates"),href:route("email-templates.index")},{title:k.name}];return s.jsxs(N,{title:k.name,url:route("email-templates.show",k.id),breadcrumbs:M,actions:[],children:[s.jsx(m,{title:"Edit Template - ".concat(k.name)}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(j,{children:[s.jsx(g,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(p,{children:A("Template Settings")}),s.jsxs(f,{onClick:function(){x.put(route("email-templates.update-settings",k.id),{from:z})},size:"sm",children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),A("Save Changes")]})]})}),s.jsxs(h,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(i,{children:A("Template Name")}),s.jsx(v,{value:k.name,disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:A("Template name cannot be changed")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(i,{htmlFor:"from",children:A("From Name")}),s.jsx(v,{id:"from",value:z,onChange:function(e){return D(e.target.value)},placeholder:A("Enter from name (e.g., {app_name}, Support Team)"),className:"focus:ring-2 focus:ring-primary"})]})]})]}),s.jsxs(j,{children:[s.jsx(g,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(p,{children:A("Email Content")}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:A("Customize email content for different languages")})]}),s.jsxs(f,{onClick:function(){var e=q[U];e&&x.put(route("email-templates.update-content",k.id),{lang:U,subject:e.subject,content:e.content})},size:"sm",className:"shrink-0",children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),A("Save Content")]})]})}),s.jsx(h,{children:s.jsxs(w,{defaultValue:null===(T=E[0])||void 0===T?void 0:T.code,onValueChange:_,className:"w-full",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsx(C,{className:"inline-flex h-auto p-1 w-max",children:E.map(function(e){return s.jsx(S,{value:e.code,className:"text-xs px-3 py-2 whitespace-nowrap data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:e.code.toUpperCase()},e.code)})})})}),E.map(function(e){var r,a;return s.jsxs(O,{value:e.code,className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx(b,{variant:"default",className:"px-3 py-1",children:e.code.toUpperCase()}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:e.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:A("Edit email content for this language")})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-3",children:[s.jsx(i,{htmlFor:"subject-".concat(e.code),className:"text-sm font-medium",children:A("Email Subject")}),s.jsx(v,{id:"subject-".concat(e.code),value:(null===(r=q[e.code])||void 0===r?void 0:r.subject)||"",onChange:function(t){return r=e.code,a=t.target.value,void L(function(e){return n(n({},e),{},l({},r,n(n({},e[r]),{},{subject:a})))});var r,a},placeholder:A("Enter email subject (you can use variables like {app_name})"),className:"focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(t,{label:"Email Content",value:(null===(a=q[e.code])||void 0===a?void 0:a.content)||"",onChange:function(t){return function(e,t){L(function(r){return n(n({},r),{},l({},e,n(n({},r[e]),{},{content:t})))})}(e.code,t)},placeholder:A("Write your email content here. You can use HTML formatting and variables..."),className:"min-h-[300px]"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ðŸ’¡ ",A("Tip: Use the variables from the sidebar to personalize your emails")]})]})]})]},e.code)})]})})]})]}),s.jsx("div",{children:s.jsxs(j,{children:[s.jsxs(g,{children:[s.jsxs(p,{className:"flex items-center gap-2",children:[s.jsx("span",{children:A("Available Variables")}),s.jsx(b,{variant:"secondary",className:"text-xs",children:Object.keys(P).length})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:A("Click to copy variables to use in your email content")})]}),s.jsxs(h,{children:[s.jsx("div",{className:"space-y-3",children:Object.entries(P).map(function(e){var t=r(e,2),n=t[0],l=t[1];return s.jsxs("div",{className:"group p-3 bg-muted/50 rounded-lg border hover:bg-muted/80 cursor-pointer transition-colors",onClick:function(){navigator.clipboard.writeText(n)},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("code",{className:"text-sm font-mono text-primary font-medium bg-background px-1.5 py-0.5 rounded",children:n}),s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(b,{variant:"outline",className:"text-xs",children:A("Click to copy")})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 leading-relaxed",children:l})]},n)})}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-700",children:["ðŸ’¡ ",s.jsxs("strong",{children:[A("Tip"),":"]})," ",A("These variables will be automatically replaced with actual values when emails are sent.")]})})]})]})})]})]})});var t=a.forwardRef(function(e,t){var n=e.label,l=e.name,r=e.value,o=void 0===r?"":r,u=e.onChange,d=e.placeholder,m=e.className,j=e.error,g=e.required,p=e.disabled,f=void 0!==p&&p,y=a.useRef(null);return a.useImperativeHandle(t,function(){return{getContent:function(){var e;return(null===(e=y.current)||void 0===e?void 0:e.getContent())||""},setContent:function(e){var t;return null===(t=y.current)||void 0===t?void 0:t.setContent(e)},focus:function(){var e;return null===(e=y.current)||void 0===e?void 0:e.focus()}}}),s.jsxs("div",{className:c("space-y-2",m),children:[n&&s.jsxs(i,{htmlFor:l,className:"text-sm font-medium",children:[n,g&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(T,{ref:y,content:o,onChange:u,placeholder:d,editable:!f,className:c(j&&"border-destructive",f&&"opacity-50 cursor-not-allowed")}),j&&s.jsx("p",{className:"text-sm text-destructive",children:j})]})});t.displayName="RichTextField"}}})}();

!function(){function e(e,l){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var r,t,n,i,a=[],c=!0,d=!1;try{if(n=(l=l.call(e)).next,0===s){if(Object(l)!==l)return;c=!1}else for(;!(c=(r=n.call(l)).done)&&(a.push(r.value),a.length!==s);c=!0);}catch(e){d=!0,t=e}finally{try{if(!c&&null!=l.return&&(i=l.return(),Object(i)!==i))return}finally{if(d)throw t}}return a}}(e,l)||function(e,l){if(e){if("string"==typeof e)return s(e,l);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,l):void 0}}(e,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,s){(null==s||s>e.length)&&(s=e.length);for(var l=0,r=Array(s);l<s;l++)r[l]=e[l];return r}System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ccoue2ey.js","./users-legacy-Cz-M9xyG.js","./clock-legacy-C2ey8uhF.js","./dollar-sign-legacy-BUXPIc5Q.js","./trending-up-legacy-CZfISHGe.js","./award-legacy-D3fiie_u.js","./copy-legacy-BIfPI-rv.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js"],function(s,l){"use strict";var r,t,n,i,a,c,d,o,x,m,u,f,h,j,p,g,y,v;return{setters:[function(e){r=e.r,t=e.j},function(e){n=e.u,i=e.C,a=e.d,c=e.e,d=e.g,o=e.i,x=e.I,m=e.B,u=e.F,f=e.t},function(e){h=e.U},function(e){j=e.C},function(e){p=e.D},function(e){g=e.T},function(e){y=e.A},function(e){v=e.C},null,null],execute:function(){s("default",function(s){var l,N,b,w,C=s.userType,S=s.stats,k=s.referralLink,R=s.recentReferredUsers,T=n().t,A=e(r.useState(!1),2),P=A[0],U=(A[1],function(e){(function(e){if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(e);var s=document.createElement("textarea");return s.value=e,s.style.position="fixed",s.style.left="-999999px",s.style.top="-999999px",document.body.appendChild(s),s.focus(),s.select(),new Promise(function(e,l){document.execCommand("copy")?(s.remove(),e()):(s.remove(),l(new Error("Copy failed")))})})(e).then(function(){f.success(T("Link copied to clipboard"))}).catch(function(){f.error(T("Failed to copy link"))})});return"superadmin"===C?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(i,{children:[t.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(c,{className:"text-sm font-medium",children:T("Total Referral Users")}),t.jsx(h,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(d,{children:t.jsx("div",{className:"text-2xl font-bold",children:S.totalReferralUsers})})]}),t.jsxs(i,{children:[t.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(c,{className:"text-sm font-medium",children:T("Pending Payouts")}),t.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(d,{children:t.jsx("div",{className:"text-2xl font-bold",children:S.pendingPayouts})})]}),t.jsxs(i,{children:[t.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(c,{className:"text-sm font-medium",children:T("Total Commission Paid")}),t.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(d,{children:t.jsxs("div",{className:"text-2xl font-bold",children:[(null===(l=window)||void 0===l||null===(l=l.appSettings)||void 0===l||null===(l=l.currencySettings)||void 0===l?void 0:l.currencySymbol)||"$",S.totalCommissionPaid]})})]}),t.jsxs(i,{children:[t.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(c,{className:"text-sm font-medium",children:T("Active Companies")}),t.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(d,{children:t.jsx("div",{className:"text-2xl font-bold",children:(null===(N=S.topCompanies)||void 0===N?void 0:N.length)||0})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(i,{children:[t.jsx(a,{children:t.jsx(c,{children:T("Top Referring Companies")})}),t.jsx(d,{children:t.jsx("div",{className:"space-y-4",children:null===(b=S.topCompanies)||void 0===b?void 0:b.slice(0,5).map(function(e,s){var l;return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(o,{variant:"outline",className:"w-6 h-6 rounded-full p-0 flex items-center justify-center",children:s+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium",children:[e.referral_count," ",T("referrals")]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[(null===(l=window)||void 0===l||null===(l=l.appSettings)||void 0===l||null===(l=l.currencySettings)||void 0===l?void 0:l.currencySymbol)||"$",e.total_earned]})]})]},e.id)})})})]}),t.jsxs(i,{children:[t.jsx(a,{children:t.jsx(c,{children:T("Monthly Performance")})}),t.jsx(d,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:T("Referral Signups")}),t.jsx("div",{className:"text-2xl font-bold",children:Object.values(S.monthlyReferrals||{}).reduce(function(e,s){return e+s},0)}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T("This year")})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:T("Payouts Processed")}),t.jsxs("div",{className:"text-2xl font-bold",children:[(null===(w=window)||void 0===w||null===(w=w.appSettings)||void 0===w||null===(w=w.currencySettings)||void 0===w?void 0:w.currencySymbol)||"$",Object.values(S.monthlyPayouts||{}).reduce(function(e,s){return e+s},0)]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T("This year")})]})]})})]})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(i,{children:t.jsx(d,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:T("Total Referrals")}),t.jsx("h3",{className:"mt-2 text-2xl font-bold",children:S.totalReferrals})]}),t.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900",children:t.jsx(h,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),t.jsx(i,{children:t.jsx(d,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:T("Referred Users")}),t.jsx("h3",{className:"mt-2 text-2xl font-bold",children:S.referredUsersCount||0})]}),t.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900",children:t.jsx(h,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),t.jsx(i,{children:t.jsx(d,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:T("Total Earned")}),t.jsx("h3",{className:"mt-2 text-2xl font-bold",children:window.appSettings.formatCurrency(S.totalEarned)})]}),t.jsx("div",{className:"rounded-full bg-yellow-100 p-3 dark:bg-yellow-900",children:t.jsx(p,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})}),t.jsx(i,{children:t.jsx(d,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:T("Available Balance")}),t.jsx("h3",{className:"mt-2 text-2xl font-bold",children:window.appSettings.formatCurrency(S.availableBalance)})]}),t.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900",children:t.jsx(y,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(i,{children:[t.jsx(a,{children:t.jsx(c,{children:T("Your Referral Link")})}),t.jsxs(d,{children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(x,{value:k||"",readOnly:!0,className:"flex-1"}),t.jsx(m,{onClick:function(){k&&U(k)},variant:"outline",size:"icon",children:P?t.jsx(u,{className:"h-4 w-4"}):t.jsx(v,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:T("Share this link to earn commissions when users sign up and purchase plans")})]})]}),t.jsxs(i,{children:[t.jsxs(a,{className:"flex flex-row items-center justify-between",children:[t.jsx(c,{children:T("Recent Referred Users")}),t.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:t.jsx("a",{href:route("referral.referred-users"),children:T("View All")})})]}),t.jsx(d,{children:R&&R.length>0?t.jsx("div",{className:"space-y-3",children:R.map(function(e){return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-medium text-primary",children:e.name.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:e.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:e.email})]})]}),t.jsx("div",{className:"text-right",children:e.plan?t.jsx(o,{variant:"default",className:"text-xs",children:e.plan.name}):t.jsx(o,{variant:"secondary",className:"text-xs",children:T("No Plan")})})]},e.id)})}):t.jsxs("div",{className:"text-center py-4",children:[t.jsx(h,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T("No referred users yet")})]})})]})]})]})})}}})}();

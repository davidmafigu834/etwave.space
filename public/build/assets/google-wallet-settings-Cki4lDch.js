import{r as n,j as e}from"./ui-XtzbmeJx.js";import{u as W,q as S,L as x,I as f,U as v,B as N,w,S as y,t as i}from"./app-CHRIhyY0.js";import{E as G}from"./external-link-DvDG2v64.js";import"./vendor-CxtKjBZA.js";import"./utils-CCVAIzGD.js";function C({settings:h={}}){const{t:s}=W(),[d,r]=n.useState(!1),[c,b]=n.useState({googleWalletIssuerId:h.googleWalletIssuerId||""}),[g,j]=n.useState(null),I=t=>{t.preventDefault(),r(!0);const l=new FormData;l.append("googleWalletIssuerId",c.googleWalletIssuerId),g&&l.append("googleWalletJson",g),y.post(route("settings.google-wallet.update"),l,{preserveScroll:!0,onSuccess:o=>{var m,p;r(!1);const a=(m=o.props.flash)==null?void 0:m.success,u=(p=o.props.flash)==null?void 0:p.error;a?i.success(a):u&&i.error(u)},onError:o=>{r(!1);const a=o.error||Object.values(o).join(", ")||s("Failed to update Google Wallet settings");i.error(a)}})};return e.jsxs(S,{title:s("Google Wallet Settings"),description:s("Configure Google Wallet integration for digital passes"),action:e.jsxs(N,{type:"submit",form:"google-wallet-form",disabled:d,size:"sm",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),s(d?"Saving...":"Save Changes")]}),children:[e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:s("How to Get Google Wallet Credentials")})]}),e.jsx("a",{href:"https://developers.google.com/wallet/generic/web/prerequisites",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline mt-1 inline-block",children:s("View Documentation")})]}),e.jsx("form",{id:"google-wallet-form",onSubmit:I,className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"googleWalletIssuerId",children:s("Google Wallet Issuer ID")}),e.jsx(f,{id:"googleWalletIssuerId",type:"text",value:window.isDemo?"************":c.googleWalletIssuerId,onChange:t=>b(l=>({...l,googleWalletIssuerId:t.target.value})),placeholder:s("Enter your Google Wallet Issuer ID")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"googleWalletJson",children:s("Google Wallet JSON File")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{id:"googleWalletJson",type:"file",accept:".json",onChange:t=>{var l;return j(((l=t.target.files)==null?void 0:l[0])||null)},className:"flex-1"}),e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("JSON files only, max 2MB")})]})]})})]})}export{C as default};

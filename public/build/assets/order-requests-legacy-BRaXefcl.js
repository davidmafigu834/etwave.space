!function(){function e(l){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(l)}function l(e,l){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);l&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach(function(l){n(e,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))})}return e}function n(l,r,n){return(r=function(l){var r=function(l,r){if("object"!=e(l)||!l)return l;var n=l[Symbol.toPrimitive];if(void 0!==n){var t=n.call(l,r||"default");if("object"!=e(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(l)}(l,"string");return"symbol"==e(r)?r:r+""}(r))in l?Object.defineProperty(l,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[r]=n,l}function t(e,l){return function(e){if(Array.isArray(e))return e}(e)||function(e,l){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,t,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,0===l){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==l);u=!0);}catch(e){o=!0,t=e}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw t}}return c}}(e,l)||function(e,l){if(e){if("string"==typeof e)return a(e,l);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,l):void 0}}(e,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,l){(null==l||l>e.length)&&(l=e.length);for(var r=0,n=Array(l);r<l;r++)n[r]=e[r];return n}System.register(["./ui-legacy-Df76W54t.js","./page-template-legacy-vdr7rymY.js","./CrudTable-legacy-CqL2qdCH.js","./CrudDeleteModal-legacy-B7dcXYhE.js","./columnRenderers-legacy-DiWcgjG-.js","./i18n-legacy-BNgQn_hW.js","./app-legacy--_EH1FA6.js","./pagination-legacy-CHfywoD0.js","./search-and-filter-bar-legacy-LX7-33hV.js","./vendor-legacy-DNs0y6R6.js","./app-layout-legacy-Ddjw4cyv.js","./app-sidebar-layout-legacy-DNUIHr2c.js","./textarea-legacy-C9BYI3_s.js","./select-legacy-CnS4pGYt.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-COSjq7BD.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./sparkles-legacy-CpybO37S.js","./loader-circle-legacy-BeSZcCZ2.js","./copy-legacy-B65eKCL5.js","./chevron-right-legacy-BajxNCtJ.js","./language-switcher-legacy-DyZl0IOB.js","./globe-legacy-D5ETsV0D.js","./chart-column-legacy-pf9KtNzA.js","./briefcase-legacy-qN8cP4rv.js","./package-legacy-BhxOSnhZ.js","./credit-card-legacy-D9le2VX2.js","./dollar-sign-legacy-Bra6CllU.js","./mail-legacy-BRLD7bu-.js","./users-legacy-CHx64N_f.js","./settings-legacy-C4yHeyf-.js","./message-square-legacy-tsOtqq3E.js","./calendar-legacy-iowv-fv-.js","./wallet-legacy-DkvJP23h.js","./shopping-bag-legacy-CZi31-ql.js","./user-legacy-NZm5tz0X.js","./arrow-left-legacy-DNBUkron.js","./use-favicon-legacy-CK09Bl0i.js","./cookie-consent-legacy-Dhln_i9Y.js","./table-legacy-CMQ1r_Ix.js","./activity-legacy-DEUx1BgK.js","./unlink-legacy-BvLCmFwh.js","./arrow-up-legacy-DGCDD9E3.js","./arrow-right-legacy-CAljkhL3.js","./arrow-up-down-legacy-DqkVp6Jh.js","./arrow-up-right-legacy-0FJVws6_.js","./award-legacy-Dyb3Nl7f.js","./banknote-legacy-DOJMfX7K.js","./bell-ring-legacy-BH4G1HDd.js","./bot-legacy-D6-1vktY.js","./crown-legacy-MNrEq8Mx.js","./building-legacy-BLSL5NKj.js","./youtube-legacy-BBUIvUSK.js","./camera-legacy-CQ8PBFHa.js","./wrench-legacy-D81un8bx.js","./chart-pie-legacy-DXp8ODxr.js","./chevron-left-legacy-DAVguAs7.js","./circle-check-big-legacy-BmT8bW7v.js","./circle-check-legacy-Db25cqmC.js","./circle-help-legacy-B0WcNwuj.js","./pencil-line-legacy-DqaOqChk.js","./circle-x-legacy-rEFjtk3a.js","./circle-legacy-CFKeO_55.js","./clock-legacy-DPFTDwZl.js","./code-legacy-BtEJ3RvS.js","./indian-rupee-legacy-x0PyNiZY.js","./compass-legacy-HHLHfpz0.js","./download-legacy-gDh_kNXj.js","./droplet-legacy-Bc1Viosj.js","./ellipsis-vertical-legacy-D3seKI73.js","./ellipsis-legacy-DGlZDTkx.js","./external-link-legacy-Oleok4lO.js","./eye-off-legacy-D2CzO_5D.js","./eye-legacy-BrYeqeQa.js","./facebook-legacy-6ikRS8Kl.js","./power-legacy-a4G48fsa.js","./filter-legacy-e0LLGuF6.js","./graduation-cap-legacy-CjBpe7F7.js","./navigation-legacy-BOnn_YGX.js","./grip-vertical-legacy-CThpkhNo.js","./hammer-legacy-Cs-sosFO.js","./hard-drive-legacy-e1S4Y4SJ.js","./heart-legacy-BLPpVTlu.js","./house-legacy-BQl1w0G0.js","./instagram-legacy-gpEv5SC6.js","./lock-open-legacy-CsowjNh9.js","./layers-legacy-Dn3u2Tyq.js","./lightbulb-legacy-Btxv6B7J.js","./link-2-legacy-D2QnNN5A.js","./linkedin-legacy-DcpVCME1.js","./list-legacy-BJRJqdGM.js","./lock-legacy-DM6U3Qmy.js","./map-pin-legacy-B_A4aqAe.js","./menu-legacy-CvW6r3OV.js","./message-circle-legacy-2KsGSDdx.js","./monitor-legacy-8iTAL-N9.js","./pencil-legacy-ZcRT5tb0.js","./shield-check-legacy-BaVzgFPo.js","./phone-legacy-BnczCY13.js","./play-legacy-Cn95K32j.js","./qr-code-legacy-qa5kcxhz.js","./quote-legacy-DX6ytb6E.js","./refresh-cw-legacy-CGZ3o_cC.js","./rocket-legacy-B3scH30z.js","./send-legacy-CLB823Pn.js","./server-legacy-B3mppOtg.js","./share-2-legacy-C3YcVHuT.js","./shield-legacy-4TJ9lV1a.js","./shopping-cart-legacy-D1TvS2wB.js","./smartphone-legacy-_-gCYKHM.js","./square-pen-legacy-DdPVLCZY.js","./star-legacy-CXSG1RMb.js","./sticky-note-legacy-B6DtsUV6.js","./store-legacy-B3ahqPE2.js","./sun-medium-legacy-BjonGbNU.js","./tag-legacy-DFdF1Wcu.js","./target-legacy-Bi-ZdAV0.js","./ticket-legacy-BREueczS.js","./trash-2-legacy-BHziuAts.js","./trending-up-legacy-Be5Bqsq4.js","./twitter-legacy-BpSjNiaN.js","./type-legacy-dszb-kdT.js","./user-x-legacy-CfemxhYy.js","./video-legacy-h4grc_mK.js","./waves-legacy-C1lOKoXs.js","./webhook-legacy-Dxf6mrnn.js","./wifi-legacy-BZVEFcZH.js","./zap-legacy-S8IPLZAD.js","./switch-legacy-DR4XdF-9.js","./utils-legacy-4AQaPo1J.js","./date-picker-legacy-BJne9_9X.js"],function(e,l){"use strict";var a,s,c,u,o,i,g,d,y,j,f,p,v;return{setters:[function(e){a=e.r,s=e.j},function(e){c=e.P},function(e){u=e.C},function(e){o=e.C},function(e){i=e.c},function(e){g=e.t},function(e){d=e.u,y=e.K,j=e.t,f=e.S},function(e){p=e.P},function(e){v=e.S},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",function(){var e,i,g,b,m=d().t,h=y().props,w=h.flash,S=h.orderRequests,k=h.filters,q=void 0===k?{}:k,O=h.auth,C=(null==O?void 0:O.permissions)||[],F="superadmin"===(null===(e=O.user)||void 0===e?void 0:e.type),N=t(a.useState(q.search||""),2),P=N[0],x=N[1],E=t(a.useState({}),2),A=E[0],_=E[1],R=t(a.useState(!1),2),D=R[0],T=R[1],M=t(a.useState(!1),2),I=M[0],U=M[1],$=t(a.useState(null),2),z=$[0],B=$[1];a.useEffect(function(){null!=w&&w.success&&j.success(w.success),null!=w&&w.error&&j.error(w.error)},[w]),a.useEffect(function(){var e,r={};null===(e=l.filters)||void 0===e||e.forEach(function(e){r[e.key]=q[e.key]||""}),_(r)},[]);var K=function(){var e={page:1};P&&(e.search=P),Object.entries(A).forEach(function(l){var r=t(l,2),n=r[0],a=r[1];a&&"all"!==a&&""!==a&&(e[n]=a)}),q.per_page&&(e.per_page=q.per_page),f.get(route("nfc-cards.order-requests"),e,{preserveState:!0,preserveScroll:!0})},Q=[{title:m("Dashboard"),href:route("dashboard")},{title:m("NFC Cards"),href:route("nfc-cards.index")},{title:m(F?"NFC Card Order Requests":"My Order Requests")}];a.useEffect(function(){window.auth=O},[O]);var X=null===(i=l.table.actions)||void 0===i?void 0:i.map(function(e){return r(r({},e),{},{label:m(e.label)})});return s.jsxs(c,{title:m(F?"NFC Card Order Requests":"My Order Requests"),url:"/nfc-cards/order-requests",breadcrumbs:Q,noPadding:!0,children:[s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow mb-4 p-4",children:s.jsx(v,{searchTerm:P,onSearchChange:x,onSearch:function(e){e.preventDefault(),K()},filters:(null===(g=l.filters)||void 0===g?void 0:g.map(function(e){var l;return{name:e.key,label:m(e.label),type:"select",value:A[e.key]||"",onChange:function(l){return function(e,l){var a=r(r({},A),{},n({},e,l));_(a);var s={page:1};P&&(s.search=P),Object.entries(a).forEach(function(e){var l=t(e,2),r=l[0],n=l[1];n&&""!==n&&"all"!==n&&(s[r]=n)}),q.per_page&&(s.per_page=q.per_page),f.get(route("nfc-cards.order-requests"),s,{preserveState:!0,preserveScroll:!0})}(e.key,l)},options:(null===(l=e.options)||void 0===l?void 0:l.map(function(e){return{value:e.value,label:m(e.label)}}))||[]}}))||[],showFilters:D,setShowFilters:T,hasActiveFilters:function(){return Object.entries(A).some(function(e){var l=t(e,2),r=(l[0],l[1]);return r&&""!==r})||""!==P},activeFilterCount:function(){return Object.values(A).filter(function(e){return e&&""!==e}).length+(P?1:0)},onResetFilters:function(){var e;x("");var r={};null===(e=l.filters)||void 0===e||e.forEach(function(e){r[e.key]=""}),_(r),f.get(route("nfc-cards.order-requests"),{page:1},{preserveState:!0,preserveScroll:!0})},onApplyFilters:K,currentPerPage:(null===(b=q.per_page)||void 0===b?void 0:b.toString())||"10",onPerPageChange:function(e){var l={page:1,per_page:parseInt(e)};P&&(l.search=P),Object.entries(A).forEach(function(e){var r=t(e,2),n=r[0],a=r[1];a&&""!==a&&(l[n]=a)}),f.get(route("nfc-cards.order-requests"),l,{preserveState:!0,preserveScroll:!0})}})}),s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow overflow-hidden",children:[s.jsx(u,{columns:l.table.columns.filter(function(e){return!e.condition||e.condition()}).map(function(e){return r(r({},e),{},{label:m(e.label)})}),actions:X,data:(null==S?void 0:S.data)||[],from:(null==S?void 0:S.from)||1,onAction:function(e,l){"approve"===e?(j.loading(m("Approving order request...")),f.post(route("nfc-cards.approve-order",l.id),{},{onSuccess:function(){j.dismiss(),j.success(m("NFC card order request approved successfully"))},onError:function(e){j.dismiss(),j.error(m("Failed to approve NFC card order request"))}})):"reject"===e?(j.loading(m("Rejecting order request...")),f.post(route("nfc-cards.reject-order",l.id),{},{onSuccess:function(){j.dismiss(),j.success(m("NFC card order request rejected successfully"))},onError:function(e){j.dismiss(),j.error(m("Failed to reject NFC card order request"))}})):"delete"===e&&(B(l),U(!0))},permissions:C,entityPermissions:l.entity.permissions}),s.jsx(p,{from:(null==S?void 0:S.from)||0,to:(null==S?void 0:S.to)||0,total:(null==S?void 0:S.total)||0,links:null==S?void 0:S.links,entityName:m("NFC card order requests"),onPageChange:function(e){return f.get(e)}})]}),s.jsx(o,{isOpen:I,onClose:function(){return U(!1)},onConfirm:function(){j.loading(m("Deleting order request...")),f.delete(route("nfc-cards.order-requests.destroy",z.id),{onSuccess:function(){U(!1),j.dismiss()},onError:function(e){j.dismiss(),j.error(m("Failed to delete NFC card order request"))}})},itemName:"Order #".concat(null==z?void 0:z.id)||"",entityName:"NFC card order request"})]})});var l={entity:{endpoint:route("nfc-cards.order-requests"),permissions:{view:"view-nfc-card-order-requests",create:"create-nfc-card-order-requests",edit:"edit-nfc-card-order-requests",delete:"delete-nfc-card-order-requests"}},description:g("Manage NFC card order requests from users"),table:{columns:[{key:"user.name",label:g("User Name"),sortable:!0,condition:function(){var e;return"superadmin"===(null===(e=window.auth)||void 0===e||null===(e=e.user)||void 0===e?void 0:e.type)}},{key:"business.name",label:g("Business Name"),sortable:!0},{key:"nfc_card.name",label:g("NFC Card"),sortable:!0},{key:"quantity",label:g("Quantity"),sortable:!0},{key:"original_price",label:g("Unit Price"),render:function(e){var l;return e?(null===(l=window.appSettings)||void 0===l?void 0:l.formatCurrency(e))||"$".concat(parseFloat(e).toFixed(2)):"-"}},{key:"total_price",label:g("Total Price"),render:function(e){var l;return e?(null===(l=window.appSettings)||void 0===l?void 0:l.formatCurrency(e))||"$".concat(parseFloat(e).toFixed(2)):"-"}},{key:"status",label:g("Status"),render:i.status()},{key:"created_at",label:g("Requested At"),sortable:!0,render:function(e){return"".concat(window.appSettings.formatDateTime(e,!1))}}],actions:[{label:g("Approve"),icon:"Check",action:"approve",className:"text-green-600",condition:function(e){var l;return"pending"===e.status&&"superadmin"===(null===(l=window.auth)||void 0===l||null===(l=l.user)||void 0===l?void 0:l.type)}},{label:g("Reject"),icon:"X",action:"reject",className:"text-red-600",condition:function(e){var l;return"pending"===e.status&&"superadmin"===(null===(l=window.auth)||void 0===l||null===(l=l.user)||void 0===l?void 0:l.type)}},{label:g("Delete"),icon:"Trash2",action:"delete",className:"text-red-500",condition:function(e){return"pending"===e.status}}]},search:{placeholder:g("Search order requests...")},filters:[{key:"status",label:g("Status"),type:"select",options:[{value:"all",label:g("All Status")},{value:"pending",label:g("Pending")},{value:"approved",label:g("Approved")},{value:"rejected",label:g("Rejected")}]}]}}}})}();

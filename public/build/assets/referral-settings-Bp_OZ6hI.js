import{r as _,j as e}from"./ui-XtzbmeJx.js";import{u as j,m as f,C as b,d as v,e as S,g as C,L as o,I as u,B as y,t as h}from"./app-CHRIhyY0.js";import{T as N}from"./textarea-aJ3buVnx.js";import{S as E}from"./switch-Bs9N4aMe.js";import"./vendor-CxtKjBZA.js";import"./utils-CCVAIzGD.js";function B({settings:s}){var m,c;const{t:r}=j(),{data:i,setData:t,post:p,processing:l,errors:n,reset:d}=f({is_enabled:s.is_enabled,commission_percentage:s.commission_percentage,threshold_amount:s.threshold_amount,guidelines:s.guidelines||""});_.useEffect(()=>{d({is_enabled:s.is_enabled,commission_percentage:s.commission_percentage,threshold_amount:s.threshold_amount,guidelines:s.guidelines||""})},[s.is_enabled,s.commission_percentage,s.threshold_amount,s.guidelines,d]);const g=a=>{a.preventDefault(),p(route("referral.settings.update"),{onSuccess:()=>{h.success(r("Referral settings updated successfully"))},onError:x=>{console.error("Failed to update referral settings:",x),h.error(r("Failed to update referral settings"))}})};return e.jsxs(b,{children:[e.jsx(v,{children:e.jsx(S,{children:r("Referral Program Settings")})}),e.jsx(C,{children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{id:"is_enabled",checked:i.is_enabled,onCheckedChange:a=>{t("is_enabled",a)}}),e.jsx(o,{htmlFor:"is_enabled",children:r("Enable Referral Program")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"commission_percentage",children:r("Commission Percentage (%)")}),e.jsx(u,{id:"commission_percentage",type:"number",step:"0.01",min:"0",max:"100",value:i.commission_percentage,onChange:a=>t("commission_percentage",a.target.value)}),n.commission_percentage&&e.jsx("p",{className:"text-sm text-red-500",children:n.commission_percentage})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"threshold_amount",children:r("Minimum Threshold Amount ({{symbol}})",{symbol:((c=(m=window==null?void 0:window.appSettings)==null?void 0:m.currencySettings)==null?void 0:c.currencySymbol)||"$"})}),e.jsx(u,{id:"threshold_amount",type:"number",step:"0.01",min:"0",value:i.threshold_amount,onChange:a=>t("threshold_amount",a.target.value)}),n.threshold_amount&&e.jsx("p",{className:"text-sm text-red-500",children:n.threshold_amount})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"guidelines",children:r("Referral Guidelines")}),e.jsx(N,{id:"guidelines",value:i.guidelines,onChange:a=>t("guidelines",a.target.value),placeholder:r("Enter referral program guidelines and terms..."),rows:6}),n.guidelines&&e.jsx("p",{className:"text-sm text-red-500",children:n.guidelines})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(y,{type:"submit",disabled:l,children:r(l?"Saving...":"Save Settings")})})]})})]})}export{B as default};

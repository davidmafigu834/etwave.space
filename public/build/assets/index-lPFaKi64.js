import{j as s}from"./ui-XtzbmeJx.js";import{n,$ as l,B as r,P as c,C as m,d as x,e as p,g as o,i as h}from"./app-CHRIhyY0.js";import{D as d}from"./index-455wkYl-.js";import{A as j}from"./app-layout-Bpd3XWn2.js";import{D as y}from"./download-Be_RfnEn.js";import{C as f}from"./circle-check-big-Blx2zDWr.js";import{T as N}from"./trash-2-DV11Ow7E.js";import"./vendor-CxtKjBZA.js";import"./utils-CCVAIzGD.js";import"./app-sidebar-layout-DTBrRaJF.js";import"./textarea-aJ3buVnx.js";import"./select-DVebJzi_.js";import"./index-C0g6bluz.js";import"./chevron-up-CWYfEUVP.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./sparkles-CWM6veXP.js";import"./loader-circle-CU4vh_jx.js";import"./copy-_TD738Qf.js";import"./chevron-right-4OzdI5Hc.js";import"./language-switcher-DlUYSL3d.js";import"./globe-DnSDzBxp.js";import"./chart-column-C3hnsquQ.js";import"./briefcase-DFRvW6SB.js";import"./package-CVcIKtJX.js";import"./credit-card-D2Mnc2f1.js";import"./dollar-sign-CEEAnrcL.js";import"./mail-uU9WM_iR.js";import"./users-DVhUqNZg.js";import"./settings-D1jKjqmC.js";import"./message-square-CzRq4BMj.js";import"./calendar-CuyjcLRJ.js";import"./wallet-B8MIIno5.js";import"./shopping-bag-DIpJi4I3.js";import"./user-UtdwWo_w.js";import"./arrow-left-hltsWyVL.js";import"./use-favicon-DDTtBI2L.js";import"./cookie-consent-KmXGJKj8.js";function rs({updates:t,currentVersion:a,canManageUpdates:i}){return console.log("System Updates Index component rendering",{updates:t,currentVersion:a,canManageUpdates:i}),s.jsxs(j,{children:[s.jsx(n,{title:"System Updates"}),s.jsx("div",{children:"Debug: System Updates Index component loaded"}),s.jsx("div",{className:"py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"System Updates"}),i&&s.jsx(l,{href:d("system-updates.create"),children:s.jsxs(r,{children:[s.jsx(c,{className:"w-4 h-4 mr-2"}),"Upload Update"]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs(m,{children:[s.jsx(x,{children:s.jsx(p,{children:"Current Version"})}),s.jsx(o,{children:s.jsx("p",{className:"text-2xl font-bold",children:a})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[t.map(e=>s.jsx(m,{children:s.jsx(o,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e.name," (v",e.version,")"]}),s.jsx(h,{variant:e.status==="applied"?"default":e.status==="pending"?"secondary":"destructive",children:e.status_text})]}),e.description&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:e.description}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[s.jsxs("p",{children:["File Size: ",e.file_size]}),s.jsxs("p",{children:["Created: ",e.created_at," by ",e.creator]}),e.applied_at&&s.jsxs("p",{children:["Applied: ",e.applied_at," by ",e.applier]})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx(l,{href:d("system-updates.download",e.id),children:s.jsx(r,{variant:"outline",size:"sm",children:s.jsx(y,{className:"w-4 h-4"})})}),i&&e.can_apply&&s.jsxs(r,{size:"sm",onClick:()=>{confirm("Are you sure you want to apply this update?")},children:[s.jsx(f,{className:"w-4 h-4 mr-2"}),"Apply"]}),i&&e.can_delete&&s.jsx(r,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this update?")},children:s.jsx(N,{className:"w-4 h-4"})})]})]})})},e.id)),t.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No system updates found."})})]})})})]})})]})}export{rs as default};

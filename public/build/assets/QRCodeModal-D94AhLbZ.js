import{r as t,j as e}from"./ui-XtzbmeJx.js";import{u as m,D as f,a as h,b as g,c as u,E as j,B as d}from"./app-CHRIhyY0.js";import{Q as p}from"./browser-VK1alZgc.js";function w({isOpen:a,onClose:n,url:c,title:l}){const{t:o}=m();t.useRef(null);const[r,i]=t.useState("");t.useEffect(()=>{a&&p.toDataURL(c,{width:300,margin:2,color:{dark:"#000000",light:"#ffffff"}}).then(s=>{i(s)}).catch(s=>{console.error("Error generating QR code:",s)})},[a,c]);const x=()=>{if(r){const s=document.createElement("a");s.download="".concat(l.replace(/\s+/g,"-").toLowerCase(),"-qrcode.png"),s.href=r,s.click()}};return e.jsx(f,{open:a,onOpenChange:n,children:e.jsxs(h,{className:"sm:max-w-md",children:[e.jsx(g,{children:e.jsxs(u,{children:[o("QR Code for")," ",l]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[r?e.jsx("img",{src:r,alt:"QR Code",className:"border rounded-md w-[300px] h-[300px]"}):e.jsx("div",{className:"border rounded-md w-[300px] h-[300px] flex items-center justify-center bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:"Loading QR code..."})}),e.jsx("p",{className:"mt-4 text-sm text-center text-muted-foreground",children:o("Scan this QR code to access the vCard")})]}),e.jsxs(j,{className:"flex flex-col sm:flex-row sm:justify-between gap-2",children:[e.jsx(d,{variant:"outline",onClick:n,children:o("Close")}),e.jsx(d,{onClick:x,children:o("Download QR Code")})]})]})})}export{w as Q};

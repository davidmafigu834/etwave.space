!function(){function e(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,l){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,t,a,r,i=[],c=!0,d=!1;try{if(a=(s=s.call(e)).next,0===l){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=a.call(s)).done)&&(i.push(n.value),i.length!==l);c=!0);}catch(e){d=!0,t=e}finally{try{if(!c&&null!=s.return&&(r=s.return(),Object(r)!==r))return}finally{if(d)throw t}}return i}}(e,s)||function(e,s){if(e){if("string"==typeof e)return l(e,s);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,s):void 0}}(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,l){(null==l||l>e.length)&&(l=e.length);for(var s=0,n=Array(l);s<l;s++)n[s]=e[s];return n}System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ct73uABr.js","./page-template-legacy-et8O2PIf.js","./date-picker-legacy-Cpc8-hXR.js","./tabs-legacy-KjUAYJwy.js","./arrow-left-legacy-CqQR3bfj.js","./eye-legacy-Bjr5hUAR.js","./users-legacy-CIHfY2gt.js","./globe-legacy-D167FJxM.js","./CartesianChart-legacy-yaH8eaIk.js","./LineChart-legacy-DZdF5jYA.js","./PieChart-legacy-DFDUlEbX.js","./BarChart-legacy-DumVTu7Q.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js","./app-layout-legacy-BbvocKkk.js","./app-sidebar-layout-legacy-DjGq5XwB.js","./textarea-legacy-DhpF_zd4.js","./select-legacy-DJ7KqnGK.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-C3cU62dz.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./sparkles-legacy-DXvM6dmp.js","./loader-circle-legacy-BAWBSNTr.js","./copy-legacy-CyY0zsNU.js","./chevron-right-legacy-D5fLjpJA.js","./language-switcher-legacy-BfnK_KLk.js","./chart-column-legacy-xaxxIszB.js","./briefcase-legacy-fFmYMQCB.js","./package-legacy-BXVFs7qu.js","./credit-card-legacy-oVK_vO6r.js","./dollar-sign-legacy-De4_eAPE.js","./mail-legacy-DchUy0NJ.js","./settings-legacy-BXGYMxCJ.js","./message-square-legacy-CVHCr5Dt.js","./calendar-legacy-DdDaxKxU.js","./wallet-legacy-DOeLcv8c.js","./shopping-bag-legacy-BRpvr-V3.js","./building-2-legacy-Dj3cFBKu.js","./user-legacy-cMI1gv9J.js","./use-favicon-legacy-CbpIBPd5.js","./cookie-consent-legacy-BD_speLP.js","./react-redux-legacy-COhswo-V.js","./tiny-invariant-legacy-mQvYgMsb.js"],function(l,s){"use strict";var n,t,a,r,i,c,d,o,u,x,j,h,f,m,g,y,v,p,b,w,N,k,D,S,B,C,L,P,V,_,A,F,K,T,I,R;return{setters:[function(e){n=e.r,t=e.j},function(e){a=e.u,r=e.K,i=e.S,c=e.C,d=e.d,o=e.e,u=e.g,x=e.L,j=e.B,h=e.i,f=e.f},function(e){m=e.P},function(e){g=e.D},function(e){y=e.T,v=e.a,p=e.b,b=e.c},function(e){w=e.A},function(e){N=e.E},function(e){k=e.U},function(e){D=e.G},function(e){S=e.R,B=e.C,C=e.X,L=e.Y},function(e){P=e.L,V=e.a},function(e){_=e.T,A=e.P,F=e.a,K=e.C},function(e){T=e.L,I=e.B,R=e.a},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){l("default",function(){var l,s,O,U,E=a().t,q=r().props,M=q.bioLink,z=q.analytics,G=q.filters,W=e(n.useState(G.start_date?new Date(G.start_date):new Date(z.startDate)),2),X=W[0],Y=W[1],$=e(n.useState(G.end_date?new Date(G.end_date):new Date(z.endDate)),2),Q=$[0],Z=$[1],H=e(n.useState(!1),2),J=H[0],ee=H[1];n.useEffect(function(){var e=setInterval(function(){J||i.reload({only:["analytics"]})},3e5);return function(){return clearInterval(e)}},[J]);var le=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],se=(null===(l=z.devices)||void 0===l?void 0:l.length)>0?z.devices.map(function(e,l){return{name:e.device_type||"Unknown",value:e.count}}):[{name:"No Data",value:1}],ne=(null===(s=z.referrers)||void 0===s?void 0:s.length)>0?z.referrers.map(function(e){return{name:e.referrer||"Direct",value:e.count}}):[{name:"No Data",value:1}],te=(null===(O=z.platforms)||void 0===O?void 0:O.length)>0?z.platforms.map(function(e){return{name:e.platform_name||"Unknown",value:e.count}}):[{name:"No Data",value:1}],ae=(null===(U=z.browsers)||void 0===U?void 0:U.length)>0?z.browsers.map(function(e){return{name:e.browser_name||"Unknown",value:e.count}}):[{name:"No Data",value:1}],re=[{label:E("Back to Bio Links"),icon:t.jsx(w,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:function(){return i.get(route("link-bio-builder.index"))}}],ie=[{title:E("Dashboard"),href:route("dashboard")},{title:E("Bio Link Builder"),href:route("link-bio-builder.index")},{title:(null==M?void 0:M.name)||"Bio Link",href:route("link-bio-builder.edit",null==M?void 0:M.id)},{title:E("Analytics")}];return t.jsx(m,{title:"".concat(null==M?void 0:M.name," - ").concat(E("Analytics")),url:route("link-bio-builder.analytics",null==M?void 0:M.id),actions:re,breadcrumbs:ie,children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs(c,{children:[t.jsx(d,{children:t.jsx(o,{className:"text-sm",children:E("Date Range")})}),t.jsx(u,{children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(x,{children:E("Start Date")}),t.jsx(g,{selected:X,onSelect:Y,onChange:function(e){return Y(e)}})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(x,{children:E("End Date")}),t.jsx(g,{selected:Q,onSelect:Z,onChange:function(e){return Z(e)}})]}),t.jsx(j,{onClick:function(){X&&Q&&(ee(!0),i.get(route("link-bio-builder.analytics",M.id),{start_date:X.toISOString().split("T")[0],end_date:Q.toISOString().split("T")[0]},{preserveState:!0,onFinish:function(){return ee(!1)}}))},disabled:J,children:E(J?"Loading...":"Apply")})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsx(c,{children:t.jsx(u,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:E("Page Views")}),t.jsx("h3",{className:"mt-2 text-2xl font-bold",children:z.pageViews})]}),t.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900",children:t.jsx(N,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),t.jsx(c,{children:t.jsx(u,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:E("Unique Visitors")}),t.jsx("h3",{className:"mt-2 text-2xl font-bold",children:z.uniqueVisitors})]}),t.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900",children:t.jsx(k,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})})}),t.jsx(c,{children:t.jsx(u,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:E("Link Type")}),t.jsx("h3",{className:"mt-2 text-lg font-bold",children:t.jsx(h,{variant:"outline",className:"capitalize",children:M.link_type})})]}),t.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900",children:t.jsx(D,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})})]}),t.jsxs(y,{defaultValue:"traffic",children:[t.jsxs(v,{className:"mb-4 w-full justify-start overflow-x-auto",children:[t.jsx(p,{value:"traffic",children:E("Traffic")}),t.jsx(p,{value:"devices",children:E("Devices")}),t.jsx(p,{value:"platforms",children:E("Platforms")}),t.jsx(p,{value:"browsers",children:E("Browsers")}),t.jsx(p,{value:"referrers",children:E("Referrers")})]}),t.jsx(b,{value:"traffic",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Daily Page Views")}),t.jsx(f,{className:"text-xs",children:E("Page views over the selected time period")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(P,{data:z.dailyPageViews||[],margin:{top:5,right:30,left:20,bottom:5},children:[t.jsx(B,{strokeDasharray:"3 3"}),t.jsx(C,{dataKey:"date",tickFormatter:function(e){var l=new Date(e);return"".concat(l.getMonth()+1,"/").concat(l.getDate())}}),t.jsx(L,{}),t.jsx(_,{}),t.jsx(T,{}),t.jsx(V,{type:"monotone",dataKey:"views",name:"Page Views",stroke:"#8884d8",activeDot:{r:8}})]})})})})]})}),t.jsx(b,{value:"devices",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Device Types")}),t.jsx(f,{className:"text-xs",children:E("Breakdown of visitors by device type")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(A,{children:[t.jsx(F,{data:se,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:function(e){var l=e.name,s=e.percent;return"".concat(l,": ").concat((100*s).toFixed(0),"%")},children:se.map(function(e,l){return t.jsx(K,{fill:le[l%le.length]},"cell-".concat(l))})}),t.jsx(_,{}),t.jsx(T,{})]})})})})]})}),t.jsx(b,{value:"platforms",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Operating Systems")}),t.jsx(f,{className:"text-xs",children:E("Breakdown of visitors by operating system")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(A,{children:[t.jsx(F,{data:te,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:function(e){var l=e.name,s=e.percent;return"".concat(l,": ").concat((100*s).toFixed(0),"%")},children:te.map(function(e,l){return t.jsx(K,{fill:le[l%le.length]},"cell-".concat(l))})}),t.jsx(_,{}),t.jsx(T,{})]})})})})]})}),t.jsx(b,{value:"browsers",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Web Browsers")}),t.jsx(f,{className:"text-xs",children:E("Breakdown of visitors by web browser")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(I,{data:ae,margin:{top:5,right:30,left:20,bottom:5},children:[t.jsx(B,{strokeDasharray:"3 3"}),t.jsx(C,{dataKey:"name"}),t.jsx(L,{}),t.jsx(_,{}),t.jsx(T,{}),t.jsx(R,{dataKey:"value",name:"Visits",fill:"#8884d8",children:ae.map(function(e,l){return t.jsx(K,{fill:le[l%le.length]},"cell-".concat(l))})})]})})})})]})}),t.jsx(b,{value:"referrers",children:t.jsxs(c,{children:[t.jsxs(d,{children:[t.jsx(o,{className:"text-sm",children:E("Top Referrers")}),t.jsx(f,{className:"text-xs",children:E("Sources of traffic to your bio link")})]}),t.jsx(u,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(S,{width:"100%",height:"100%",children:t.jsxs(I,{data:ne,margin:{top:5,right:30,left:20,bottom:5},children:[t.jsx(B,{strokeDasharray:"3 3"}),t.jsx(C,{dataKey:"name"}),t.jsx(L,{}),t.jsx(_,{}),t.jsx(T,{}),t.jsx(R,{dataKey:"value",name:"Visits",fill:"#8884d8",children:ne.map(function(e,l){return t.jsx(K,{fill:le[l%le.length]},"cell-".concat(l))})})]})})})})]})})]})]})})})}}})}();

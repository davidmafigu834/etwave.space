!function(){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function t(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(r){n(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function n(r,t,n){return(t=function(r){var t=function(r,t){if("object"!=e(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var o=n.call(r,t||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==e(t)?t:t+""}(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function s(t,n,o,a){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return i(u,"_invoke",function(t,n,o){var i,a,s,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(r,t){return i=r,a=0,s=e,f.n=t,c}};function h(t,n){for(a=t,s=n,r=0;!d&&l&&!o&&r<u.length;r++){var o,i=u[r],h=f.p,m=i[2];t>3?(o=m===n)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=t<2&&h<i[1])?(a=0,f.v=n,f.n=i[1]):h<m&&(o=t<3||i[0]>n||n>m)&&(i[4]=t,i[5]=n,f.n=m,a=0))}if(o||t>1)return c;throw d=!0,n}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,m),a=u,s=m;(r=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(f.n=-1),h(a,s)):f.n=s:f.v=s);try{if(l=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((r=(d=f.n<0)?s:t.call(n,f))!==c)break}catch(r){i=e,a=1,s=r}finally{l=1}}return{value:r,done:d}}}(t,o,a),!0),u}var c={};function l(){}function u(){}function d(){}r=Object.getPrototypeOf;var f=[][n]?r(r([][n]())):(i(r={},n,function(){return this}),r),h=d.prototype=l.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,i(h,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(h),i(h,a,"Generator"),i(h,n,function(){return this}),i(h,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:m}})()}function i(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,r,t,n){function a(r,t){i(e,r,function(e){return this._invoke(r,t,e)})}r?o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(a("next",0),a("throw",1),a("return",2))},i(e,r,t,n)}function a(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,r,t,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,o)}function c(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var i=e.apply(r,t);function a(e){s(i,n,o,a,c,"next",e)}function c(e){s(i,n,o,a,c,"throw",e)}a(void 0)})}}function l(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,r)||u(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){if(e){if("string"==typeof e)return d(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,r):void 0}}function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}System.register(["./ui-legacy-Df76W54t.js","./app-legacy-Ct73uABr.js","./select-legacy-DJ7KqnGK.js","./table-legacy-DMkF8XyN.js","./CrudDeleteModal-legacy-BjIGkHEP.js","./link-2-legacy-ChlCC2ap.js","./square-pen-legacy-Bg3q-gjR.js","./trash-2-legacy-ZzhgHTxS.js","./vendor-legacy-DNs0y6R6.js","./utils-legacy-4AQaPo1J.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-C3cU62dz.js"],function(e,r){"use strict";var n,i,s,u,d,f,h,m,p,y,b,j,x,g,v,w,k,N,S,O,P,C,A,T,E,G,D,F,M,_,I,U,W,z,L;return{setters:[function(e){n=e.r,i=e.j},function(e){s=e.u,u=e.q,d=e.am,f=e.x,h=e.y,m=e.B,p=e.z,y=e.D,b=e.a,j=e.b,x=e.c,g=e.L,v=e.I,w=e.X,k=e.w,N=e.P,S=e.o,O=e.t},function(e){P=e.S,C=e.a,A=e.b,T=e.c,E=e.d},function(e){G=e.T,D=e.a,F=e.b,M=e.c,_=e.d,I=e.e},function(e){U=e.C},function(e){W=e.L},function(e){z=e.S},function(e){L=e.T},null,null,null,null],execute:function(){e("default",function(e){var r=e.webhooks,q=void 0===r?[]:r,R=s().t,V=l(n.useState(q),2),B=V[0],J=V[1],Q=l(n.useState(!1),2),X=Q[0],$=Q[1],H=l(n.useState(null),2),K=H[0],Y=H[1],Z=l(n.useState(!1),2),ee=Z[0],re=Z[1],te=l(n.useState(null),2),ne=te[0],oe=te[1],ie=l(n.useState({module:"",method:"",url:""}),2),ae=ie[0],se=ie[1],ce=function(){se({module:"",method:"",url:""}),Y(null)},le=function(){var e=c(o().m(function e(r){var t,n,i,s,c;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r.preventDefault(),e.p=1,!K){e.n=3;break}return e.n=2,S.put(route("settings.webhooks.update",K.id),ae);case 2:t=e.v,J(function(e){return e.map(function(e){return e.id===K.id?t.data.webhook:e})}),O.success(t.data.message),e.n=5;break;case 3:return e.n=4,S.post(route("settings.webhooks.store"),ae);case 4:n=e.v,J(function(e){return[].concat(a(e),[n.data.webhook])}),O.success(n.data.message);case 5:$(!1),ce(),e.n=7;break;case 6:e.p=6,c=e.v,s=(null===(i=c.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)||R("An error occurred"),O.error(s);case 7:return e.a(2)}},e,null,[[1,6]])}));return function(r){return e.apply(this,arguments)}}(),ue=function(){var e=c(o().m(function e(){var r,t,n,i;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(ne){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,S.delete(route("settings.webhooks.destroy",ne.id));case 2:r=e.v,J(function(e){return e.filter(function(e){return e.id!==ne.id})}),O.success(r.data.message),e.n=4;break;case 3:e.p=3,i=e.v,n=(null===(t=i.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||R("An error occurred"),O.error(n);case 4:return e.p=4,re(!1),oe(null),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();return i.jsx(u,{title:R("Webhook Settings"),description:R("Manage webhooks for external integrations"),action:i.jsxs(m,{onClick:function(){ce(),$(!0)},size:"sm",children:[i.jsx(N,{className:"h-4 w-4 mr-2"}),R("Add Webhook")]}),children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs(G,{children:[i.jsx(D,{children:i.jsxs(F,{className:"bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-700",children:[i.jsx(M,{className:"py-2.5 font-semibold",children:R("Module")}),i.jsx(M,{className:"py-2.5 font-semibold",children:R("Method")}),i.jsx(M,{className:"py-2.5 font-semibold",children:R("URL")}),i.jsx(M,{className:"w-24 py-2.5 font-semibold text-right",children:R("Actions")})]})}),i.jsx(_,{children:0===B.length?i.jsx(F,{children:i.jsx(I,{colSpan:4,className:"h-24 text-center text-muted-foreground dark:text-gray-400",children:R("No webhooks configured")})}):B.map(function(e){return i.jsxs(F,{className:"hover:bg-gray-50 dark:hover:bg-gray-700 border-b dark:border-gray-700 dark:bg-gray-900",children:[i.jsx(I,{className:"py-2.5",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(W,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:e.module})]})}),i.jsx(I,{className:"py-2.5",children:i.jsx("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ".concat("GET"===e.method?"bg-blue-50 text-blue-700 ring-blue-700/10 dark:bg-blue-900/30 dark:text-blue-400 dark:ring-blue-400/30":"bg-green-50 text-green-700 ring-green-700/10 dark:bg-green-900/30 dark:text-green-400 dark:ring-green-400/30"),children:e.method})}),i.jsx(I,{className:"py-2.5",children:i.jsx("div",{className:"max-w-xs truncate text-sm font-mono text-muted-foreground dark:text-gray-400",children:e.url})}),i.jsx(I,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[i.jsx(d,{children:i.jsxs(f,{children:[i.jsx(h,{asChild:!0,children:i.jsx(m,{variant:"ghost",size:"icon",className:"h-8 w-8 text-amber-500 hover:text-amber-700",onClick:function(){return function(e){se({module:e.module,method:e.method,url:e.url}),Y(e),$(!0)}(e)},children:i.jsx(z,{className:"h-4 w-4"})})}),i.jsx(p,{children:i.jsx("p",{children:R("Edit")})})]})}),i.jsx(d,{children:i.jsxs(f,{children:[i.jsx(h,{asChild:!0,children:i.jsx(m,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-700",onClick:function(){return function(e){oe(e),re(!0)}(e)},children:i.jsx(L,{className:"h-4 w-4"})})}),i.jsx(p,{children:i.jsx("p",{children:R("Delete")})})]})})]})})]},e.id)})})]}),i.jsx(y,{open:X,onOpenChange:$,children:i.jsxs(b,{children:[i.jsx(j,{children:i.jsx(x,{children:R(K?"Edit Webhook":"Add New Webhook")})}),i.jsxs("form",{onSubmit:le,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(g,{htmlFor:"module",children:R("Module")}),i.jsxs(P,{value:ae.module,onValueChange:function(e){return se(function(r){return t(t({},r),{},{module:e})})},children:[i.jsx(C,{children:i.jsx(A,{placeholder:R("Select module")})}),i.jsxs(T,{children:[i.jsx(E,{value:"New User",children:R("New User")}),i.jsx(E,{value:"New Appointment",children:R("New Appointment")})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(g,{htmlFor:"method",children:R("Method")}),i.jsxs(P,{value:ae.method,onValueChange:function(e){return se(function(r){return t(t({},r),{},{method:e})})},children:[i.jsx(C,{children:i.jsx(A,{placeholder:R("Select method")})}),i.jsxs(T,{children:[i.jsx(E,{value:"GET",children:R("GET")}),i.jsx(E,{value:"POST",children:R("POST")})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(g,{htmlFor:"url",children:R("URL")}),i.jsx(v,{id:"url",type:"url",placeholder:"https://example.com/webhook",value:ae.url,onChange:function(e){return se(function(r){return t(t({},r),{},{url:e.target.value})})},required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsxs(m,{type:"button",variant:"outline",onClick:function(){return $(!1)},children:[i.jsx(w,{className:"h-4 w-4 mr-2"}),R("Cancel")]}),i.jsxs(m,{type:"submit",children:[i.jsx(k,{className:"h-4 w-4 mr-2"}),R(K?"Update":"Create")]})]})]})]})}),i.jsx(U,{isOpen:ee,onClose:function(){re(!1),oe(null)},onConfirm:ue,itemName:(null==ne?void 0:ne.module)||"",entityName:R("Webhook")})]})})})}}})}();

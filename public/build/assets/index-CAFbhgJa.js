import{r as m,R as ge,j as e}from"./ui-XtzbmeJx.js";import{P as ue}from"./page-template-CFccWGHX.js";import{u as we,K as je,t as n,S as o,P as V,$ as C,i as b,B as d,x as g,y as u,z as w,C as ve}from"./app-BNDAg-x0.js";import{P as Q}from"./pagination-C4qAnUGE.js";import{S as fe}from"./search-and-filter-bar-Cv6CmNrA.js";import{D as ye,a as Ne,b as Ce,c as y,d as ke}from"./language-switcher-Sj0uA1nn.js";import{C as _e}from"./CrudDeleteModal-77wRveK6.js";import{Q as be}from"./QRCodeModal-CPLHvRFD.js";import{S as Se}from"./ShareModal-D6s0F3tz.js";import{b as De}from"./index-CO6jniE0.js";import{E as H}from"./eye-3VLs8-F7.js";import{S as Y}from"./share-2-C5tufTUg.js";import{S as G}from"./square-pen-BHdo4EBP.js";import{C as Le}from"./calendar-Calahg4u.js";import{T as q}from"./trash-2-DrQu6wJh.js";import{E as Me}from"./ellipsis-vertical-Bu3GgfAn.js";import{B as Pe}from"./briefcase-BSRomG9M.js";import{H as Te}from"./house-DU4ZKfa7.js";import{W as Be,C as ze,S as Re,U as $e,a as Ee}from"./wrench-CC3Gd12W.js";import{G as Fe}from"./graduation-cap-CaBgKzwF.js";import{C as Ie}from"./camera-C-UQKom4.js";import{S as Oe}from"./store-BoH4QCHD.js";import"./vendor-CxtKjBZA.js";import"./app-layout-CJ9aiUxz.js";import"./app-sidebar-layout-AHuSYAra.js";import"./textarea-BAxIzAY1.js";import"./select-CWuHpsTP.js";import"./index-C0g6bluz.js";import"./chevron-up-DUlTmMPd.js";import"./react-country-flag.esm-B3QM5-4S.js";import"./language-DYlIyiUn.js";import"./sparkles-DpD6ndVc.js";import"./loader-circle-CSHwA98f.js";import"./copy-DrIsvEfV.js";import"./chevron-right-Bd-0PcYb.js";import"./chart-column-c4hbpdne.js";import"./globe-Wz67MOVh.js";import"./package-DifSoftz.js";import"./credit-card-DWMi5WDy.js";import"./dollar-sign-Cilvu6Pq.js";import"./mail-Dom0Io57.js";import"./users-dhNqMrnE.js";import"./settings-CPdYUYGM.js";import"./message-square-BWj-TB69.js";import"./wallet-BDuAFGuJ.js";import"./shopping-bag-CblcqTrH.js";import"./building-2-DMMUyCqJ.js";import"./user-D1kIaiAN.js";import"./arrow-left-oLpbgumw.js";import"./use-favicon-B5hfZCZO.js";import"./cookie-consent-B_ejjwgp.js";import"./utils-CCVAIzGD.js";import"./date-picker-CeZOSIUN.js";import"./filter-Ced7YBYg.js";import"./list-DoCOV4SJ.js";import"./browser-VK1alZgc.js";import"./facebook-CwgMUPmw.js";import"./linkedin-ojqsVbzp.js";import"./borehole-drilling-DMk3_hv2.js";function Yr({businesses:s={data:[]},planLimits:f,filters:i={}}){var U;const{t:a}=we(),{flash:h}=je().props,[c,L]=m.useState(i.search||""),[N,M]=m.useState(i.type||"all"),[j,K]=m.useState(i.view||localStorage.getItem("vcard-view")||"list"),l=r=>r&&r.replace(/[^a-zA-Z0-9-_]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||"invalid-slug";m.useEffect(()=>{h!=null&&h.success&&n.success(h.success),h!=null&&h.error&&n.error(h.error)},[h]),ge.useEffect(()=>{window.isDemo&&(!i.per_page||i.per_page==="10")&&o.get(route("vcard-builder.index"),{...i,per_page:50,view:j},{preserveState:!0,preserveScroll:!0})},[]),m.useEffect(()=>{localStorage.setItem("vcard-view",j)},[j]);const Z=r=>{const t=new URL(window.location.href);t.searchParams.set("view",r),window.history.pushState({},"",t.toString())},[J,P]=m.useState(!1),[X,S]=m.useState(!1),[ee,T]=m.useState(!1),[re,B]=m.useState(!1),[p,D]=m.useState(null),[z,R]=m.useState(""),$=r=>{D(r),S(!0)},te=()=>{p&&(n.loading(a("Deleting business...")),o.delete(route("vcard-builder.destroy",p.id),{onSuccess:()=>{S(!1),n.dismiss(),n.success(a("Business deleted successfully"))},onError:r=>{n.dismiss(),n.error("Failed to delete business: ".concat(Object.values(r).join(", ")))}}))},E=r=>{n.loading(a("Duplicating business...")),o.post(route("vcard-builder.duplicate",r.id),{},{onSuccess:()=>{n.dismiss(),n.success(a("Business duplicated successfully"))},onError:t=>{n.dismiss(),n.error("Failed to duplicate business: ".concat(Object.values(t).join(", ")))}})},F=r=>{const t=r.custom_domain?"https://".concat(r.custom_domain):r.url_prefix&&r.url_prefix!==""?route("public.vcard.show",{prefix:r.url_prefix,slug:l(r.slug)},!0):route("public.vcard.show.direct",l(r.slug),!0);(_=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(_);{const x=document.createElement("textarea");return x.value=_,x.style.position="fixed",x.style.left="-999999px",x.style.top="-999999px",document.body.appendChild(x),x.focus(),x.select(),new Promise((xe,me)=>{document.execCommand("copy")?(x.remove(),xe()):(x.remove(),me(new Error("Copy failed")))})}})(t).then(()=>{n.success(a("Link copied to clipboard"))}).catch(()=>{n.error(a("Failed to copy link"))})},I=r=>{D(r);const t=r.custom_domain?"https://".concat(r.custom_domain):r.url_prefix&&r.url_prefix!==""?route("public.vcard.show",{prefix:r.url_prefix,slug:l(r.slug)},!0):route("public.vcard.show.direct",l(r.slug),!0);R(t),T(!0)},O=r=>{D(r);const t=r.custom_domain?"https://".concat(r.custom_domain):r.url_prefix&&r.url_prefix!==""?route("public.vcard.show",{prefix:r.url_prefix,slug:l(r.slug)},!0):route("public.vcard.show.direct",l(r.slug),!0);R(t),B(!0)},ae=()=>N!=="all"||c!=="",se=()=>(N!=="all"?1:0)+(c?1:0),oe=r=>{r.preventDefault(),W()},W=()=>{const r={page:1};c&&(r.search=c),N!=="all"&&(r.type=N),i.per_page&&(r.per_page=i.per_page),r.view=j,o.get(route("vcard-builder.index"),r,{preserveState:!0,preserveScroll:!0})},ie=r=>{M(r);const t={page:1};c&&(t.search=c),r!=="all"&&(t.type=r),i.per_page&&(t.per_page=i.per_page),t.view=j,o.get(route("vcard-builder.index"),t,{preserveState:!0,preserveScroll:!0})},le=()=>{M("all"),L(""),P(!1),o.get(route("vcard-builder.index"),{page:1,per_page:i.per_page,view:j},{preserveState:!0,preserveScroll:!0})},ne=r=>{switch(r.toLowerCase()){case"doctor":case"medical":case"healthcare":return e.jsx(Ee,{className:"h-5 w-5"});case"restaurant":case"food":case"cafe":return e.jsx($e,{className:"h-5 w-5"});case"salon":case"beauty":case"spa":return e.jsx(Re,{className:"h-5 w-5"});case"retail":case"store":case"shop":return e.jsx(Oe,{className:"h-5 w-5"});case"automotive":case"car":return e.jsx(ze,{className:"h-5 w-5"});case"photography":case"photographer":return e.jsx(Ie,{className:"h-5 w-5"});case"education":case"teacher":case"tutor":return e.jsx(Fe,{className:"h-5 w-5"});case"construction":case"contractor":case"repair":return e.jsx(Be,{className:"h-5 w-5"});case"realestate":case"real estate":return e.jsx(Te,{className:"h-5 w-5"});default:return e.jsx(Pe,{className:"h-5 w-5"})}},ce=(r,t)=>{var v;if((v=t==null?void 0:t.config_sections)!=null&&v.colors){const{primary:_,secondary:x}=t.config_sections.colors;if(_&&x)return"bg-gradient-to-br"}switch(r){case"modern":return"bg-gradient-to-br from-blue-500 to-purple-600";case"classic":return"bg-gradient-to-br from-gray-300 to-gray-500";case"elegant":return"bg-gradient-to-br from-amber-400 to-pink-600";case"professional":return"bg-gradient-to-br from-green-400 to-teal-600";case"creative":return"bg-gradient-to-br from-pink-400 to-orange-500";case"minimal":return"bg-gradient-to-br from-slate-300 to-slate-500";default:return"bg-gradient-to-br from-indigo-500 to-purple-600"}},de=r=>{switch(r){case"modern":return"bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[length:20px_20px]";case"classic":return"bg-[linear-gradient(45deg,rgba(255,255,255,0.1)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.1)_50%,rgba(255,255,255,0.1)_75%,transparent_75%,transparent)] bg-[length:10px_10px]";case"elegant":return"bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.15)_2px,transparent_2px)] bg-[length:24px_24px]";case"professional":return"bg-[linear-gradient(0deg,rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[length:20px_20px]";default:return""}},k=!f||f.can_create,he=[{label:f&&!k?a("Business Limit Reached ({{current}}/{{max}})",{current:f.current_businesses,max:f.max_businesses}):a("Create New Business"),icon:e.jsx(V,{className:"h-4 w-4 mr-2"}),variant:k?"default":"outline",onClick:k?()=>o.get(route("vcard-builder.create")):()=>n.error(a("Business limit exceeded. Your plan allows maximum {{max}} businesses. Please upgrade your plan.",{max:f.max_businesses})),disabled:!k}],pe=[{title:a("Dashboard"),href:route("dashboard")},{title:a("Businesses")}],A=[{key:"name",label:a("Business"),sortable:!0,render:(r,t)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center text-gray-600",children:ne(t.business_type)}),e.jsxs("div",{className:"ml-4",children:[e.jsx(C,{href:route("vcard-builder.edit",t.id),className:"hover:underline",children:e.jsx("div",{className:"text-sm font-medium text-primary cursor-pointer hover:text-primary/80",children:t.name})}),t.expertise&&e.jsx("div",{className:"text-sm text-gray-500",children:t.expertise})]})]})},{key:"business_type",label:a("Type"),render:r=>e.jsx(b,{variant:"outline",className:"capitalize",children:r})},{key:"created_at",label:a("Created"),sortable:!0,render:(r,t)=>{var v;return e.jsxs("div",{className:"flex items-center",children:[(v=window.appSettings)!=null&&v.formatDateTime?window.appSettings.formatDateTime(r,!1):new Date(r).toLocaleDateString(),new Date(r)>new Date(Date.now()-30*24*60*60*1e3)&&e.jsx(b,{className:"ml-2 bg-green-500",children:"New"})]})}},{key:"theme",label:a("Theme"),render:r=>r||"Default"}];return e.jsxs(ue,{title:a("vCard Builder"),url:route("vcard-builder.index"),actions:he,breadcrumbs:pe,noPadding:!0,children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow mb-4 p-4",children:e.jsx(fe,{searchTerm:c,onSearchChange:L,onSearch:oe,filters:[{name:"type",label:a("Business Type"),type:"select",value:N,onChange:ie,options:[{value:"all",label:a("All Types")},...De.map((r,t)=>({value:r.value,label:r.label.charAt(0).toUpperCase()+r.label.slice(1)}))]}],showFilters:J,setShowFilters:P,hasActiveFilters:ae,activeFilterCount:se,onResetFilters:le,onApplyFilters:W,currentPerPage:((U=i.per_page)==null?void 0:U.toString())||"10",onPerPageChange:r=>{const t={page:1,per_page:parseInt(r)};c&&(t.search=c),N!=="all"&&(t.type=N),t.view=j,o.get(route("vcard-builder.index"),t,{preserveState:!0,preserveScroll:!0})},showViewToggle:!0,activeView:j,onViewChange:r=>{K(r),Z(r)}})}),!(s!=null&&s.data)||s.data.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:a("You haven't created any businesses yet.")}),e.jsx(C,{href:route("vcard-builder.create"),children:e.jsxs(d,{children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),a("Create Your First Business")]})})]}):j==="list"?e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[A.map(r=>e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-500",onClick:()=>r.sortable&&We(r.key),children:e.jsxs("div",{className:"flex items-center",children:[r.label,r.sortable&&e.jsx("span",{className:"ml-1",children:i.sort_field===r.key?i.sort_direction==="asc"?"↑":"↓":""})]})},r.key)),e.jsx("th",{className:"px-4 py-3 text-right font-medium text-gray-500",children:a("Actions")})]})}),e.jsx("tbody",{children:s.data.map(r=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[A.map(t=>e.jsx("td",{className:"px-4 py-3",children:t.render?t.render(r[t.key],r):r[t.key]},"".concat(r.id,"-").concat(t.key))),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx("a",{href:r.custom_domain?"https://".concat(r.custom_domain):r.url_prefix&&r.url_prefix!==""?route("public.vcard.show",{prefix:r.url_prefix,slug:l(r.slug)}):route("public.vcard.show.direct",l(r.slug)),target:"_blank",rel:"noopener noreferrer",children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",children:e.jsx(H,{className:"h-4 w-4"})})})}),e.jsx(w,{children:a("Preview")})]}),e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:t=>{t.preventDefault(),O(r)},children:e.jsx(Y,{className:"h-4 w-4"})})}),e.jsx(w,{children:a("Share")})]}),e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:t=>{t.preventDefault(),F(r)},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})}),e.jsx(w,{children:a("Copy Link")})]}),e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-indigo-500 hover:text-indigo-700",onClick:t=>{t.preventDefault(),I(r)},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"16",rx:"1"})]})})}),e.jsx(w,{children:a("QR Code")})]}),e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:()=>o.get(route("vcard-builder.contacts",l(r.slug))),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})}),e.jsx(w,{children:a("Contacts")})]}),e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-orange-500 hover:text-orange-700",onClick:()=>o.get(route("vcard-builder.analytics",l(r.slug))),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})})}),e.jsx(w,{children:a("Analytics")})]}),e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-purple-500 hover:text-purple-700",onClick:t=>{t.preventDefault(),E(r)},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),e.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})}),e.jsx(w,{children:a("Duplicate")})]}),e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx(C,{href:route("vcard-builder.edit",r.id),children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-amber-500 hover:text-amber-700",children:e.jsx(G,{className:"h-4 w-4"})})})}),e.jsx(w,{children:a("Edit")})]}),e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-green-500 hover:text-green-700",onClick:()=>o.get(route("vcard-builder.calendar",l(r.slug))),children:e.jsx(Le,{className:"h-4 w-4"})})}),e.jsx(w,{children:a("Calendar")})]}),e.jsxs(g,{children:[e.jsx(u,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>$(r),children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsx(w,{children:a("Delete")})]})]})})]},r.id))})]})}),e.jsx(Q,{from:s.from||0,to:s.to||0,total:s.total||0,links:s.links,currentPage:s.current_page,lastPage:s.last_page,entityName:a("businesses"),onPageChange:r=>o.get(r)})]}):e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.data.map(r=>{var t,v;return e.jsxs(ve,{className:"group bg-white overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"h-30 relative overflow-hidden bg-gray-100 group",children:[e.jsx("div",{className:"absolute inset-0 ".concat(ce(r.theme,r)," ").concat(de(r.theme)," transition-all duration-500 group-hover:scale-105"),style:(t=r==null?void 0:r.config_sections)!=null&&t.colors?{backgroundImage:"linear-gradient(to bottom right, ".concat(r.config_sections.colors.primary,", ").concat(r.config_sections.colors.secondary,")")}:void 0}),e.jsxs("div",{className:"absolute inset-0 opacity-30 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-[10%] left-[20%] w-12 h-12 rounded-full bg-white/20 animate-float-slow"}),e.jsx("div",{className:"absolute bottom-[30%] right-[15%] w-8 h-8 rounded-full bg-white/10 animate-float-medium"}),e.jsx("div",{className:"absolute top-[40%] right-[25%] w-6 h-6 rounded-full bg-white/15 animate-float-fast"})]}),new Date(r.created_at)>new Date(Date.now()-30*24*60*60*1e3)&&e.jsx("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-semibold py-1 px-3 rounded-full shadow-lg z-10",children:a("New")}),e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsxs(ye,{children:[e.jsx(Ne,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full bg-black/20 hover:bg-black/30 p-0",children:e.jsx(Me,{className:"h-4 w-4 text-white"})})}),e.jsxs(Ce,{align:"end",className:"w-56",sideOffset:5,children:[e.jsxs(y,{onClick:()=>E(r),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-purple-500",children:[e.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),e.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),e.jsx("span",{children:a("Duplicate")})]}),e.jsxs(y,{onClick:()=>F(r),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-blue-500",children:[e.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),e.jsx("span",{children:a("Copy Link")})]}),e.jsxs(y,{onClick:()=>O(r),children:[e.jsx(Y,{className:"h-4 w-4 mr-2 text-blue-500"}),e.jsx("span",{children:a("Share")})]}),e.jsxs(y,{onClick:()=>o.get(route("vcard-builder.analytics",l(r.slug))),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-orange-500",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),e.jsx("span",{children:a("Analytics")})]}),e.jsxs(y,{onClick:()=>o.get(route("vcard-builder.calendar",l(r.slug))),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-green-500",children:[e.jsx("path",{d:"M3 12a9 9 0 1 0 18 0 9 9 0 0 0-18 0"}),e.jsx("path",{d:"M12 7v5l3 3"})]}),e.jsx("span",{children:a("Calendar")})]}),e.jsxs(y,{onClick:()=>I(r),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-indigo-500",children:[e.jsx("rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}),e.jsx("rect",{width:"5",height:"5",x:"16",y:"16",rx:"1"})]}),e.jsx("span",{children:a("QR Code")})]}),e.jsxs(y,{onClick:()=>o.get(route("vcard-builder.contacts",l(r.slug))),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2 text-blue-500",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),e.jsx("span",{children:a("Contacts")})]}),e.jsx(ke,{}),e.jsxs(y,{onClick:()=>$(r),className:"text-red-600",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:a("Delete")})]})]})]})}),e.jsxs("div",{className:"absolute bottom-3 left-4 right-4 z-10",children:[e.jsx(C,{href:route("vcard-builder.edit",r.id),children:e.jsx("h3",{className:"text-lg font-bold text-white truncate drop-shadow-md hover:underline cursor-pointer hover:text-primary-foreground",children:r.name})}),e.jsx("p",{className:"text-sm text-white/80 truncate",children:r.business_type})]})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:"outline",className:"capitalize font-medium",children:r.business_type}),r.expertise&&e.jsx(b,{variant:"secondary",className:"capitalize",children:r.expertise})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a("Created")," ",(v=window.appSettings)!=null&&v.formatDateTime?window.appSettings.formatDateTime(r.created_at,!1):new Date(r.created_at).toLocaleDateString()]})]})}),e.jsx("div",{className:"border-t border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 p-3",children:[e.jsx(C,{href:route("vcard-builder.edit",r.id),className:"col-span-1",children:e.jsxs(d,{variant:"default",className:"w-full h-9 bg-amber-500 hover:bg-amber-600",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),a("Edit")]})}),e.jsx("a",{href:r.custom_domain?"https://".concat(r.custom_domain):r.url_prefix&&r.url_prefix!==""?route("public.vcard.show",{prefix:r.url_prefix,slug:l(r.slug)}):route("public.vcard.show.direct",l(r.slug)),target:"_blank",rel:"noopener noreferrer",className:"col-span-1",children:e.jsxs(d,{variant:"outline",className:"w-full h-9 border-blue-500 text-blue-600 hover:bg-blue-50",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),a("Preview")]})})]})})]},r.id)})}),e.jsx("div",{className:"mt-6 bg-white dark:bg-gray-900 rounded-lg shadow",children:e.jsx(Q,{from:s.from||0,to:s.to||0,total:s.total||0,links:s.links,currentPage:s.current_page,lastPage:s.last_page,entityName:a("businesses"),onPageChange:r=>o.get(r)})})]}),e.jsx(_e,{isOpen:X,onClose:()=>S(!1),onConfirm:te,itemName:(p==null?void 0:p.name)||"",entityName:"business"}),e.jsx(be,{isOpen:ee,onClose:()=>T(!1),url:z,title:(p==null?void 0:p.name)||"Business"}),e.jsx(Se,{isOpen:re,onClose:()=>B(!1),url:z,title:(p==null?void 0:p.name)||"Business"})]})}function We(s){const f=new URL(window.location.href).searchParams.get("sort_field"),i=new URL(window.location.href).searchParams.get("sort_direction"),a=new URL(window.location.href).searchParams.get("view")||localStorage.getItem("vcard-view")||"list",h=f===s&&i==="asc"?"desc":"asc",c=new URL(window.location.href);c.searchParams.set("sort_field",s),c.searchParams.set("sort_direction",h),c.searchParams.set("view",a),o.get(c.toString())}export{Yr as default};

!function(){function e(l){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(l)}function l(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);l&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,t)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach(function(l){t(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}function t(l,n,t){return(n=function(l){var n=function(l,n){if("object"!=e(l)||!l)return l;var t=l[Symbol.toPrimitive];if(void 0!==t){var r=t.call(l,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(l)}(l,"string");return"symbol"==e(n)?n:n+""}(n))in l?Object.defineProperty(l,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):l[n]=t,l}function r(e,l){return function(e){if(Array.isArray(e))return e}(e)||function(e,l){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,r,a,s,u=[],c=!0,o=!1;try{if(a=(n=n.call(e)).next,0===l){if(Object(n)!==n)return;c=!1}else for(;!(c=(t=a.call(n)).done)&&(u.push(t.value),u.length!==l);c=!0);}catch(e){o=!0,r=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(o)throw r}}return u}}(e,l)||function(e,l){if(e){if("string"==typeof e)return a(e,l);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,l):void 0}}(e,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,l){(null==l||l>e.length)&&(l=e.length);for(var n=0,t=Array(l);n<l;n++)t[n]=e[n];return t}System.register(["./ui-legacy-Df76W54t.js","./page-template-legacy-et8O2PIf.js","./CrudTable-legacy-CnYddiyU.js","./CrudDeleteModal-legacy-BjIGkHEP.js","./columnRenderers-legacy-B_n5qhhE.js","./i18n-legacy-tKfG81Pa.js","./app-legacy-Ct73uABr.js","./pagination-legacy-C5GfrDQP.js","./search-and-filter-bar-legacy-CmRxlo_P.js","./vendor-legacy-DNs0y6R6.js","./app-layout-legacy-BbvocKkk.js","./app-sidebar-layout-legacy-DjGq5XwB.js","./textarea-legacy-DhpF_zd4.js","./select-legacy-DJ7KqnGK.js","./index-legacy-BrP_l-Mm.js","./chevron-up-legacy-C3cU62dz.js","./react-country-flag.esm-legacy-C8Qm_EdK.js","./language-legacy-CPKUrWoi.js","./sparkles-legacy-DXvM6dmp.js","./loader-circle-legacy-BAWBSNTr.js","./copy-legacy-CyY0zsNU.js","./chevron-right-legacy-D5fLjpJA.js","./language-switcher-legacy-BfnK_KLk.js","./globe-legacy-D167FJxM.js","./chart-column-legacy-xaxxIszB.js","./briefcase-legacy-fFmYMQCB.js","./package-legacy-BXVFs7qu.js","./credit-card-legacy-oVK_vO6r.js","./dollar-sign-legacy-De4_eAPE.js","./mail-legacy-DchUy0NJ.js","./users-legacy-CIHfY2gt.js","./settings-legacy-BXGYMxCJ.js","./message-square-legacy-CVHCr5Dt.js","./calendar-legacy-DdDaxKxU.js","./wallet-legacy-DOeLcv8c.js","./shopping-bag-legacy-BRpvr-V3.js","./building-2-legacy-Dj3cFBKu.js","./user-legacy-cMI1gv9J.js","./arrow-left-legacy-CqQR3bfj.js","./use-favicon-legacy-CbpIBPd5.js","./cookie-consent-legacy-BD_speLP.js","./table-legacy-DMkF8XyN.js","./activity-legacy-qEFGj3ED.js","./unlink-legacy-B-z4dptl.js","./arrow-up-legacy-pwFWK0Nm.js","./arrow-right-legacy-Cfkqbzln.js","./arrow-up-down-legacy-DADQmmAj.js","./arrow-up-right-legacy-DhqDNMSc.js","./award-legacy-1YF8hGuu.js","./banknote-legacy-DvdjeEGr.js","./bell-ring-legacy-C_ZRzTvz.js","./bot-legacy-Cq7Fvcb_.js","./crown-legacy-BOlfPL-z.js","./building-legacy-Cd7zlonT.js","./youtube-legacy-CFlSkXto.js","./camera-legacy-Dd-Wp0pf.js","./wrench-legacy-DDEScOmL.js","./chart-pie-legacy-D_jHmHdg.js","./chevron-left-legacy-CBzzFiYy.js","./circle-check-big-legacy-Dccr4Wi1.js","./circle-check-legacy-BQGACsTH.js","./circle-help-legacy-_6ND9uDH.js","./pencil-line-legacy-C-iBrfpN.js","./circle-x-legacy-BdJQBC_9.js","./circle-legacy-BZU12gvH.js","./clock-legacy-OYgw2bvN.js","./code-legacy-CD7E-MSX.js","./indian-rupee-legacy-DvIWk5Aw.js","./compass-legacy-Cib5yt8q.js","./download-legacy-DkH8e7Wo.js","./droplet-legacy-BKwjobrI.js","./ellipsis-vertical-legacy-j4YSGbwm.js","./ellipsis-legacy-DBG1h6S6.js","./external-link-legacy-ByGyBoEL.js","./eye-off-legacy-BsSxS_Hc.js","./eye-legacy-Bjr5hUAR.js","./facebook-legacy-DrnaedmE.js","./power-legacy-Dv2Ix3iz.js","./filter-legacy-BAhWbv77.js","./graduation-cap-legacy-DUNA-Z3b.js","./navigation-legacy-BtmYfG94.js","./grip-vertical-legacy-4mYFDKFJ.js","./hammer-legacy-kJY1ntOM.js","./hard-drive-legacy-C2FYzfP2.js","./heart-legacy-D0LbDgyZ.js","./house-legacy-CsiLg80O.js","./instagram-legacy-CXTRGjkL.js","./lock-open-legacy-DtJ2AF9u.js","./layers-legacy-B_4hYWjh.js","./leaf-legacy-_8yl_EOv.js","./lightbulb-legacy-C1U_GpYo.js","./link-2-legacy-ChlCC2ap.js","./linkedin-legacy-iG5PF7m5.js","./list-legacy-D-kIW24o.js","./lock-legacy-CiAXJP-P.js","./map-pin-legacy-C8q_6w13.js","./menu-legacy-D4E1bl_9.js","./message-circle-legacy-xY-4Lg5Y.js","./monitor-legacy-zlm-zjjO.js","./pencil-legacy-BhqsOyIl.js","./shield-check-legacy-DU0LL7Mi.js","./phone-legacy-Bw_bEeHz.js","./play-legacy-go6--FBd.js","./qr-code-legacy-BXob85p2.js","./quote-legacy-CA3k2GyX.js","./refresh-cw-legacy-ByjSkNji.js","./rocket-legacy-BfeBCF9C.js","./send-legacy-CbzSH1sf.js","./server-legacy-DQuN1-Ol.js","./share-2-legacy-D3gH8VZe.js","./shield-legacy-DQ5qNese.js","./shopping-cart-legacy-BNMDMyko.js","./smartphone-legacy-HSi3blOa.js","./square-pen-legacy-Bg3q-gjR.js","./star-legacy-H9DVfP6_.js","./sticky-note-legacy-9f1os5Gw.js","./store-legacy-Ca4Gm8Mw.js","./sun-medium-legacy-Dqp_z2t2.js","./tag-legacy-DfJrCzG8.js","./target-legacy-DTCKFHXT.js","./ticket-legacy-vDMhl5Iy.js","./trash-2-legacy-ZzhgHTxS.js","./trending-up-legacy-mdgqrkTY.js","./twitter-legacy-ok4-c2gy.js","./type-legacy-z3nQea3c.js","./user-x-legacy-gG1nfv5r.js","./video-legacy-CpBS_ohJ.js","./waves-legacy-0TsdQcdR.js","./webhook-legacy-MypP2g6T.js","./wifi-legacy-NUNRk_Rd.js","./zap-legacy-B-66XYlF.js","./switch-legacy-t_Z_CqVY.js","./utils-legacy-4AQaPo1J.js","./date-picker-legacy-Cpc8-hXR.js"],function(e,l){"use strict";var a,s,u,c,o,i,g,y,p,j,d,f,b;return{setters:[function(e){a=e.r,s=e.j},function(e){u=e.P},function(e){c=e.C},function(e){o=e.C},function(e){i=e.c},function(e){g=e.t},function(e){y=e.u,p=e.K,j=e.t,d=e.S},function(e){f=e.P},function(e){b=e.S},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",function(){var e,i,g,v,m=y().t,h=p().props,S=h.flash,w=h.planRequests,k=h.filters,q=void 0===k?{}:k,P=h.auth,O=h.isSuperAdmin,x=void 0!==O&&O,A=(null==P?void 0:P.permissions)||[],C=r(a.useState(q.search||""),2),E=C[0],D=C[1],N=r(a.useState({}),2),R=N[0],F=N[1],_=r(a.useState(!1),2),M=_[0],T=_[1],I=r(a.useState(!1),2),z=I[0],K=I[1],U=r(a.useState(null),2),W=U[0],X=U[1];a.useEffect(function(){null!=S&&S.success&&j.success(S.success),null!=S&&S.error&&j.error(S.error)},[S]),a.useEffect(function(){var e,n={};null===(e=l.filters)||void 0===e||e.forEach(function(e){n[e.key]=q[e.key]||""}),F(n)},[]);var Y=function(){var e={page:1};E&&(e.search=E),Object.entries(R).forEach(function(l){var n=r(l,2),t=n[0],a=n[1];a&&"all"!==a&&(e[t]=a)}),q.per_page&&(e.per_page=q.per_page),d.get(route("plan-requests.index"),e,{preserveState:!0,preserveScroll:!0})},$=[{title:m("Dashboard"),href:route("dashboard")},{title:m("Plans"),href:route("plans.index")},{title:m(x?"Plan Requests":"My Plan Requests")}],B=null===(e=l.table.actions)||void 0===e?void 0:e.map(function(e){return n(n({},e),{},{label:m(e.label)})});return s.jsxs(u,{title:m(x?"Plan Requests":"My Plan Requests"),url:"/plan-requests",breadcrumbs:$,noPadding:!0,children:[s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow mb-4 p-4",children:s.jsx(b,{searchTerm:E,onSearchChange:D,onSearch:function(e){e.preventDefault(),Y()},filters:(null===(i=l.filters)||void 0===i?void 0:i.map(function(e){var l;return{name:e.key,label:m(e.label),type:"select",value:R[e.key]||"",onChange:function(l){return function(e,l){F(function(r){return n(n({},r),{},t({},e,l))});var a={page:1};E&&(a.search=E);var s=n(n({},R),{},t({},e,l));Object.entries(s).forEach(function(e){var l=r(e,2),n=l[0],t=l[1];t&&"all"!==t&&(a[n]=t)}),q.per_page&&(a.per_page=q.per_page),d.get(route("plan-requests.index"),a,{preserveState:!0,preserveScroll:!0})}(e.key,l)},options:(null===(l=e.options)||void 0===l?void 0:l.map(function(e){return{value:e.value,label:m(e.label)}}))||[]}}))||[],showFilters:M,setShowFilters:T,hasActiveFilters:function(){return Object.entries(R).some(function(e){var l=r(e,2),n=(l[0],l[1]);return n&&""!==n})||""!==E},activeFilterCount:function(){return Object.values(R).filter(function(e){return e&&""!==e}).length+(E?1:0)},onResetFilters:function(){D(""),F({}),d.get(route("plan-requests.index"),{page:1},{preserveState:!0,preserveScroll:!0})},onApplyFilters:Y,currentPerPage:(null===(g=q.per_page)||void 0===g?void 0:g.toString())||"10",onPerPageChange:function(e){var l={page:1,per_page:parseInt(e)};E&&(l.search=E),Object.entries(R).forEach(function(e){var n=r(e,2),t=n[0],a=n[1];a&&""!==a&&(l[t]=a)}),d.get(route("plan-requests.index"),l,{preserveState:!0,preserveScroll:!0})}})}),s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow overflow-hidden",children:[s.jsx(c,{columns:l.table.columns.filter(function(e){return x||"user.name"!==e.key}).map(function(e){return n(n({},e),{},{label:m(e.label)})}),actions:B,data:(null==w?void 0:w.data)||[],from:(null==w?void 0:w.from)||1,onAction:function(e,l){"approve"===e?d.post(route("plan-requests.approve",l.id),{},{onSuccess:function(){},onError:function(){j.error(m("Failed to approve plan request"))}}):"reject"===e?d.post(route("plan-requests.reject",l.id),{},{onSuccess:function(){j.success(m("Plan request rejected successfully"))},onError:function(){j.error(m("Failed to reject plan request"))}}):"delete"===e&&(X(l),K(!0))},permissions:A,entityPermissions:l.entity.permissions,context:{isSuperAdmin:x}}),s.jsx(f,{from:(null==w?void 0:w.from)||0,to:(null==w?void 0:w.to)||0,total:(null==w?void 0:w.total)||0,links:null==w?void 0:w.links,entityName:m("plan requests"),onPageChange:function(e){return d.get(e)}})]}),s.jsx(o,{isOpen:z,onClose:function(){return K(!1)},onConfirm:function(){j.loading(m("Deleting order request...")),d.delete(route("plan-requests.destroy",W.id),{onSuccess:function(){K(!1),j.dismiss(),j.success(m("Plan request deleted successfully"))},onError:function(e){j.dismiss(),j.error(m("Failed to delete plan request"))}})},itemName:"Request #".concat(null==W||null===(v=W.plan)||void 0===v?void 0:v.name)||"",entityName:"Plan request"})]})});var l={entity:{endpoint:route("plan-requests.index"),permissions:{view:"view-plan-requests",create:"create-plan-requests",edit:"edit-plan-requests",delete:"delete-plan-requests"}},description:g("Manage plan upgrade requests from users"),table:{columns:[{key:"user.name",label:g("Name"),sortable:!0},{key:"user.email",label:g("Email"),sortable:!0},{key:"plan.name",label:g("Plan Name"),sortable:!0},{key:"duration",label:g("Plan Duration"),render:function(e){return g("monthly"===e?"Monthly":"Yearly")}},{key:"status",label:g("Status"),render:i.status()},{key:"created_at",label:g("Requested At"),sortable:!0,render:function(e){return"".concat(window.appSettings.formatDateTime(e,!1))}}],actions:[{label:g("Approve"),icon:"Check",action:"approve",className:"text-green-600",condition:function(e,l){return"pending"===e.status&&(null==l?void 0:l.isSuperAdmin)}},{label:g("Reject"),icon:"X",action:"reject",className:"text-red-600",condition:function(e,l){return"pending"===e.status&&(null==l?void 0:l.isSuperAdmin)}},{label:g("Delete"),icon:"Trash2",action:"delete",className:"text-red-500",condition:function(e,l){return"pending"===e.status&&!(null!=l&&l.isSuperAdmin)}}]},search:{placeholder:g("Search plan requests...")},filters:[{key:"status",label:g("Status"),type:"select",options:[{value:"all",label:g("All Status")},{value:"pending",label:g("Pending")},{value:"approved",label:g("Approved")},{value:"rejected",label:g("Rejected")}]}]}}}})}();
